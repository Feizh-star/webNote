<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta name="theme-color" content="#2B3A42"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="robots" content="noindex,nofollow"/><title>webpack å®˜æ–¹ä¸­æ–‡æ–‡æ¡£</title><meta name="description" content="webpack æ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨ã€‚å®ƒçš„ä¸»è¦ç›®æ ‡æ˜¯å°† JavaScript æ–‡ä»¶æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œæ‰“åŒ…åçš„æ–‡ä»¶ç”¨äºåœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ï¼Œä½†å®ƒä¹Ÿèƒ½å¤Ÿèƒœä»»è½¬æ¢ï¼ˆtransformï¼‰ã€æ‰“åŒ…ï¼ˆbundleï¼‰æˆ–åŒ…è£¹ï¼ˆpackageï¼‰ä»»ä½•èµ„æº(resource or asset)ã€‚"/><meta property="og:site_name" content="webpack"/><meta property="og:type" content="website"/><meta property="og:title" content="webpack å®˜æ–¹ä¸­æ–‡æ–‡æ¡£"/><meta property="og:description" name="description" content="webpack æ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨ã€‚å®ƒçš„ä¸»è¦ç›®æ ‡æ˜¯å°† JavaScript æ–‡ä»¶æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œæ‰“åŒ…åçš„æ–‡ä»¶ç”¨äºåœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ï¼Œä½†å®ƒä¹Ÿèƒ½å¤Ÿèƒœä»»è½¬æ¢ï¼ˆtransformï¼‰ã€æ‰“åŒ…ï¼ˆbundleï¼‰æˆ–åŒ…è£¹ï¼ˆpackageï¼‰ä»»ä½•èµ„æº(resource or asset)ã€‚"/><meta property="og:image" content="https://webpack.js.org/icon-pwa-512x512.d3dae4189855b3a72ff9.png"/><meta property="twitter:card" content="summary"/><meta property="twitter:site" content="@webpack"/><meta property="twitter:creator" content="@webpack"/><meta property="twitter:domain" content="https://webpack.js.org/"/><meta name="keywords" content="webpack5, webpack, webpack ä¸­æ–‡æ–‡æ¡£, å°è®°ä¸­æ–‡, docschina, docschina.org, webpack.docschina.org, doc.react-china.org, nodejs.cn, vue.docschina.org, babel.docschina.org, parceljs.docschina.org, rollup.docschina.org, koajs.docschina.org"/><link rel="icon" type="image/x-icon" href="/favicon.f326220248556af65f41.ico"/><link rel="stylesheet" href="../../index.62a0b2891bdf09ef93b2.css" tppabs="https://webpack.docschina.org/index.62a0b2891bdf09ef93b2.css"/><link rel="manifest" href="/manifest.json"/><link rel="canonical" href="https://webpack.js.org/configuration/printable/"/><meta name="mobile-web-app-capable" content="yes"/><link rel="icon" sizes="192x192" href="/icon_192x192.png"/><link rel="icon" sizes="512x512" href="/icon_512x512.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="apple-mobile-web-app-title" content="webpack"/><link rel="apple-touch-icon" href="/icon_180x180.png"/><link rel="mask-icon" href="/logo-on-white-bg.47eff95f9c01c5972f6f.svg" color="#465e69"/><meta name="msapplication-TileImage" content="/icon_150x150.png"/><meta name="msapplication-TileColor" content="#465e69"/></head><body><div id="root"><div class="site"><div class="site__header"><div class="notification-bar"><div class="container notification-bar__inner"><p>Webpack 5 ç°å·²æ­£å¼å‘å¸ƒã€‚è¯·é˜…è¯»æˆ‘ä»¬çš„ <a href="../../blog/2020-10-10-webpack-5-release/index.htm" tppabs="https://webpack.docschina.org/blog/2020-10-10-webpack-5-release/">å‘å¸ƒå…¬å‘Š</a>ã€‚å¦‚è¿˜æœªå‡†å¤‡å‡çº§ï¼Œè¯·é˜…è¯» <a href="javascript:if(confirm('https://v4.webpack.docschina.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://v4.webpack.docschina.org/'" tppabs="https://v4.webpack.docschina.org/">webpack 4 æ–‡æ¡£</a>ã€‚</p></div></div><header class="navigation   "><section class="navigation__inner"><button aria-label="Open menu" class="navigation__mobile"><svg viewBox="-62 138 25 25"><g><g><path d="M-60.2,140.2h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,141-61.2,140.2-60.2,140.2z"></path><path d="M-60.2,148.7h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,149.5-61.2,148.7-60.2,148.7z"></path><path d="M-60.2,157.2h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,158-61.2,157.2-60.2,157.2z"></path></g></g></svg></button><a class="navigation__logo" href="../../index-1.htm" tppabs="https://webpack.docschina.org/"><img class="logo" src="../../site-logo.1fcab817090e78435061.svg" tppabs="https://webpack.docschina.org/site-logo.1fcab817090e78435061.svg" alt="webpack logo"/></a><nav class="navigation__items"><a class="navigation__item  navigation__item--active" href="../../concepts/index.htm" tppabs="https://webpack.docschina.org/concepts/">ä¸­æ–‡æ–‡æ¡£</a><a class="navigation__item  " href="../../contribute/index.htm" tppabs="https://webpack.docschina.org/contribute/">å‚ä¸è´¡çŒ®</a><a class="navigation__item  " href="../../vote/index.htm" tppabs="https://webpack.docschina.org/vote/">æŠ•ç¥¨</a><a class="navigation__item  " href="../../blog/index.htm" tppabs="https://webpack.docschina.org/blog/">åšå®¢</a><a href="javascript:if(confirm('https://docschina.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://docschina.org/'" tppabs="https://docschina.org/" target="_blank" rel="noopener noreferrer" class="navigation__item  ">å°è®°ä¸­æ–‡</a><a href="javascript:if(confirm('https://github.com/webpack/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack'" tppabs="https://github.com/webpack/webpack" target="_blank" rel="noopener noreferrer" title="GitHub Repository" class="navigation__item navigation__item--icon "><svg viewBox="0 0 24 24" aria-hidden="true" fill="#fff" width="16"><path d="M12 2A10 10 0 002 12a10 10 0 006.8 9.5c.5 0 .7-.2.7-.5v-1.7C6.7 20 6.1 18 6.1 18c-.4-1.2-1-1.5-1-1.5-1-.6 0-.6 0-.6 1 0 1.5 1 1.5 1 .9 1.6 2.4 1.1 3 .9 0-.7.3-1.1.6-1.4-2.2-.2-4.6-1-4.6-4.9 0-1.1.4-2 1-2.7 0-.3-.4-1.3.2-2.7 0 0 .8-.2 2.7 1a9.4 9.4 0 015 0c2-1.2 2.8-1 2.8-1 .5 1.4.1 2.4 0 2.7.7.7 1 1.6 1 2.7 0 3.8-2.3 4.7-4.5 5 .4.2.7.8.7 1.8V21c0 .3.2.6.7.5 4-1.3 6.8-5 6.8-9.5A10 10 0 0012 2z"></path></svg></a><a href="javascript:if(confirm('https://twitter.com/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://twitter.com/webpack'" tppabs="https://twitter.com/webpack" target="_blank" rel="noopener noreferrer" title="webpack on Twitter" class="navigation__item navigation__item--icon "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" aria-hidden="true" fill="#fff" width="16"><path d="M28 6.937c-.957.425-1.985.711-3.064.84a5.343 5.343 0 002.345-2.951 10.696 10.696 0 01-3.388 1.295 5.334 5.334 0 00-9.089 4.864A15.143 15.143 0 013.809 5.411a5.321 5.321 0 00-.721 2.683 5.33 5.33 0 002.372 4.439 5.323 5.323 0 01-2.416-.667v.067a5.335 5.335 0 004.279 5.23 5.336 5.336 0 01-2.409.092 5.34 5.34 0 004.983 3.705 10.699 10.699 0 01-6.625 2.284c-.43 0-.855-.025-1.273-.075a15.102 15.102 0 008.177 2.396c9.812 0 15.176-8.128 15.176-15.177 0-.231-.005-.461-.015-.69A10.855 10.855 0 0028 6.937z"></path></svg></a><a href="javascript:if(confirm('https://stackoverflow.com/questions/tagged/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://stackoverflow.com/questions/tagged/webpack'" tppabs="https://stackoverflow.com/questions/tagged/webpack" target="_blank" rel="noopener noreferrer" title="webpack on Stack Overflow" class="navigation__item navigation__item--icon "><svg viewBox="0 0 24 24" aria-hidden="true" fill="#fff" width="16"><path d="M17.4 20.2v-5.4h1.8V22H3v-7.2h1.8v5.4h12.6M6.8 14.3l.3-1.7 8.8 1.8-.3 1.8-8.8-1.9m1.1-4.2l.8-1.6 8.1 3.8-.7 1.6-8.2-3.8m2.3-4l1.1-1.4 7 5.8-1.2 1.4L10 6m4.7-4L20 9l-1.4 1-5.4-7 1.4-1m-8 16.5v-1.8h9v1.8h-9z"></path></svg></a><span class="navigation__item navigation__item--icon"><nav class="dropdown navigation__languages"><button aria-haspopup="true" aria-expanded="false" aria-label="Select language"><img class="dropdown__language" alt="select language" src="../../language-icon.87a028c9bf555eeb5932.svg" tppabs="https://webpack.docschina.org/language-icon.87a028c9bf555eeb5932.svg"/><i aria-hidden="true" class="dropdown__arrow"></i></button><div class="dropdown__list "><ul><li><a href="javascript:if(confirm('https://webpack.js.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://webpack.js.org/'" tppabs="https://webpack.js.org/"><span>English</span></a></li><li><a href="../../index-1.htm" tppabs="https://webpack.docschina.org/"><span lang="zh">ä¸­æ–‡</span></a></li></ul></div></nav></span></nav><div class="navigation-search "><input type="text" class="navigation-search__input" placeholder="Search this site..." value=""/><button aria-label="Hide search box" class="navigation-search__icon navigation-search__clear"><svg viewBox="-137 138 25 25"><g transform="translate(0,-952.36218)"><path d="M-131.3,1094.4c-0.4,0-0.9,0.1-1.2,0.5c-0.7,0.7-0.7,1.7,0,2.4l5.6,5.6l-5.6,5.6c-0.7,0.7-0.7,1.7,0,2.4 c0.7,0.7,1.7,0.7,2.4,0l5.6-5.6l5.6,5.6c0.7,0.7,1.7,0.7,2.4,0c0.7-0.7,0.7-1.7,0-2.4l-5.6-5.6l5.6-5.6c0.7-0.7,0.7-1.7,0-2.4 c-0.7-0.7-1.7-0.7-2.4,0l-5.6,5.6l-5.6-5.6C-130.5,1094.5-130.9,1094.4-131.3,1094.4L-131.3,1094.4z"></path></g></svg></button><button aria-label="Show search box" class="navigation-search__icon navigation-search__search"><svg viewBox="-137 138 25 25"><g><path d="M-114.6,162.6l-7.5-7.5c-0.6-0.6-0.6-1.6,0-2.1l0,0c0.6-0.6,1.6-0.6,2.1,0l7.5,7.5c0.6,0.6,0.6,1.6,0,2.1l0,0 C-113,163.1-114,163.1-114.6,162.6z"></path><path d="M-134.1,140.9c-3.9,3.9-3.9,10.2,0,14.1s10.2,3.9,14.1,0s3.9-10.2,0-14.1S-130.2,137-134.1,140.9z M-122.1,153 c-2.7,2.7-7.1,2.7-9.8,0s-2.7-7.1,0-9.8s7.1-2.7,9.8,0C-119.4,145.9-119.4,150.2-122.1,153z"></path></g></svg></button></div></section><div class="navigation-sub"><div class="navigation-sub__inner"><a class="navigation-sub__link " title="api" content="api" href="../../api/index.htm" tppabs="https://webpack.docschina.org/api/">api</a><a class="navigation-sub__link " title="blog" content="blog" href="../../blog/index.htm" tppabs="https://webpack.docschina.org/blog/">blog</a><a class="navigation-sub__link " title="æ¦‚å¿µ" content="æ¦‚å¿µ" href="../../concepts/index.htm" tppabs="https://webpack.docschina.org/concepts/">æ¦‚å¿µ</a><a class="navigation-sub__link navigation-sub__link--active" title="é…ç½®" content="é…ç½®" href="../index.htm" tppabs="https://webpack.docschina.org/configuration/">é…ç½®</a><a class="navigation-sub__link " title="æŒ‡å—" content="æŒ‡å—" href="../../guides/index.htm" tppabs="https://webpack.docschina.org/guides/">æŒ‡å—</a><a class="navigation-sub__link " title="loader" content="loader" href="../../loaders/index.htm" tppabs="https://webpack.docschina.org/loaders/">loader</a><a class="navigation-sub__link " title="è¿ç§»" content="è¿ç§»" href="../../migrate/index.htm" tppabs="https://webpack.docschina.org/migrate/">è¿ç§»</a><a class="navigation-sub__link " title="plugin" content="plugin" href="../../plugins/index.htm" tppabs="https://webpack.docschina.org/plugins/">plugin</a></div></div></header></div><div class="container site__content"><div class="sponsors"><a href="javascript:if(confirm('https://www.ag-grid.com/?utm_source=webpack&utm_medium=banner&utm_campaign=sponsorship  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.ag-grid.com/?utm_source=webpack&utm_medium=banner&utm_campaign=sponsorship'" tppabs="https://www.ag-grid.com/?utm_source=webpack&utm_medium=banner&utm_campaign=sponsorship" target="_blank" rel="noopener noreferrer" class="sponsors__content"><img src="../../ag-grid-logo.4fe9d34532b2c0821fc9.png" tppabs="https://webpack.docschina.org/ag-grid-logo.4fe9d34532b2c0821fc9.png"/><img class="sponsors__img__webpack" src="../../icon-square-small.85ba630cf0c5f29ae3e3.svg" tppabs="https://webpack.docschina.org/icon-square-small.85ba630cf0c5f29ae3e3.svg"/><div class="sponsors__content-cont">ag-grid is proud to partner with webpack</div></a></div><nav class="sidebar site__sidebar"><div class="sidebar__inner"><div class="sidebar__shields"><a href="javascript:if(confirm('https://github.com/webpack/webpack/releases  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/releases'" tppabs="https://github.com/webpack/webpack/releases"><img alt="webpack shield" src="../../../img.shields.io/github/package-json/v/webpack/webpack.svg-label=webpack&style=flat-square&maxAge=3600" tppabs="https://img.shields.io/github/package-json/v/webpack/webpack.svg?label=webpack&style=flat-square&maxAge=3600"/></a></div><div class="sidebar-item sidebar-item--disabled`"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8.2.2.5.4.8.4.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8-.2-.2-.5-.4-.8-.4z" color="#000" style="isolation:auto;mix-blend-mode:normal"></path></svg><a class="sidebar-item__title sidebar-link__print" href="index.htm" tppabs="https://webpack.docschina.org/configuration/printable/" rel="nofollow noopener noreferrer" alt="Print" title="Print" target="_blank">Print Section<img src="../../icon-print.42ad40feec51e6f5f553.svg" tppabs="https://webpack.docschina.org/icon-print.42ad40feec51e6f5f553.svg"/></a></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../index.htm" tppabs="https://webpack.docschina.org/configuration/">é…ç½®</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="ä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶"><a href="../index.htm#use-different-configuration-file" tppabs="https://webpack.docschina.org/configuration/#use-different-configuration-file">ä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶</a></li><li class="sidebar-item__anchor" title="é€‰é¡¹"><a href="../index.htm#options" tppabs="https://webpack.docschina.org/configuration/#options">é€‰é¡¹</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../configuration-languages/index.htm" tppabs="https://webpack.docschina.org/configuration/configuration-languages/">Configuration Languages</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="TypeScript"><a href="../configuration-languages/index.htm#typescript" tppabs="https://webpack.docschina.org/configuration/configuration-languages/#typescript">TypeScript</a></li><li class="sidebar-item__anchor" title="CoffeeScript"><a href="../configuration-languages/index.htm#coffeescript" tppabs="https://webpack.docschina.org/configuration/configuration-languages/#coffeescript">CoffeeScript</a></li><li class="sidebar-item__anchor" title="Babel and JSX"><a href="../configuration-languages/index.htm#babel-and-jsx" tppabs="https://webpack.docschina.org/configuration/configuration-languages/#babel-and-jsx">Babel and JSX</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../configuration-types/index.htm" tppabs="https://webpack.docschina.org/configuration/configuration-types/">Configuration Types</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="å¯¼å‡ºå‡½æ•°"><a href="../configuration-types/index.htm#exporting-a-function" tppabs="https://webpack.docschina.org/configuration/configuration-types/#exporting-a-function">å¯¼å‡ºå‡½æ•°</a></li><li class="sidebar-item__anchor" title="å¯¼å‡º Promise"><a href="../configuration-types/index.htm#exporting-a-promise" tppabs="https://webpack.docschina.org/configuration/configuration-types/#exporting-a-promise">å¯¼å‡º Promise</a></li><li class="sidebar-item__anchor" title="å¯¼å‡ºå¤šç§é…ç½®"><a href="../configuration-types/index.htm#exporting-multiple-configurations" tppabs="https://webpack.docschina.org/configuration/configuration-types/#exporting-multiple-configurations">å¯¼å‡ºå¤šç§é…ç½®</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../entry-context/index.htm" tppabs="https://webpack.docschina.org/configuration/entry-context/">å…¥å£å’Œä¸Šä¸‹æ–‡(entry and context)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="context"><a href="../entry-context/index.htm#context" tppabs="https://webpack.docschina.org/configuration/entry-context/#context">context</a></li><li class="sidebar-item__anchor" title="entry"><a href="../entry-context/index.htm#entry" tppabs="https://webpack.docschina.org/configuration/entry-context/#entry">entry</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Naming"><a href="../entry-context/index.htm#naming" tppabs="https://webpack.docschina.org/configuration/entry-context/#naming">Naming</a></li><li class="sidebar-item__anchor" title="Entry descriptor"><a href="../entry-context/index.htm#entry-descriptor" tppabs="https://webpack.docschina.org/configuration/entry-context/#entry-descriptor">Entry descriptor</a></li><li class="sidebar-item__anchor" title="Output filename"><a href="../entry-context/index.htm#output-filename" tppabs="https://webpack.docschina.org/configuration/entry-context/#output-filename">Output filename</a></li><li class="sidebar-item__anchor" title="Dependencies"><a href="../entry-context/index.htm#dependencies" tppabs="https://webpack.docschina.org/configuration/entry-context/#dependencies">Dependencies</a></li><li class="sidebar-item__anchor" title="Dynamic entry"><a href="../entry-context/index.htm#dynamic-entry" tppabs="https://webpack.docschina.org/configuration/entry-context/#dynamic-entry">Dynamic entry</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../mode/index.htm" tppabs="https://webpack.docschina.org/configuration/mode/">æ¨¡å¼ï¼ˆModeï¼‰</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="ç”¨æ³•"><a href="../mode/index.htm#usage" tppabs="https://webpack.docschina.org/configuration/mode/#usage">ç”¨æ³•</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Mode: development"><a href="../mode/index.htm#mode-development" tppabs="https://webpack.docschina.org/configuration/mode/#mode-development">Mode: development</a></li><li class="sidebar-item__anchor" title="Mode: production"><a href="../mode/index.htm#mode-production" tppabs="https://webpack.docschina.org/configuration/mode/#mode-production">Mode: production</a></li><li class="sidebar-item__anchor" title="Mode: none"><a href="../mode/index.htm#mode-none" tppabs="https://webpack.docschina.org/configuration/mode/#mode-none">Mode: none</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../output/index.htm" tppabs="https://webpack.docschina.org/configuration/output/">è¾“å‡º(output)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="output.auxiliaryComment"><a href="../output/index.htm#outputauxiliarycomment" tppabs="https://webpack.docschina.org/configuration/output/#outputauxiliarycomment">output.auxiliaryComment</a></li><li class="sidebar-item__anchor" title="output.charset"><a href="../output/index.htm#outputcharset" tppabs="https://webpack.docschina.org/configuration/output/#outputcharset">output.charset</a></li><li class="sidebar-item__anchor" title="output.chunkFilename"><a href="../output/index.htm#outputchunkfilename" tppabs="https://webpack.docschina.org/configuration/output/#outputchunkfilename">output.chunkFilename</a></li><li class="sidebar-item__anchor" title="output.chunkLoadTimeout"><a href="../output/index.htm#outputchunkloadtimeout" tppabs="https://webpack.docschina.org/configuration/output/#outputchunkloadtimeout">output.chunkLoadTimeout</a></li><li class="sidebar-item__anchor" title="output.chunkLoadingGlobal"><a href="../output/index.htm#outputchunkloadingglobal" tppabs="https://webpack.docschina.org/configuration/output/#outputchunkloadingglobal">output.chunkLoadingGlobal</a></li><li class="sidebar-item__anchor" title="output.chunkLoading"><a href="../output/index.htm#outputchunkloading" tppabs="https://webpack.docschina.org/configuration/output/#outputchunkloading">output.chunkLoading</a></li><li class="sidebar-item__anchor" title="output.chunkFormat"><a href="../output/index.htm#outputchunkformat" tppabs="https://webpack.docschina.org/configuration/output/#outputchunkformat">output.chunkFormat</a></li><li class="sidebar-item__anchor" title="output.enabledChunkLoadingTypes"><a href="../output/index.htm#outputenabledchunkloadingtypes" tppabs="https://webpack.docschina.org/configuration/output/#outputenabledchunkloadingtypes">output.enabledChunkLoadingTypes</a></li><li class="sidebar-item__anchor" title="output.crossOriginLoading"><a href="../output/index.htm#outputcrossoriginloading" tppabs="https://webpack.docschina.org/configuration/output/#outputcrossoriginloading">output.crossOriginLoading</a></li><li class="sidebar-item__anchor" title="output.devtoolFallbackModuleFilenameTemplate"><a href="../output/index.htm#outputdevtoolfallbackmodulefilenametemplate" tppabs="https://webpack.docschina.org/configuration/output/#outputdevtoolfallbackmodulefilenametemplate">output.devtoolFallbackModuleFilenameTemplate</a></li><li class="sidebar-item__anchor" title="output.devtoolModuleFilenameTemplate"><a href="../output/index.htm#outputdevtoolmodulefilenametemplate" tppabs="https://webpack.docschina.org/configuration/output/#outputdevtoolmodulefilenametemplate">output.devtoolModuleFilenameTemplate</a></li><li class="sidebar-item__anchor" title="output.devtoolNamespace"><a href="../output/index.htm#outputdevtoolnamespace" tppabs="https://webpack.docschina.org/configuration/output/#outputdevtoolnamespace">output.devtoolNamespace</a></li><li class="sidebar-item__anchor" title="output.filename"><a href="../output/index.htm#outputfilename" tppabs="https://webpack.docschina.org/configuration/output/#outputfilename">output.filename</a></li><li class="sidebar-item__anchor" title="Template strings"><a href="../output/index.htm#template-strings" tppabs="https://webpack.docschina.org/configuration/output/#template-strings">Template strings</a></li><li class="sidebar-item__anchor" title="output.assetModuleFilename"><a href="../output/index.htm#outputassetmodulefilename" tppabs="https://webpack.docschina.org/configuration/output/#outputassetmodulefilename">output.assetModuleFilename</a></li><li class="sidebar-item__anchor" title="output.globalObject"><a href="../output/index.htm#outputglobalobject" tppabs="https://webpack.docschina.org/configuration/output/#outputglobalobject">output.globalObject</a></li><li class="sidebar-item__anchor" title="output.uniqueName"><a href="../output/index.htm#outputuniquename" tppabs="https://webpack.docschina.org/configuration/output/#outputuniquename">output.uniqueName</a></li><li class="sidebar-item__anchor" title="output.hashDigest"><a href="../output/index.htm#outputhashdigest" tppabs="https://webpack.docschina.org/configuration/output/#outputhashdigest">output.hashDigest</a></li><li class="sidebar-item__anchor" title="output.hashDigestLength"><a href="../output/index.htm#outputhashdigestlength" tppabs="https://webpack.docschina.org/configuration/output/#outputhashdigestlength">output.hashDigestLength</a></li><li class="sidebar-item__anchor" title="output.hashFunction"><a href="../output/index.htm#outputhashfunction" tppabs="https://webpack.docschina.org/configuration/output/#outputhashfunction">output.hashFunction</a></li><li class="sidebar-item__anchor" title="output.hashSalt"><a href="../output/index.htm#outputhashsalt" tppabs="https://webpack.docschina.org/configuration/output/#outputhashsalt">output.hashSalt</a></li><li class="sidebar-item__anchor" title="output.hotUpdateChunkFilename"><a href="../output/index.htm#outputhotupdatechunkfilename" tppabs="https://webpack.docschina.org/configuration/output/#outputhotupdatechunkfilename">output.hotUpdateChunkFilename</a></li><li class="sidebar-item__anchor" title="output.hotUpdateGlobal"><a href="../output/index.htm#outputhotupdateglobal" tppabs="https://webpack.docschina.org/configuration/output/#outputhotupdateglobal">output.hotUpdateGlobal</a></li><li class="sidebar-item__anchor" title="output.hotUpdateMainFilename"><a href="../output/index.htm#outputhotupdatemainfilename" tppabs="https://webpack.docschina.org/configuration/output/#outputhotupdatemainfilename">output.hotUpdateMainFilename</a></li><li class="sidebar-item__anchor" title="output.library"><a href="../output/index.htm#outputlibrary" tppabs="https://webpack.docschina.org/configuration/output/#outputlibrary">output.library</a></li><li class="sidebar-item__anchor" title="output.scriptType"><a href="../output/index.htm#ouputscripttype" tppabs="https://webpack.docschina.org/configuration/output/#ouputscripttype">output.scriptType</a></li><li class="sidebar-item__anchor" title="output.libraryExport"><a href="../output/index.htm#outputlibraryexport" tppabs="https://webpack.docschina.org/configuration/output/#outputlibraryexport">output.libraryExport</a></li><li class="sidebar-item__anchor" title="output.libraryTarget"><a href="../output/index.htm#outputlibrarytarget" tppabs="https://webpack.docschina.org/configuration/output/#outputlibrarytarget">output.libraryTarget</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="æš´éœ²ä¸ºä¸€ä¸ªå˜é‡"><a href="../output/index.htm#expose-a-variable" tppabs="https://webpack.docschina.org/configuration/output/#expose-a-variable">æš´éœ²ä¸ºä¸€ä¸ªå˜é‡</a></li><li class="sidebar-item__anchor" title="é€šè¿‡åœ¨å¯¹è±¡ä¸Šèµ‹å€¼æš´éœ²"><a href="../output/index.htm#expose-via-object-assignment" tppabs="https://webpack.docschina.org/configuration/output/#expose-via-object-assignment">é€šè¿‡åœ¨å¯¹è±¡ä¸Šèµ‹å€¼æš´éœ²</a></li><li class="sidebar-item__anchor" title="æ¨¡å—å®šä¹‰ç³»ç»Ÿ"><a href="../output/index.htm#module-definition-systems" tppabs="https://webpack.docschina.org/configuration/output/#module-definition-systems">æ¨¡å—å®šä¹‰ç³»ç»Ÿ</a></li><li class="sidebar-item__anchor" title="å…¶ä»– Targets"><a href="../output/index.htm#other-targets" tppabs="https://webpack.docschina.org/configuration/output/#other-targets">å…¶ä»– Targets</a></li></ul></li><li class="sidebar-item__anchor" title="output.importFunctionName"><a href="../output/index.htm#outputimportfunctionname" tppabs="https://webpack.docschina.org/configuration/output/#outputimportfunctionname">output.importFunctionName</a></li><li class="sidebar-item__anchor" title="output.path"><a href="../output/index.htm#outputpath" tppabs="https://webpack.docschina.org/configuration/output/#outputpath">output.path</a></li><li class="sidebar-item__anchor" title="output.pathinfo"><a href="../output/index.htm#outputpathinfo" tppabs="https://webpack.docschina.org/configuration/output/#outputpathinfo">output.pathinfo</a></li><li class="sidebar-item__anchor" title="output.publicPath"><a href="../output/index.htm#outputpublicpath" tppabs="https://webpack.docschina.org/configuration/output/#outputpublicpath">output.publicPath</a></li><li class="sidebar-item__anchor" title="output.sourceMapFilename"><a href="../output/index.htm#outputsourcemapfilename" tppabs="https://webpack.docschina.org/configuration/output/#outputsourcemapfilename">output.sourceMapFilename</a></li><li class="sidebar-item__anchor" title="output.sourcePrefix"><a href="../output/index.htm#outputsourceprefix" tppabs="https://webpack.docschina.org/configuration/output/#outputsourceprefix">output.sourcePrefix</a></li><li class="sidebar-item__anchor" title="output.strictModuleExceptionHandling"><a href="../output/index.htm#outputstrictmoduleexceptionhandling" tppabs="https://webpack.docschina.org/configuration/output/#outputstrictmoduleexceptionhandling">output.strictModuleExceptionHandling</a></li><li class="sidebar-item__anchor" title="output.umdNamedDefine"><a href="../output/index.htm#outputumdnameddefine" tppabs="https://webpack.docschina.org/configuration/output/#outputumdnameddefine">output.umdNamedDefine</a></li><li class="sidebar-item__anchor" title="output.workerChunkLoading"><a href="../output/index.htm#outputworkerchunkloading" tppabs="https://webpack.docschina.org/configuration/output/#outputworkerchunkloading">output.workerChunkLoading</a></li><li class="sidebar-item__anchor" title="output.enabledLibraryTypes"><a href="../output/index.htm#outputenabledlibrarytypes" tppabs="https://webpack.docschina.org/configuration/output/#outputenabledlibrarytypes">output.enabledLibraryTypes</a></li><li class="sidebar-item__anchor" title="output.futureEmitAssets"><a href="../output/index.htm#outputfutureemitassets" tppabs="https://webpack.docschina.org/configuration/output/#outputfutureemitassets">output.futureEmitAssets</a></li><li class="sidebar-item__anchor" title="output.environment"><a href="../output/index.htm#outputenvironment" tppabs="https://webpack.docschina.org/configuration/output/#outputenvironment">output.environment</a></li><li class="sidebar-item__anchor" title="output.compareBeforeEmit"><a href="../output/index.htm#outputcomparebeforeemit" tppabs="https://webpack.docschina.org/configuration/output/#outputcomparebeforeemit">output.compareBeforeEmit</a></li><li class="sidebar-item__anchor" title="output.wasmLoading"><a href="../output/index.htm#output-wasm-loading" tppabs="https://webpack.docschina.org/configuration/output/#output-wasm-loading">output.wasmLoading</a></li><li class="sidebar-item__anchor" title="output.enabledWasmLoadingTypes"><a href="../output/index.htm#output-enabled-wasm-loading-types" tppabs="https://webpack.docschina.org/configuration/output/#output-enabled-wasm-loading-types">output.enabledWasmLoadingTypes</a></li><li class="sidebar-item__anchor" title="output.iife"><a href="../output/index.htm#output-iife" tppabs="https://webpack.docschina.org/configuration/output/#output-iife">output.iife</a></li><li class="sidebar-item__anchor" title="output.module"><a href="../output/index.htm#outputmodule" tppabs="https://webpack.docschina.org/configuration/output/#outputmodule">output.module</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../module/index.htm" tppabs="https://webpack.docschina.org/configuration/module/">æ¨¡å—ï¼ˆModuleï¼‰</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="module.noParse"><a href="../module/index.htm#modulenoparse" tppabs="https://webpack.docschina.org/configuration/module/#modulenoparse">module.noParse</a></li><li class="sidebar-item__anchor" title="module.unsafeCache"><a href="../module/index.htm#moduleunsafecache" tppabs="https://webpack.docschina.org/configuration/module/#moduleunsafecache">module.unsafeCache</a></li><li class="sidebar-item__anchor" title="module.rules"><a href="../module/index.htm#modulerules" tppabs="https://webpack.docschina.org/configuration/module/#modulerules">module.rules</a></li><li class="sidebar-item__anchor" title="Rule"><a href="../module/index.htm#rule" tppabs="https://webpack.docschina.org/configuration/module/#rule">Rule</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Rule æ¡ä»¶"><a href="../module/index.htm#rule-conditions" tppabs="https://webpack.docschina.org/configuration/module/#rule-conditions">Rule æ¡ä»¶</a></li><li class="sidebar-item__anchor" title="Rule ç»“æœ"><a href="../module/index.htm#rule-results" tppabs="https://webpack.docschina.org/configuration/module/#rule-results">Rule ç»“æœ</a></li></ul></li><li class="sidebar-item__anchor" title="åµŒå¥—çš„ Rule"><a href="../module/index.htm#nested-rules" tppabs="https://webpack.docschina.org/configuration/module/#nested-rules">åµŒå¥—çš„ Rule</a></li><li class="sidebar-item__anchor" title="Rule.enforce"><a href="../module/index.htm#ruleenforce" tppabs="https://webpack.docschina.org/configuration/module/#ruleenforce">Rule.enforce</a></li><li class="sidebar-item__anchor" title="Rule.exclude"><a href="../module/index.htm#ruleexclude" tppabs="https://webpack.docschina.org/configuration/module/#ruleexclude">Rule.exclude</a></li><li class="sidebar-item__anchor" title="Rule.include"><a href="../module/index.htm#ruleinclude" tppabs="https://webpack.docschina.org/configuration/module/#ruleinclude">Rule.include</a></li><li class="sidebar-item__anchor" title="Rule.issuer"><a href="../module/index.htm#ruleissuer" tppabs="https://webpack.docschina.org/configuration/module/#ruleissuer">Rule.issuer</a></li><li class="sidebar-item__anchor" title="Rule.loader"><a href="../module/index.htm#ruleloader" tppabs="https://webpack.docschina.org/configuration/module/#ruleloader">Rule.loader</a></li><li class="sidebar-item__anchor" title="Rule.loaders"><a href="../module/index.htm#ruleloaders" tppabs="https://webpack.docschina.org/configuration/module/#ruleloaders">Rule.loaders</a></li><li class="sidebar-item__anchor" title="Rule.mimetype"><a href="../module/index.htm#rulemimetype" tppabs="https://webpack.docschina.org/configuration/module/#rulemimetype">Rule.mimetype</a></li><li class="sidebar-item__anchor" title="Rule.oneOf"><a href="../module/index.htm#ruleoneof" tppabs="https://webpack.docschina.org/configuration/module/#ruleoneof">Rule.oneOf</a></li><li class="sidebar-item__anchor" title="Rule.options / Rule.query"><a href="../module/index.htm#ruleoptions--rulequery" tppabs="https://webpack.docschina.org/configuration/module/#ruleoptions--rulequery">Rule.options / Rule.query</a></li><li class="sidebar-item__anchor" title="Rule.parser"><a href="../module/index.htm#ruleparser" tppabs="https://webpack.docschina.org/configuration/module/#ruleparser">Rule.parser</a></li><li class="sidebar-item__anchor" title="Rule.parser.dataUrlCondition"><a href="../module/index.htm#ruleparserdataurlcondition" tppabs="https://webpack.docschina.org/configuration/module/#ruleparserdataurlcondition">Rule.parser.dataUrlCondition</a></li><li class="sidebar-item__anchor" title="Rule.generator.dataUrl"><a href="../module/index.htm#rulegeneratordataurl" tppabs="https://webpack.docschina.org/configuration/module/#rulegeneratordataurl">Rule.generator.dataUrl</a></li><li class="sidebar-item__anchor" title="Rule.generator.filename"><a href="../module/index.htm#rulegeneratorfilename" tppabs="https://webpack.docschina.org/configuration/module/#rulegeneratorfilename">Rule.generator.filename</a></li><li class="sidebar-item__anchor" title="Rule.resource"><a href="../module/index.htm#ruleresource" tppabs="https://webpack.docschina.org/configuration/module/#ruleresource">Rule.resource</a></li><li class="sidebar-item__anchor" title="Rule.resourceQuery"><a href="../module/index.htm#ruleresourcequery" tppabs="https://webpack.docschina.org/configuration/module/#ruleresourcequery">Rule.resourceQuery</a></li><li class="sidebar-item__anchor" title="Rule.parser.parse"><a href="../module/index.htm#ruleparserparse" tppabs="https://webpack.docschina.org/configuration/module/#ruleparserparse">Rule.parser.parse</a></li><li class="sidebar-item__anchor" title="Rule.rules"><a href="../module/index.htm#rulerules" tppabs="https://webpack.docschina.org/configuration/module/#rulerules">Rule.rules</a></li><li class="sidebar-item__anchor" title="Rule.sideEffects"><a href="../module/index.htm#rulesideeffects" tppabs="https://webpack.docschina.org/configuration/module/#rulesideeffects">Rule.sideEffects</a></li><li class="sidebar-item__anchor" title="Rule.test"><a href="../module/index.htm#ruletest" tppabs="https://webpack.docschina.org/configuration/module/#ruletest">Rule.test</a></li><li class="sidebar-item__anchor" title="Rule.type"><a href="../module/index.htm#ruletype" tppabs="https://webpack.docschina.org/configuration/module/#ruletype">Rule.type</a></li><li class="sidebar-item__anchor" title="Rule.use"><a href="../module/index.htm#ruleuse" tppabs="https://webpack.docschina.org/configuration/module/#ruleuse">Rule.use</a></li><li class="sidebar-item__anchor" title="Rule.resolve"><a href="../module/index.htm#ruleresolve" tppabs="https://webpack.docschina.org/configuration/module/#ruleresolve">Rule.resolve</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="resolve.fullySpecified"><a href="../module/index.htm#resolve-fully-specified" tppabs="https://webpack.docschina.org/configuration/module/#resolve-fully-specified">resolve.fullySpecified</a></li></ul></li><li class="sidebar-item__anchor" title="æ¡ä»¶"><a href="../module/index.htm#condition" tppabs="https://webpack.docschina.org/configuration/module/#condition">æ¡ä»¶</a></li><li class="sidebar-item__anchor" title="UseEntry"><a href="../module/index.htm#useentry" tppabs="https://webpack.docschina.org/configuration/module/#useentry">UseEntry</a></li><li class="sidebar-item__anchor" title="æ¨¡å—ä¸Šä¸‹æ–‡(Module Contexts)"><a href="../module/index.htm#module-contexts" tppabs="https://webpack.docschina.org/configuration/module/#module-contexts">æ¨¡å—ä¸Šä¸‹æ–‡(Module Contexts)</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../resolve/index.htm" tppabs="https://webpack.docschina.org/configuration/resolve/">è§£æ(Resolve)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="resolve"><a href="../resolve/index.htm#resolve" tppabs="https://webpack.docschina.org/configuration/resolve/#resolve">resolve</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="resolve.alias"><a href="../resolve/index.htm#resolvealias" tppabs="https://webpack.docschina.org/configuration/resolve/#resolvealias">resolve.alias</a></li><li class="sidebar-item__anchor" title="resolve.aliasFields"><a href="../resolve/index.htm#resolvealiasfields" tppabs="https://webpack.docschina.org/configuration/resolve/#resolvealiasfields">resolve.aliasFields</a></li><li class="sidebar-item__anchor" title="resolve.cacheWithContext"><a href="../resolve/index.htm#resolvecachewithcontext" tppabs="https://webpack.docschina.org/configuration/resolve/#resolvecachewithcontext">resolve.cacheWithContext</a></li><li class="sidebar-item__anchor" title="resolve.descriptionFiles"><a href="../resolve/index.htm#resolvedescriptionfiles" tppabs="https://webpack.docschina.org/configuration/resolve/#resolvedescriptionfiles">resolve.descriptionFiles</a></li><li class="sidebar-item__anchor" title="resolve.enforceExtension"><a href="../resolve/index.htm#resolveenforceextension" tppabs="https://webpack.docschina.org/configuration/resolve/#resolveenforceextension">resolve.enforceExtension</a></li><li class="sidebar-item__anchor" title="resolve.enforceModuleExtension"><a href="../resolve/index.htm#resolveenforcemoduleextension" tppabs="https://webpack.docschina.org/configuration/resolve/#resolveenforcemoduleextension">resolve.enforceModuleExtension</a></li><li class="sidebar-item__anchor" title="resolve.extensions"><a href="../resolve/index.htm#resolveextensions" tppabs="https://webpack.docschina.org/configuration/resolve/#resolveextensions">resolve.extensions</a></li><li class="sidebar-item__anchor" title="resolve.mainFields"><a href="../resolve/index.htm#resolvemainfields" tppabs="https://webpack.docschina.org/configuration/resolve/#resolvemainfields">resolve.mainFields</a></li><li class="sidebar-item__anchor" title="resolve.mainFiles"><a href="../resolve/index.htm#resolvemainfiles" tppabs="https://webpack.docschina.org/configuration/resolve/#resolvemainfiles">resolve.mainFiles</a></li><li class="sidebar-item__anchor" title="resolve.exportsFields"><a href="../resolve/index.htm#resolveexportsfields" tppabs="https://webpack.docschina.org/configuration/resolve/#resolveexportsfields">resolve.exportsFields</a></li><li class="sidebar-item__anchor" title="resolve.modules"><a href="../resolve/index.htm#resolvemodules" tppabs="https://webpack.docschina.org/configuration/resolve/#resolvemodules">resolve.modules</a></li><li class="sidebar-item__anchor" title="resolve.unsafeCache"><a href="../resolve/index.htm#resolveunsafecache" tppabs="https://webpack.docschina.org/configuration/resolve/#resolveunsafecache">resolve.unsafeCache</a></li><li class="sidebar-item__anchor" title="resolve.plugins"><a href="../resolve/index.htm#resolveplugins" tppabs="https://webpack.docschina.org/configuration/resolve/#resolveplugins">resolve.plugins</a></li><li class="sidebar-item__anchor" title="resolve.preferRelative"><a href="../resolve/index.htm#resolvepreferrelative" tppabs="https://webpack.docschina.org/configuration/resolve/#resolvepreferrelative">resolve.preferRelative</a></li><li class="sidebar-item__anchor" title="resolve.symlinks"><a href="../resolve/index.htm#resolvesymlinks" tppabs="https://webpack.docschina.org/configuration/resolve/#resolvesymlinks">resolve.symlinks</a></li><li class="sidebar-item__anchor" title="resolve.cachePredicate"><a href="../resolve/index.htm#resolvecachepredicate" tppabs="https://webpack.docschina.org/configuration/resolve/#resolvecachepredicate">resolve.cachePredicate</a></li><li class="sidebar-item__anchor" title="resolve.restrictions"><a href="../resolve/index.htm#resolverestrictions" tppabs="https://webpack.docschina.org/configuration/resolve/#resolverestrictions">resolve.restrictions</a></li><li class="sidebar-item__anchor" title="resolve.roots"><a href="../resolve/index.htm#resolveroots" tppabs="https://webpack.docschina.org/configuration/resolve/#resolveroots">resolve.roots</a></li><li class="sidebar-item__anchor" title="resolve.importsFields"><a href="../resolve/index.htm#resolveimportsfields" tppabs="https://webpack.docschina.org/configuration/resolve/#resolveimportsfields">resolve.importsFields</a></li><li class="sidebar-item__anchor" title="resolve.fallback"><a href="../resolve/index.htm#resolvefallback" tppabs="https://webpack.docschina.org/configuration/resolve/#resolvefallback">resolve.fallback</a></li></ul></li><li class="sidebar-item__anchor" title="resolveLoader"><a href="../resolve/index.htm#resolveloader" tppabs="https://webpack.docschina.org/configuration/resolve/#resolveloader">resolveLoader</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="resolveLoader.moduleExtensions"><a href="../resolve/index.htm#resolveloadermoduleextensions" tppabs="https://webpack.docschina.org/configuration/resolve/#resolveloadermoduleextensions">resolveLoader.moduleExtensions</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../optimization/index.htm" tppabs="https://webpack.docschina.org/configuration/optimization/">ä¼˜åŒ–(Optimization)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="optimization.minimize"><a href="../optimization/index.htm#optimizationminimize" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationminimize">optimization.minimize</a></li><li class="sidebar-item__anchor" title="optimization.minimizer"><a href="../optimization/index.htm#optimizationminimizer" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationminimizer">optimization.minimizer</a></li><li class="sidebar-item__anchor" title="optimization.splitChunks"><a href="../optimization/index.htm#optimizationsplitchunks" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationsplitchunks">optimization.splitChunks</a></li><li class="sidebar-item__anchor" title="optimization.runtimeChunk"><a href="../optimization/index.htm#optimizationruntimechunk" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationruntimechunk">optimization.runtimeChunk</a></li><li class="sidebar-item__anchor" title="optimization.emitOnErrors"><a href="../optimization/index.htm#optimizationemitonerrors" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationemitonerrors">optimization.emitOnErrors</a></li><li class="sidebar-item__anchor" title="optimization.moduleIds"><a href="../optimization/index.htm#optimizationmoduleids" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationmoduleids">optimization.moduleIds</a></li><li class="sidebar-item__anchor" title="optimization.chunkIds"><a href="../optimization/index.htm#optimizationchunkids" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationchunkids">optimization.chunkIds</a></li><li class="sidebar-item__anchor" title="optimization.nodeEnv"><a href="../optimization/index.htm#optimizationnodeenv" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationnodeenv">optimization.nodeEnv</a></li><li class="sidebar-item__anchor" title="optimization.mangleWasmImports"><a href="../optimization/index.htm#optimizationmanglewasmimports" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationmanglewasmimports">optimization.mangleWasmImports</a></li><li class="sidebar-item__anchor" title="optimization.removeAvailableModules"><a href="../optimization/index.htm#optimizationremoveavailablemodules" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationremoveavailablemodules">optimization.removeAvailableModules</a></li><li class="sidebar-item__anchor" title="optimization.removeEmptyChunks"><a href="../optimization/index.htm#optimizationremoveemptychunks" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationremoveemptychunks">optimization.removeEmptyChunks</a></li><li class="sidebar-item__anchor" title="optimization.mergeDuplicateChunks"><a href="../optimization/index.htm#optimizationmergeduplicatechunks" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationmergeduplicatechunks">optimization.mergeDuplicateChunks</a></li><li class="sidebar-item__anchor" title="optimization.flagIncludedChunks"><a href="../optimization/index.htm#optimizationflagincludedchunks" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationflagincludedchunks">optimization.flagIncludedChunks</a></li><li class="sidebar-item__anchor" title="optimization.occurrenceOrder"><a href="../optimization/index.htm#optimizationoccurrenceorder" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationoccurrenceorder">optimization.occurrenceOrder</a></li><li class="sidebar-item__anchor" title="optimization.providedExports"><a href="../optimization/index.htm#optimizationprovidedexports" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationprovidedexports">optimization.providedExports</a></li><li class="sidebar-item__anchor" title="optimization.usedExports"><a href="../optimization/index.htm#optimizationusedexports" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationusedexports">optimization.usedExports</a></li><li class="sidebar-item__anchor" title="optimization.concatenateModules"><a href="../optimization/index.htm#optimizationconcatenatemodules" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationconcatenatemodules">optimization.concatenateModules</a></li><li class="sidebar-item__anchor" title="optimization.sideEffects"><a href="../optimization/index.htm#optimizationsideeffects" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationsideeffects">optimization.sideEffects</a></li><li class="sidebar-item__anchor" title="optimization.portableRecords"><a href="../optimization/index.htm#optimizationportablerecords" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationportablerecords">optimization.portableRecords</a></li><li class="sidebar-item__anchor" title="optimization.mangleExports"><a href="../optimization/index.htm#optimizationmangleexports" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationmangleexports">optimization.mangleExports</a></li><li class="sidebar-item__anchor" title="optimization.innerGraph"><a href="../optimization/index.htm#optimizationinnergraph" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationinnergraph">optimization.innerGraph</a></li><li class="sidebar-item__anchor" title="optimization.realContentHash"><a href="../optimization/index.htm#optimizationrealcontenthash" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationrealcontenthash">optimization.realContentHash</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../plugins/index.htm" tppabs="https://webpack.docschina.org/configuration/plugins/">æ’ä»¶(Plugins)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="plugins"><a href="../plugins/index.htm#plugins" tppabs="https://webpack.docschina.org/configuration/plugins/#plugins">plugins</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../dev-server/index.htm" tppabs="https://webpack.docschina.org/configuration/dev-server/">å¼€å‘æœåŠ¡å™¨(DevServer)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="å¼€å‘æœåŠ¡å™¨(devServer)"><a href="../dev-server/index.htm#devserver" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserver">å¼€å‘æœåŠ¡å™¨(devServer)</a></li><li class="sidebar-item__anchor" title="devServer.after"><a href="../dev-server/index.htm#devserverafter" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverafter">devServer.after</a></li><li class="sidebar-item__anchor" title="devServer.allowedHosts"><a href="../dev-server/index.htm#devserverallowedhosts" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverallowedhosts">devServer.allowedHosts</a></li><li class="sidebar-item__anchor" title="devServer.before"><a href="../dev-server/index.htm#devserverbefore" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverbefore">devServer.before</a></li><li class="sidebar-item__anchor" title="devServer.bonjour"><a href="../dev-server/index.htm#devserverbonjour" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverbonjour">devServer.bonjour</a></li><li class="sidebar-item__anchor" title="devServer.clientLogLevel"><a href="../dev-server/index.htm#devserverclientloglevel" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverclientloglevel">devServer.clientLogLevel</a></li><li class="sidebar-item__anchor" title="devServer.compress"><a href="../dev-server/index.htm#devservercompress" tppabs="https://webpack.docschina.org/configuration/dev-server/#devservercompress">devServer.compress</a></li><li class="sidebar-item__anchor" title="devServer.contentBase"><a href="../dev-server/index.htm#devservercontentbase" tppabs="https://webpack.docschina.org/configuration/dev-server/#devservercontentbase">devServer.contentBase</a></li><li class="sidebar-item__anchor" title="devServer.contentBasePublicPath"><a href="../dev-server/index.htm#devservercontentbasepublicpath" tppabs="https://webpack.docschina.org/configuration/dev-server/#devservercontentbasepublicpath">devServer.contentBasePublicPath</a></li><li class="sidebar-item__anchor" title="devServer.disableHostCheck"><a href="../dev-server/index.htm#devserverdisablehostcheck" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverdisablehostcheck">devServer.disableHostCheck</a></li><li class="sidebar-item__anchor" title="devServer.filename ğŸ”‘"><a href="../dev-server/index.htm#devserverfilename-" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverfilename-">devServer.filename ğŸ”‘</a></li><li class="sidebar-item__anchor" title="devServer.headers ğŸ”‘"><a href="../dev-server/index.htm#devserverheaders-" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverheaders-">devServer.headers ğŸ”‘</a></li><li class="sidebar-item__anchor" title="devServer.historyApiFallback"><a href="../dev-server/index.htm#devserverhistoryapifallback" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverhistoryapifallback">devServer.historyApiFallback</a></li><li class="sidebar-item__anchor" title="devServer.host"><a href="../dev-server/index.htm#devserverhost" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverhost">devServer.host</a></li><li class="sidebar-item__anchor" title="devServer.hot"><a href="../dev-server/index.htm#devserverhot" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverhot">devServer.hot</a></li><li class="sidebar-item__anchor" title="devServer.hotOnly"><a href="../dev-server/index.htm#devserverhotonly" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverhotonly">devServer.hotOnly</a></li><li class="sidebar-item__anchor" title="devServer.http2"><a href="../dev-server/index.htm#devserverhttp2" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverhttp2">devServer.http2</a></li><li class="sidebar-item__anchor" title="devServer.https"><a href="../dev-server/index.htm#devserverhttps" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverhttps">devServer.https</a></li><li class="sidebar-item__anchor" title="devServer.index"><a href="../dev-server/index.htm#devserverindex" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverindex">devServer.index</a></li><li class="sidebar-item__anchor" title="devServer.info - CLI only"><a href="../dev-server/index.htm#devserverinfo---cli-only" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverinfo---cli-only">devServer.info - CLI only</a></li><li class="sidebar-item__anchor" title="devServer.injectClient"><a href="../dev-server/index.htm#devserverinjectclient" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverinjectclient">devServer.injectClient</a></li><li class="sidebar-item__anchor" title="devServer.injectHot"><a href="../dev-server/index.htm#devserverinjecthot" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverinjecthot">devServer.injectHot</a></li><li class="sidebar-item__anchor" title="devServer.inline"><a href="../dev-server/index.htm#devserverinline" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverinline">devServer.inline</a></li><li class="sidebar-item__anchor" title="devServer.lazy ğŸ”‘"><a href="../dev-server/index.htm#devserverlazy-" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverlazy-">devServer.lazy ğŸ”‘</a></li><li class="sidebar-item__anchor" title="devServer.liveReload"><a href="../dev-server/index.htm#devserverlivereload" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverlivereload">devServer.liveReload</a></li><li class="sidebar-item__anchor" title="devServer.mimeTypes ğŸ”‘"><a href="../dev-server/index.htm#devservermimetypes-" tppabs="https://webpack.docschina.org/configuration/dev-server/#devservermimetypes-">devServer.mimeTypes ğŸ”‘</a></li><li class="sidebar-item__anchor" title="devServer.noInfo ğŸ”‘"><a href="../dev-server/index.htm#devservernoinfo-" tppabs="https://webpack.docschina.org/configuration/dev-server/#devservernoinfo-">devServer.noInfo ğŸ”‘</a></li><li class="sidebar-item__anchor" title="devServer.onListening"><a href="../dev-server/index.htm#devserveronlistening" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserveronlistening">devServer.onListening</a></li><li class="sidebar-item__anchor" title="devServer.open"><a href="../dev-server/index.htm#devserveropen" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserveropen">devServer.open</a></li><li class="sidebar-item__anchor" title="devServer.openPage"><a href="../dev-server/index.htm#devserveropenpage" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserveropenpage">devServer.openPage</a></li><li class="sidebar-item__anchor" title="devServer.overlay"><a href="../dev-server/index.htm#devserveroverlay" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserveroverlay">devServer.overlay</a></li><li class="sidebar-item__anchor" title="devServer.pfx"><a href="../dev-server/index.htm#devserverpfx" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverpfx">devServer.pfx</a></li><li class="sidebar-item__anchor" title="devServer.pfxPassphrase"><a href="../dev-server/index.htm#devserverpfxpassphrase" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverpfxpassphrase">devServer.pfxPassphrase</a></li><li class="sidebar-item__anchor" title="devServer.port"><a href="../dev-server/index.htm#devserverport" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverport">devServer.port</a></li><li class="sidebar-item__anchor" title="devServer.proxy"><a href="../dev-server/index.htm#devserverproxy" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverproxy">devServer.proxy</a></li><li class="sidebar-item__anchor" title="devServer.progress - CLI only"><a href="../dev-server/index.htm#devserverprogress---cli-only" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverprogress---cli-only">devServer.progress - CLI only</a></li><li class="sidebar-item__anchor" title="devServer.public"><a href="../dev-server/index.htm#devserverpublic" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverpublic">devServer.public</a></li><li class="sidebar-item__anchor" title="devServer.publicPath ğŸ”‘"><a href="../dev-server/index.htm#devserverpublicpath-" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverpublicpath-">devServer.publicPath ğŸ”‘</a></li><li class="sidebar-item__anchor" title="devServer.quiet ğŸ”‘"><a href="../dev-server/index.htm#devserverquiet-" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverquiet-">devServer.quiet ğŸ”‘</a></li><li class="sidebar-item__anchor" title="devServer.serveIndex"><a href="../dev-server/index.htm#devserverserveindex" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverserveindex">devServer.serveIndex</a></li><li class="sidebar-item__anchor" title="devServer.setup"><a href="../dev-server/index.htm#devserversetup" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserversetup">devServer.setup</a></li><li class="sidebar-item__anchor" title="devServer.sockHost"><a href="../dev-server/index.htm#devserversockhost" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserversockhost">devServer.sockHost</a></li><li class="sidebar-item__anchor" title="devServer.sockPath"><a href="../dev-server/index.htm#devserversockpath" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserversockpath">devServer.sockPath</a></li><li class="sidebar-item__anchor" title="devServer.sockPort"><a href="../dev-server/index.htm#devserversockport" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserversockport">devServer.sockPort</a></li><li class="sidebar-item__anchor" title="devServer.staticOptions"><a href="../dev-server/index.htm#devserverstaticoptions" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverstaticoptions">devServer.staticOptions</a></li><li class="sidebar-item__anchor" title="devServer.stats ğŸ”‘"><a href="../dev-server/index.htm#devserverstats-" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverstats-">devServer.stats ğŸ”‘</a></li><li class="sidebar-item__anchor" title="devServer.stdin - CLI only"><a href="../dev-server/index.htm#devserverstdin---cli-only" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverstdin---cli-only">devServer.stdin - CLI only</a></li><li class="sidebar-item__anchor" title="devServer.transportMode"><a href="../dev-server/index.htm#devservertransportmode" tppabs="https://webpack.docschina.org/configuration/dev-server/#devservertransportmode">devServer.transportMode</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="devServer.transportMode.client"><a href="../dev-server/index.htm#devservertransportmodeclient" tppabs="https://webpack.docschina.org/configuration/dev-server/#devservertransportmodeclient">devServer.transportMode.client</a></li><li class="sidebar-item__anchor" title="devServer.transportMode.server"><a href="../dev-server/index.htm#devservertransportmodeserver" tppabs="https://webpack.docschina.org/configuration/dev-server/#devservertransportmodeserver">devServer.transportMode.server</a></li></ul></li><li class="sidebar-item__anchor" title="devServer.useLocalIp"><a href="../dev-server/index.htm#devserveruselocalip" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserveruselocalip">devServer.useLocalIp</a></li><li class="sidebar-item__anchor" title="devServer.watchContentBase"><a href="../dev-server/index.htm#devserverwatchcontentbase" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverwatchcontentbase">devServer.watchContentBase</a></li><li class="sidebar-item__anchor" title="devServer.watchOptions ğŸ”‘"><a href="../dev-server/index.htm#devserverwatchoptions-" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverwatchoptions-">devServer.watchOptions ğŸ”‘</a></li><li class="sidebar-item__anchor" title="devServer.writeToDisk ğŸ”‘"><a href="../dev-server/index.htm#devserverwritetodisk-" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverwritetodisk-">devServer.writeToDisk ğŸ”‘</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../devtool/index.htm" tppabs="https://webpack.docschina.org/configuration/devtool/">Devtool</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="devtool"><a href="../devtool/index.htm#devtool" tppabs="https://webpack.docschina.org/configuration/devtool/#devtool">devtool</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="å“è´¨è¯´æ˜(quality)"><a href="../devtool/index.htm#qualities" tppabs="https://webpack.docschina.org/configuration/devtool/#qualities">å“è´¨è¯´æ˜(quality)</a></li><li class="sidebar-item__anchor" title="å¯¹äºå¼€å‘ç¯å¢ƒ"><a href="../devtool/index.htm#development" tppabs="https://webpack.docschina.org/configuration/devtool/#development">å¯¹äºå¼€å‘ç¯å¢ƒ</a></li><li class="sidebar-item__anchor" title="ç‰¹å®šåœºæ™¯"><a href="../devtool/index.htm#special-cases" tppabs="https://webpack.docschina.org/configuration/devtool/#special-cases">ç‰¹å®šåœºæ™¯</a></li><li class="sidebar-item__anchor" title="å¯¹äºç”Ÿäº§ç¯å¢ƒ"><a href="../devtool/index.htm#production" tppabs="https://webpack.docschina.org/configuration/devtool/#production">å¯¹äºç”Ÿäº§ç¯å¢ƒ</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../target/index.htm" tppabs="https://webpack.docschina.org/configuration/target/">æ„å»ºç›®æ ‡(Targets)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="target"><a href="../target/index.htm#target" tppabs="https://webpack.docschina.org/configuration/target/#target">target</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="string"><a href="../target/index.htm#string" tppabs="https://webpack.docschina.org/configuration/target/#string">string</a></li><li class="sidebar-item__anchor" title="[string]"><a href="../target/index.htm#string" tppabs="https://webpack.docschina.org/configuration/target/#string">[string]</a></li><li class="sidebar-item__anchor" title="false"><a href="../target/index.htm#false" tppabs="https://webpack.docschina.org/configuration/target/#false">false</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../watch/index.htm" tppabs="https://webpack.docschina.org/configuration/watch/">watch å’Œ watchOptions</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="watch"><a href="../watch/index.htm#watch" tppabs="https://webpack.docschina.org/configuration/watch/#watch">watch</a></li><li class="sidebar-item__anchor" title="watchOptions"><a href="../watch/index.htm#watchoptions" tppabs="https://webpack.docschina.org/configuration/watch/#watchoptions">watchOptions</a></li><li class="sidebar-item__anchor" title="watchOptions.aggregateTimeout"><a href="../watch/index.htm#watchoptionsaggregatetimeout" tppabs="https://webpack.docschina.org/configuration/watch/#watchoptionsaggregatetimeout">watchOptions.aggregateTimeout</a></li><li class="sidebar-item__anchor" title="watchOptions.ignored"><a href="../watch/index.htm#watchoptionsignored" tppabs="https://webpack.docschina.org/configuration/watch/#watchoptionsignored">watchOptions.ignored</a></li><li class="sidebar-item__anchor" title="watchOptions.poll"><a href="../watch/index.htm#watchoptionspoll" tppabs="https://webpack.docschina.org/configuration/watch/#watchoptionspoll">watchOptions.poll</a></li><li class="sidebar-item__anchor" title="æ•…éšœæ’é™¤"><a href="../watch/index.htm#troubleshooting" tppabs="https://webpack.docschina.org/configuration/watch/#troubleshooting">æ•…éšœæ’é™¤</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="å‘ç°ä¿®æ”¹ï¼Œä½†å¹¶æœªåšå¤„ç†"><a href="../watch/index.htm#changes-seen-but-not-processed" tppabs="https://webpack.docschina.org/configuration/watch/#changes-seen-but-not-processed">å‘ç°ä¿®æ”¹ï¼Œä½†å¹¶æœªåšå¤„ç†</a></li><li class="sidebar-item__anchor" title="æ²¡æœ‰è¶³å¤Ÿçš„æ–‡ä»¶è§‚å¯Ÿè€…"><a href="../watch/index.htm#not-enough-watchers" tppabs="https://webpack.docschina.org/configuration/watch/#not-enough-watchers">æ²¡æœ‰è¶³å¤Ÿçš„æ–‡ä»¶è§‚å¯Ÿè€…</a></li><li class="sidebar-item__anchor" title="macOS fsevents Bug"><a href="../watch/index.htm#macos-fsevents-bug" tppabs="https://webpack.docschina.org/configuration/watch/#macos-fsevents-bug">macOS fsevents Bug</a></li><li class="sidebar-item__anchor" title="Windows Paths"><a href="../watch/index.htm#windows-paths" tppabs="https://webpack.docschina.org/configuration/watch/#windows-paths">Windows Paths</a></li><li class="sidebar-item__anchor" title="Vim"><a href="../watch/index.htm#vim" tppabs="https://webpack.docschina.org/configuration/watch/#vim">Vim</a></li><li class="sidebar-item__anchor" title="åœ¨ WebStorm ä¸­ä¿å­˜"><a href="../watch/index.htm#saving-in-webstorm" tppabs="https://webpack.docschina.org/configuration/watch/#saving-in-webstorm">åœ¨ WebStorm ä¸­ä¿å­˜</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../externals/index.htm" tppabs="https://webpack.docschina.org/configuration/externals/">å¤–éƒ¨æ‰©å±•(externals)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="externals"><a href="../externals/index.htm#externals" tppabs="https://webpack.docschina.org/configuration/externals/#externals">externals</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="å­—ç¬¦ä¸²"><a href="../externals/index.htm#string" tppabs="https://webpack.docschina.org/configuration/externals/#string">å­—ç¬¦ä¸²</a></li><li class="sidebar-item__anchor" title="[string]"><a href="../externals/index.htm#string" tppabs="https://webpack.docschina.org/configuration/externals/#string">[string]</a></li><li class="sidebar-item__anchor" title="å¯¹è±¡"><a href="../externals/index.htm#object" tppabs="https://webpack.docschina.org/configuration/externals/#object">å¯¹è±¡</a></li><li class="sidebar-item__anchor" title="å‡½æ•°"><a href="../externals/index.htm#function" tppabs="https://webpack.docschina.org/configuration/externals/#function">å‡½æ•°</a></li><li class="sidebar-item__anchor" title="RegExp"><a href="../externals/index.htm#regexp" tppabs="https://webpack.docschina.org/configuration/externals/#regexp">RegExp</a></li><li class="sidebar-item__anchor" title="æ··ç”¨è¯­æ³•"><a href="../externals/index.htm#combining-syntaxes" tppabs="https://webpack.docschina.org/configuration/externals/#combining-syntaxes">æ··ç”¨è¯­æ³•</a></li></ul></li><li class="sidebar-item__anchor" title="externalsType"><a href="../externals/index.htm#externalstype" tppabs="https://webpack.docschina.org/configuration/externals/#externalstype">externalsType</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="script"><a href="../externals/index.htm#script" tppabs="https://webpack.docschina.org/configuration/externals/#script">script</a></li></ul></li><li class="sidebar-item__anchor" title="externalsPresets"><a href="../externals/index.htm#externals-presets" tppabs="https://webpack.docschina.org/configuration/externals/#externals-presets">externalsPresets</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../performance/index.htm" tppabs="https://webpack.docschina.org/configuration/performance/">æ€§èƒ½(performance)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="performance"><a href="../performance/index.htm#performance" tppabs="https://webpack.docschina.org/configuration/performance/#performance">performance</a></li><li class="sidebar-item__anchor" title="performance.hints"><a href="../performance/index.htm#performancehints" tppabs="https://webpack.docschina.org/configuration/performance/#performancehints">performance.hints</a></li><li class="sidebar-item__anchor" title="performance.maxEntrypointSize"><a href="../performance/index.htm#performancemaxentrypointsize" tppabs="https://webpack.docschina.org/configuration/performance/#performancemaxentrypointsize">performance.maxEntrypointSize</a></li><li class="sidebar-item__anchor" title="performance.maxAssetSize"><a href="../performance/index.htm#performancemaxassetsize" tppabs="https://webpack.docschina.org/configuration/performance/#performancemaxassetsize">performance.maxAssetSize</a></li><li class="sidebar-item__anchor" title="performance.assetFilter"><a href="../performance/index.htm#performanceassetfilter" tppabs="https://webpack.docschina.org/configuration/performance/#performanceassetfilter">performance.assetFilter</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../node/index.htm" tppabs="https://webpack.docschina.org/configuration/node/">Node</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="node"><a href="../node/index.htm#node" tppabs="https://webpack.docschina.org/configuration/node/#node">node</a></li><li class="sidebar-item__anchor" title="node.global"><a href="../node/index.htm#nodeglobal" tppabs="https://webpack.docschina.org/configuration/node/#nodeglobal">node.global</a></li><li class="sidebar-item__anchor" title="node.__filename"><a href="../node/index.htm#node__filename" tppabs="https://webpack.docschina.org/configuration/node/#node__filename">node.__filename</a></li><li class="sidebar-item__anchor" title="node.__dirname"><a href="../node/index.htm#node__dirname" tppabs="https://webpack.docschina.org/configuration/node/#node__dirname">node.__dirname</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../stats/index.htm" tppabs="https://webpack.docschina.org/configuration/stats/">stats å¯¹è±¡</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Stats Presets"><a href="../stats/index.htm#stats-presets" tppabs="https://webpack.docschina.org/configuration/stats/#stats-presets">Stats Presets</a></li><li class="sidebar-item__anchor" title="Stats é€‰é¡¹"><a href="../stats/index.htm#stats-options" tppabs="https://webpack.docschina.org/configuration/stats/#stats-options">Stats é€‰é¡¹</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="stats.all"><a href="../stats/index.htm#statsall" tppabs="https://webpack.docschina.org/configuration/stats/#statsall">stats.all</a></li><li class="sidebar-item__anchor" title="stats.assets"><a href="../stats/index.htm#statsassets" tppabs="https://webpack.docschina.org/configuration/stats/#statsassets">stats.assets</a></li><li class="sidebar-item__anchor" title="stats.assetsSort"><a href="../stats/index.htm#statsassetssort" tppabs="https://webpack.docschina.org/configuration/stats/#statsassetssort">stats.assetsSort</a></li><li class="sidebar-item__anchor" title="stats.builtAt"><a href="../stats/index.htm#statsbuiltat" tppabs="https://webpack.docschina.org/configuration/stats/#statsbuiltat">stats.builtAt</a></li><li class="sidebar-item__anchor" title="stats.moduleAssets"><a href="../stats/index.htm#statsmoduleassets" tppabs="https://webpack.docschina.org/configuration/stats/#statsmoduleassets">stats.moduleAssets</a></li><li class="sidebar-item__anchor" title="stats.cached"><a href="../stats/index.htm#statscached" tppabs="https://webpack.docschina.org/configuration/stats/#statscached">stats.cached</a></li><li class="sidebar-item__anchor" title="stats.assetsSpace"><a href="../stats/index.htm#statsassetsspace" tppabs="https://webpack.docschina.org/configuration/stats/#statsassetsspace">stats.assetsSpace</a></li><li class="sidebar-item__anchor" title="stats.modulesSpace"><a href="../stats/index.htm#statsmodulesspace" tppabs="https://webpack.docschina.org/configuration/stats/#statsmodulesspace">stats.modulesSpace</a></li><li class="sidebar-item__anchor" title="stats.chunkModulesSpace"><a href="../stats/index.htm#statschunkmodulesspace" tppabs="https://webpack.docschina.org/configuration/stats/#statschunkmodulesspace">stats.chunkModulesSpace</a></li><li class="sidebar-item__anchor" title="stats.nestedModulesSpace"><a href="../stats/index.htm#statsnestedmodulesspace" tppabs="https://webpack.docschina.org/configuration/stats/#statsnestedmodulesspace">stats.nestedModulesSpace</a></li><li class="sidebar-item__anchor" title="stats.cachedModules"><a href="../stats/index.htm#statscachedmodules" tppabs="https://webpack.docschina.org/configuration/stats/#statscachedmodules">stats.cachedModules</a></li><li class="sidebar-item__anchor" title="stats.runtimeModules"><a href="../stats/index.htm#statsruntimemodules" tppabs="https://webpack.docschina.org/configuration/stats/#statsruntimemodules">stats.runtimeModules</a></li><li class="sidebar-item__anchor" title="stats.dependentModules"><a href="../stats/index.htm#statsdependentmodules" tppabs="https://webpack.docschina.org/configuration/stats/#statsdependentmodules">stats.dependentModules</a></li><li class="sidebar-item__anchor" title="stats.groupAssetsByChunk"><a href="../stats/index.htm#statsgroupassetsbychunk" tppabs="https://webpack.docschina.org/configuration/stats/#statsgroupassetsbychunk">stats.groupAssetsByChunk</a></li><li class="sidebar-item__anchor" title="stats.groupAssetsByEmitStatus"><a href="../stats/index.htm#statsgroupassetsbyemitstatus" tppabs="https://webpack.docschina.org/configuration/stats/#statsgroupassetsbyemitstatus">stats.groupAssetsByEmitStatus</a></li><li class="sidebar-item__anchor" title="stats.groupAssetsByInfo"><a href="../stats/index.htm#statsgroupassetsbyinfo" tppabs="https://webpack.docschina.org/configuration/stats/#statsgroupassetsbyinfo">stats.groupAssetsByInfo</a></li><li class="sidebar-item__anchor" title="stats.groupModulesByAttributes"><a href="../stats/index.htm#statsgroupmodulesbyattributes" tppabs="https://webpack.docschina.org/configuration/stats/#statsgroupmodulesbyattributes">stats.groupModulesByAttributes</a></li><li class="sidebar-item__anchor" title="stats.cachedAssets"><a href="../stats/index.htm#statscachedassets" tppabs="https://webpack.docschina.org/configuration/stats/#statscachedassets">stats.cachedAssets</a></li><li class="sidebar-item__anchor" title="stats.children"><a href="../stats/index.htm#statschildren" tppabs="https://webpack.docschina.org/configuration/stats/#statschildren">stats.children</a></li><li class="sidebar-item__anchor" title="stats.chunks"><a href="../stats/index.htm#statschunks" tppabs="https://webpack.docschina.org/configuration/stats/#statschunks">stats.chunks</a></li><li class="sidebar-item__anchor" title="stats.chunkGroups"><a href="../stats/index.htm#statschunkgroups" tppabs="https://webpack.docschina.org/configuration/stats/#statschunkgroups">stats.chunkGroups</a></li><li class="sidebar-item__anchor" title="stats.chunkModules"><a href="../stats/index.htm#statschunkmodules" tppabs="https://webpack.docschina.org/configuration/stats/#statschunkmodules">stats.chunkModules</a></li><li class="sidebar-item__anchor" title="stats.chunkOrigins"><a href="../stats/index.htm#statschunkorigins" tppabs="https://webpack.docschina.org/configuration/stats/#statschunkorigins">stats.chunkOrigins</a></li><li class="sidebar-item__anchor" title="stats.chunksSort"><a href="../stats/index.htm#statschunkssort" tppabs="https://webpack.docschina.org/configuration/stats/#statschunkssort">stats.chunksSort</a></li><li class="sidebar-item__anchor" title="stats.context"><a href="../stats/index.htm#statscontext" tppabs="https://webpack.docschina.org/configuration/stats/#statscontext">stats.context</a></li><li class="sidebar-item__anchor" title="stats.colors"><a href="../stats/index.htm#statscolors" tppabs="https://webpack.docschina.org/configuration/stats/#statscolors">stats.colors</a></li><li class="sidebar-item__anchor" title="stats.depth"><a href="../stats/index.htm#statsdepth" tppabs="https://webpack.docschina.org/configuration/stats/#statsdepth">stats.depth</a></li><li class="sidebar-item__anchor" title="stats.entrypoints"><a href="../stats/index.htm#statsentrypoints" tppabs="https://webpack.docschina.org/configuration/stats/#statsentrypoints">stats.entrypoints</a></li><li class="sidebar-item__anchor" title="stats.env"><a href="../stats/index.htm#statsenv" tppabs="https://webpack.docschina.org/configuration/stats/#statsenv">stats.env</a></li><li class="sidebar-item__anchor" title="stats.orphanModules"><a href="../stats/index.htm#statsorphanmodules" tppabs="https://webpack.docschina.org/configuration/stats/#statsorphanmodules">stats.orphanModules</a></li><li class="sidebar-item__anchor" title="stats.errors"><a href="../stats/index.htm#statserrors" tppabs="https://webpack.docschina.org/configuration/stats/#statserrors">stats.errors</a></li><li class="sidebar-item__anchor" title="stats.errorDetails"><a href="../stats/index.htm#statserrordetails" tppabs="https://webpack.docschina.org/configuration/stats/#statserrordetails">stats.errorDetails</a></li><li class="sidebar-item__anchor" title="stats.errorStack"><a href="../stats/index.htm#statserrorstack" tppabs="https://webpack.docschina.org/configuration/stats/#statserrorstack">stats.errorStack</a></li><li class="sidebar-item__anchor" title="stats.excludeAssets"><a href="../stats/index.htm#statsexcludeassets" tppabs="https://webpack.docschina.org/configuration/stats/#statsexcludeassets">stats.excludeAssets</a></li><li class="sidebar-item__anchor" title="stats.excludeModules"><a href="../stats/index.htm#statsexcludemodules" tppabs="https://webpack.docschina.org/configuration/stats/#statsexcludemodules">stats.excludeModules</a></li><li class="sidebar-item__anchor" title="stats.exclude"><a href="../stats/index.htm#statsexclude" tppabs="https://webpack.docschina.org/configuration/stats/#statsexclude">stats.exclude</a></li><li class="sidebar-item__anchor" title="stats.hash"><a href="../stats/index.htm#statshash" tppabs="https://webpack.docschina.org/configuration/stats/#statshash">stats.hash</a></li><li class="sidebar-item__anchor" title="stats.logging"><a href="../stats/index.htm#statslogging" tppabs="https://webpack.docschina.org/configuration/stats/#statslogging">stats.logging</a></li><li class="sidebar-item__anchor" title="stats.loggingDebug"><a href="../stats/index.htm#statsloggingdebug" tppabs="https://webpack.docschina.org/configuration/stats/#statsloggingdebug">stats.loggingDebug</a></li><li class="sidebar-item__anchor" title="stats.loggingTrace"><a href="../stats/index.htm#statsloggingtrace" tppabs="https://webpack.docschina.org/configuration/stats/#statsloggingtrace">stats.loggingTrace</a></li><li class="sidebar-item__anchor" title="stats.modules"><a href="../stats/index.htm#statsmodules" tppabs="https://webpack.docschina.org/configuration/stats/#statsmodules">stats.modules</a></li><li class="sidebar-item__anchor" title="stats.modulesSort"><a href="../stats/index.htm#statsmodulessort" tppabs="https://webpack.docschina.org/configuration/stats/#statsmodulessort">stats.modulesSort</a></li><li class="sidebar-item__anchor" title="stats.moduleTrace"><a href="../stats/index.htm#statsmoduletrace" tppabs="https://webpack.docschina.org/configuration/stats/#statsmoduletrace">stats.moduleTrace</a></li><li class="sidebar-item__anchor" title="stats.outputPath"><a href="../stats/index.htm#statsoutputpath" tppabs="https://webpack.docschina.org/configuration/stats/#statsoutputpath">stats.outputPath</a></li><li class="sidebar-item__anchor" title="stats.performance"><a href="../stats/index.htm#statsperformance" tppabs="https://webpack.docschina.org/configuration/stats/#statsperformance">stats.performance</a></li><li class="sidebar-item__anchor" title="stats.preset"><a href="../stats/index.htm#statspreset" tppabs="https://webpack.docschina.org/configuration/stats/#statspreset">stats.preset</a></li><li class="sidebar-item__anchor" title="stats.providedExports"><a href="../stats/index.htm#statsprovidedexports" tppabs="https://webpack.docschina.org/configuration/stats/#statsprovidedexports">stats.providedExports</a></li><li class="sidebar-item__anchor" title="stats.errorsCount"><a href="../stats/index.htm#statserrorscount" tppabs="https://webpack.docschina.org/configuration/stats/#statserrorscount">stats.errorsCount</a></li><li class="sidebar-item__anchor" title="stats.warningsCount"><a href="../stats/index.htm#statswarningscount" tppabs="https://webpack.docschina.org/configuration/stats/#statswarningscount">stats.warningsCount</a></li><li class="sidebar-item__anchor" title="stats.publicPath"><a href="../stats/index.htm#statspublicpath" tppabs="https://webpack.docschina.org/configuration/stats/#statspublicpath">stats.publicPath</a></li><li class="sidebar-item__anchor" title="stats.reasons"><a href="../stats/index.htm#statsreasons" tppabs="https://webpack.docschina.org/configuration/stats/#statsreasons">stats.reasons</a></li><li class="sidebar-item__anchor" title="stats.relatedAssets"><a href="../stats/index.htm#statsrelatedassets" tppabs="https://webpack.docschina.org/configuration/stats/#statsrelatedassets">stats.relatedAssets</a></li><li class="sidebar-item__anchor" title="stats.source"><a href="../stats/index.htm#statssource" tppabs="https://webpack.docschina.org/configuration/stats/#statssource">stats.source</a></li><li class="sidebar-item__anchor" title="stats.timings"><a href="../stats/index.htm#statstimings" tppabs="https://webpack.docschina.org/configuration/stats/#statstimings">stats.timings</a></li><li class="sidebar-item__anchor" title="stats.usedExports"><a href="../stats/index.htm#statsusedexports" tppabs="https://webpack.docschina.org/configuration/stats/#statsusedexports">stats.usedExports</a></li><li class="sidebar-item__anchor" title="stats.version"><a href="../stats/index.htm#statsversion" tppabs="https://webpack.docschina.org/configuration/stats/#statsversion">stats.version</a></li><li class="sidebar-item__anchor" title="stats.chunkGroupAuxiliary"><a href="../stats/index.htm#statschunkgroupauxiliary" tppabs="https://webpack.docschina.org/configuration/stats/#statschunkgroupauxiliary">stats.chunkGroupAuxiliary</a></li><li class="sidebar-item__anchor" title="stats.chunkGroupChildren"><a href="../stats/index.htm#statschunkgroupchildren" tppabs="https://webpack.docschina.org/configuration/stats/#statschunkgroupchildren">stats.chunkGroupChildren</a></li><li class="sidebar-item__anchor" title="stats.chunkGroupMaxAssets"><a href="../stats/index.htm#statschunkgroupmaxassets" tppabs="https://webpack.docschina.org/configuration/stats/#statschunkgroupmaxassets">stats.chunkGroupMaxAssets</a></li><li class="sidebar-item__anchor" title="stats.warnings"><a href="../stats/index.htm#statswarnings" tppabs="https://webpack.docschina.org/configuration/stats/#statswarnings">stats.warnings</a></li><li class="sidebar-item__anchor" title="stats.warningsFilter"><a href="../stats/index.htm#statswarningsfilter" tppabs="https://webpack.docschina.org/configuration/stats/#statswarningsfilter">stats.warningsFilter</a></li><li class="sidebar-item__anchor" title="stats.chunkRelations"><a href="../stats/index.htm#statschunkrelations" tppabs="https://webpack.docschina.org/configuration/stats/#statschunkrelations">stats.chunkRelations</a></li><li class="sidebar-item__anchor" title="å­—æ®µæ’åº"><a href="../stats/index.htm#sorting-fields" tppabs="https://webpack.docschina.org/configuration/stats/#sorting-fields">å­—æ®µæ’åº</a></li><li class="sidebar-item__anchor" title="æ‰©å±•ç»Ÿè®¡ä¿¡æ¯è¡Œä¸º"><a href="../stats/index.htm#extending-stats-behaviours" tppabs="https://webpack.docschina.org/configuration/stats/#extending-stats-behaviours">æ‰©å±•ç»Ÿè®¡ä¿¡æ¯è¡Œä¸º</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../experiments/index.htm" tppabs="https://webpack.docschina.org/configuration/experiments/">å®éªŒç‰¹æ€§(experiments)</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="experiments"><a href="../experiments/index.htm#experiments" tppabs="https://webpack.docschina.org/configuration/experiments/#experiments">experiments</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../other-options/index.htm" tppabs="https://webpack.docschina.org/configuration/other-options/">å…¶å®ƒé€‰é¡¹</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="amd"><a href="../other-options/index.htm#amd" tppabs="https://webpack.docschina.org/configuration/other-options/#amd">amd</a></li><li class="sidebar-item__anchor" title="bail"><a href="../other-options/index.htm#bail" tppabs="https://webpack.docschina.org/configuration/other-options/#bail">bail</a></li><li class="sidebar-item__anchor" title="cache"><a href="../other-options/index.htm#cache" tppabs="https://webpack.docschina.org/configuration/other-options/#cache">cache</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="cache.type"><a href="../other-options/index.htm#cachetype" tppabs="https://webpack.docschina.org/configuration/other-options/#cachetype">cache.type</a></li><li class="sidebar-item__anchor" title="cache.cacheDirectory"><a href="../other-options/index.htm#cachecachedirectory" tppabs="https://webpack.docschina.org/configuration/other-options/#cachecachedirectory">cache.cacheDirectory</a></li><li class="sidebar-item__anchor" title="cache.cacheLocation"><a href="../other-options/index.htm#cachecachelocation" tppabs="https://webpack.docschina.org/configuration/other-options/#cachecachelocation">cache.cacheLocation</a></li><li class="sidebar-item__anchor" title="cache.buildDependencies"><a href="../other-options/index.htm#cachebuilddependencies" tppabs="https://webpack.docschina.org/configuration/other-options/#cachebuilddependencies">cache.buildDependencies</a></li><li class="sidebar-item__anchor" title="cache.managedPaths"><a href="../other-options/index.htm#cachemanagedpaths" tppabs="https://webpack.docschina.org/configuration/other-options/#cachemanagedpaths">cache.managedPaths</a></li><li class="sidebar-item__anchor" title="cache.hashAlgorithm"><a href="../other-options/index.htm#cachehashalgorithm" tppabs="https://webpack.docschina.org/configuration/other-options/#cachehashalgorithm">cache.hashAlgorithm</a></li><li class="sidebar-item__anchor" title="cache.name"><a href="../other-options/index.htm#cachename" tppabs="https://webpack.docschina.org/configuration/other-options/#cachename">cache.name</a></li><li class="sidebar-item__anchor" title="cache.store"><a href="../other-options/index.htm#cachestore" tppabs="https://webpack.docschina.org/configuration/other-options/#cachestore">cache.store</a></li><li class="sidebar-item__anchor" title="cache.version"><a href="../other-options/index.htm#cacheversion" tppabs="https://webpack.docschina.org/configuration/other-options/#cacheversion">cache.version</a></li><li class="sidebar-item__anchor" title="cache.idleTimeout"><a href="../other-options/index.htm#cacheidletimeout" tppabs="https://webpack.docschina.org/configuration/other-options/#cacheidletimeout">cache.idleTimeout</a></li><li class="sidebar-item__anchor" title="cache.idleTimeoutForInitialStore"><a href="../other-options/index.htm#cacheidletimeoutforinitialstore" tppabs="https://webpack.docschina.org/configuration/other-options/#cacheidletimeoutforinitialstore">cache.idleTimeoutForInitialStore</a></li></ul></li><li class="sidebar-item__anchor" title="ignoreWarnings"><a href="../other-options/index.htm#ignorewarnings" tppabs="https://webpack.docschina.org/configuration/other-options/#ignorewarnings">ignoreWarnings</a></li><li class="sidebar-item__anchor" title="loader"><a href="../other-options/index.htm#loader" tppabs="https://webpack.docschina.org/configuration/other-options/#loader">loader</a></li><li class="sidebar-item__anchor" title="parallelism"><a href="../other-options/index.htm#parallelism" tppabs="https://webpack.docschina.org/configuration/other-options/#parallelism">parallelism</a></li><li class="sidebar-item__anchor" title="profile"><a href="../other-options/index.htm#profile" tppabs="https://webpack.docschina.org/configuration/other-options/#profile">profile</a></li><li class="sidebar-item__anchor" title="recordsPath"><a href="../other-options/index.htm#recordspath" tppabs="https://webpack.docschina.org/configuration/other-options/#recordspath">recordsPath</a></li><li class="sidebar-item__anchor" title="recordsInputPath"><a href="../other-options/index.htm#recordsinputpath" tppabs="https://webpack.docschina.org/configuration/other-options/#recordsinputpath">recordsInputPath</a></li><li class="sidebar-item__anchor" title="recordsOutputPath"><a href="../other-options/index.htm#recordsoutputpath" tppabs="https://webpack.docschina.org/configuration/other-options/#recordsoutputpath">recordsOutputPath</a></li><li class="sidebar-item__anchor" title="name"><a href="../other-options/index.htm#name" tppabs="https://webpack.docschina.org/configuration/other-options/#name">name</a></li><li class="sidebar-item__anchor" title="infrastructureLogging"><a href="../other-options/index.htm#infrastructurelogging" tppabs="https://webpack.docschina.org/configuration/other-options/#infrastructurelogging">infrastructureLogging</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="level"><a href="../other-options/index.htm#level" tppabs="https://webpack.docschina.org/configuration/other-options/#level">level</a></li><li class="sidebar-item__anchor" title="debug"><a href="../other-options/index.htm#debug" tppabs="https://webpack.docschina.org/configuration/other-options/#debug">debug</a></li></ul></li><li class="sidebar-item__anchor" title="snapshot"><a href="../other-options/index.htm#snapshot" tppabs="https://webpack.docschina.org/configuration/other-options/#snapshot">snapshot</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="managedPaths"><a href="../other-options/index.htm#managedpaths" tppabs="https://webpack.docschina.org/configuration/other-options/#managedpaths">managedPaths</a></li><li class="sidebar-item__anchor" title="immutablePaths"><a href="../other-options/index.htm#immutablepaths" tppabs="https://webpack.docschina.org/configuration/other-options/#immutablepaths">immutablePaths</a></li><li class="sidebar-item__anchor" title="buildDependencies"><a href="../other-options/index.htm#builddependencies" tppabs="https://webpack.docschina.org/configuration/other-options/#builddependencies">buildDependencies</a></li><li class="sidebar-item__anchor" title="module"><a href="../other-options/index.htm#module" tppabs="https://webpack.docschina.org/configuration/other-options/#module">module</a></li><li class="sidebar-item__anchor" title="resolve"><a href="../other-options/index.htm#resolve" tppabs="https://webpack.docschina.org/configuration/other-options/#resolve">resolve</a></li><li class="sidebar-item__anchor" title="resolveBuildDependencies"><a href="../other-options/index.htm#resolvebuilddependencies" tppabs="https://webpack.docschina.org/configuration/other-options/#resolvebuilddependencies">resolveBuildDependencies</a></li></ul></li></ul></div></div><div class="sidebar__docs-version">You are reading webpack <!-- -->5<!-- --> documentation. Change here to:<ul><li><a rel="nofollow" href="javascript:if(confirm('https://v4.webpack.docschina.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://v4.webpack.docschina.org/'" tppabs="https://v4.webpack.docschina.org/">webpack <!-- -->4<!-- --> documentation</a></li></ul></div></div></nav><section class="page"><div class="page-links"><a class="page-links__link" href="javascript:if(confirm('https://github.com/docschina/webpack.js.org/edit/cn/src/content/configuration/printable.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/docschina/webpack.js.org/edit/cn/src/content/configuration/printable.md'" tppabs="https://github.com/docschina/webpack.js.org/edit/cn/src/content/configuration/printable.md">ç¼–è¾‘æ­¤é¡µ<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="page-links__icon" width="12" fill="#1a6bac"><path d="M17.6 2.4C16 1 15 1.2 15 1.2l-6 6L2.2 14l-1 4.8 4.8-1 6.7-6.8 6-6s.3-1.1-1.1-2.6zm-12 14.8l-1.5.4-.7-1-1-.7.4-1.6.5-.4s.8 0 1.8 1 1 1.8 1 1.8l-.4.5z"></path></svg></a><span class="page-links__gap">|</span><button class="page-links__link page-links__print as-link" title="Print this page">æ‰“å°æ–‡æ¡£<img src="../../icon-print.42ad40feec51e6f5f553.svg" tppabs="https://webpack.docschina.org/icon-print.42ad40feec51e6f5f553.svg" alt=""/></button></div><div class="markdown"><h1>Printable</h1><div><h1 id="é…ç½®">é…ç½®<a href="#%E9%85%8D%E7%BD%AE" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>webpack å¼€ç®±å³ç”¨ï¼Œå¯ä»¥æ— éœ€ä½¿ç”¨ä»»ä½•é…ç½®æ–‡ä»¶ã€‚ç„¶è€Œï¼Œwebpack ä¼šå‡å®šé¡¹ç›®çš„å…¥å£èµ·ç‚¹ä¸º <code>src/index.js</code>ï¼Œç„¶åä¼šåœ¨ <code>dist/main.js</code> è¾“å‡ºç»“æœï¼Œå¹¶ä¸”åœ¨ç”Ÿäº§ç¯å¢ƒå¼€å¯å‹ç¼©å’Œä¼˜åŒ–ã€‚</p> <p>é€šå¸¸ä½ çš„é¡¹ç›®è¿˜éœ€è¦ç»§ç»­æ‰©å±•æ­¤èƒ½åŠ›ï¼Œä¸ºæ­¤ä½ å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª <code>webpack.config.js</code> æ–‡ä»¶ï¼Œç„¶å webpack ä¼šè‡ªåŠ¨ä½¿ç”¨å®ƒã€‚</p> <p>ä¸‹é¢æŒ‡å®šäº†æ‰€æœ‰å¯ç”¨çš„é…ç½®é€‰é¡¹ã€‚</p> <blockquote class="tip"> <p>åˆšå¼€å§‹å­¦ä¹  webpackï¼Ÿè¯·æŸ¥çœ‹æˆ‘ä»¬æä¾›çš„æŒ‡å—ï¼Œä» webpack ä¸€äº› <a href="../../concepts.htm" tppabs="https://webpack.docschina.org/concepts">æ ¸å¿ƒæ¦‚å¿µ</a> å¼€å§‹å­¦ä¹ å§ï¼</p> </blockquote> <h2 id="use-different-configuration-file">ä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶ <a href="#use-different-configuration-file" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>å¦‚æœå‡ºäºæŸäº›åŸå› ï¼Œéœ€è¦æ ¹æ®ç‰¹å®šæƒ…å†µä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶ï¼Œåˆ™å¯ä»¥é€šè¿‡åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ <code>--config</code> flag ä¿®æ”¹æ­¤é…ç½®æ–‡ä»¶åç§°ã€‚</p> <p><strong>package.json</strong></p> <pre><code class="hljs language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"webpack --config prod.config.js"</span>
<span class="token punctuation">}</span></code></pre> <h2 id="options">é€‰é¡¹ <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>ç‚¹å‡»ä¸‹é¢é…ç½®ä»£ç ä¸­æ¯ä¸ªé€‰é¡¹çš„åç§°ï¼Œè·³è½¬åˆ°è¯¦ç»†çš„æ–‡æ¡£ã€‚è¿˜è¦æ³¨æ„ï¼Œå¸¦æœ‰ç®­å¤´çš„é¡¹ç›®å¯ä»¥å±•å¼€ï¼Œä»¥æ˜¾ç¤ºæ›´å¤šç¤ºä¾‹ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥çœ‹åˆ°é«˜çº§é…ç½®ã€‚</p> <blockquote class="tip"> <p>æ³¨æ„æ•´ä¸ªé…ç½®ä¸­æˆ‘ä»¬ä½¿ç”¨ Node å†…ç½®çš„ <a href="javascript:if(confirm('https://nodejs.org/api/path.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/api/path.html'" tppabs="https://nodejs.org/api/path.html">path æ¨¡å—</a>ï¼Œå¹¶åœ¨å®ƒå‰é¢åŠ ä¸Š <a href="javascript:if(confirm('https://nodejs.org/docs/latest/api/globals.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/docs/latest/api/globals.html#globals_dirname'" tppabs="https://nodejs.org/docs/latest/api/globals.html#globals_dirname">__dirname</a>è¿™ä¸ªå…¨å±€å˜é‡ã€‚å¯ä»¥é˜²æ­¢ä¸åŒæ“ä½œç³»ç»Ÿä¹‹é—´çš„æ–‡ä»¶è·¯å¾„é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç›¸å¯¹è·¯å¾„æŒ‰ç…§é¢„æœŸå·¥ä½œã€‚æ›´å¤šã€ŒPOSIX å’Œ Windowsã€çš„ç›¸å…³ä¿¡æ¯è¯·æŸ¥çœ‹ <a href="javascript:if(confirm('https://nodejs.org/api/path.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/api/path.html#path_windows_vs_posix'" tppabs="https://nodejs.org/api/path.html#path_windows_vs_posix">æ­¤ç« èŠ‚</a>ã€‚</p> </blockquote> <blockquote class="warning"> <p>Notice that many array configurations allow to reference the default value via <code>"..."</code>.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js-with-links-details">const path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword" componentname="mode" url="/configuration/mode"><span class="token operator">&#x3C;</span>mode <span class="token string">"/configuration/mode"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      mode<span class="token operator">:</span> <span class="token string">"production"</span><span class="token punctuation">,</span> <span class="token comment">// "production" | "development" | "none"</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    mode<span class="token operator">:</span> <span class="token string">"production"</span><span class="token punctuation">,</span> <span class="token comment">// enable many optimizations for production builds</span>
    mode<span class="token operator">:</span> <span class="token string">"development"</span><span class="token punctuation">,</span> <span class="token comment">// enabled useful tools for development</span>
    mode<span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span> <span class="token comment">// no defaults</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>mode<span class="token operator">></span></span>
  <span class="token comment">// Chosen mode tells webpack to use its built-in optimizations accordingly.</span>
  <span class="token keyword" componentname="entry" url="/configuration/entry-context/#entry"><span class="token operator">&#x3C;</span>entry <span class="token string">"/configuration/entry-context/#entry"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      entry<span class="token operator">:</span> <span class="token string">"./app/entry"</span><span class="token punctuation">,</span> <span class="token comment">// string | object | array</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    entry<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"./app/entry1"</span><span class="token punctuation">,</span> <span class="token string">"./app/entry2"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    entry<span class="token operator">:</span> <span class="token punctuation">{</span>
      a<span class="token operator">:</span> <span class="token string">"./app/entry-a"</span><span class="token punctuation">,</span>
      b<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"./app/entry-b1"</span><span class="token punctuation">,</span> <span class="token string">"./app/entry-b2"</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    entry<span class="token operator">:</span> <span class="token punctuation">{</span>
      a<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">import</span><span class="token operator">:</span> <span class="token string">"./app/entry-a"</span><span class="token punctuation">,</span>
        library<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">"commonjs-module"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        dependOn<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"vendors"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        filename<span class="token operator">:</span> <span class="token string">"entries/a.js"</span><span class="token punctuation">,</span>
        runtime<span class="token operator">:</span> <span class="token string">"dashboard"</span><span class="token punctuation">,</span>
        chunkLoading<span class="token operator">:</span> <span class="token string">"jsonp"</span><span class="token punctuation">,</span>
        wasmLoading<span class="token operator">:</span> <span class="token string">"fetch-streaming"</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      vendors<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"react"</span><span class="token punctuation">,</span> <span class="token string">"react-dom"</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>entry<span class="token operator">></span></span>
  <span class="token comment">// é»˜è®¤ä¸º ./src</span>
  <span class="token comment">// è¿™é‡Œåº”ç”¨ç¨‹åºå¼€å§‹æ‰§è¡Œ</span>
  <span class="token comment">// webpack å¼€å§‹æ‰“åŒ…</span>
  <span class="token keyword" componentname="link" url="/configuration/output"><span class="token operator">&#x3C;</span>link <span class="token string">"/configuration/output"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>link<span class="token operator">></span></span>
    <span class="token comment">// webpack å¦‚ä½•è¾“å‡ºç»“æœçš„ç›¸å…³é€‰é¡¹</span>
    <span class="token keyword" componentname="path" url="/configuration/output/#outputpath"><span class="token operator">&#x3C;</span>path <span class="token string">"/configuration/output/#outputpath"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// string (default)</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>path<span class="token operator">></span></span>
    <span class="token comment">// æ‰€æœ‰è¾“å‡ºæ–‡ä»¶çš„ç›®æ ‡è·¯å¾„</span>
    <span class="token comment">// å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ï¼ˆä½¿ç”¨ Node.js çš„ path æ¨¡å—ï¼‰</span>
    <span class="token keyword" componentname="filename" url="/configuration/output/#outputfilename"><span class="token operator">&#x3C;</span>filename <span class="token string">"/configuration/output/#outputfilename"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        filename<span class="token operator">:</span> <span class="token string">"[name].js"</span><span class="token punctuation">,</span> <span class="token comment">// string (default)</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      filename<span class="token operator">:</span> <span class="token string">"[contenthash].js"</span><span class="token punctuation">,</span> <span class="token comment">// ç”¨äºé•¿æ•ˆç¼“å­˜</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>filename<span class="token operator">></span></span>
    <span class="token comment">// entry chunk çš„æ–‡ä»¶åæ¨¡æ¿</span>
    <span class="token keyword" componentname="publicPath" url="/configuration/output/#outputpublicpath"><span class="token operator">&#x3C;</span>publicPath <span class="token string">"/configuration/output/#outputpublicpath"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        publicPath<span class="token operator">:</span> <span class="token string">"/assets/"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      publicPath<span class="token operator">:</span> <span class="token string">"auto"</span><span class="token punctuation">,</span> <span class="token comment">// determined automatically from script tag (default)</span>
      publicPath<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token comment">// relative to HTML file</span>
      publicPath<span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token comment">// relative to server root</span>
      publicPath<span class="token operator">:</span> <span class="token string">"https://cdn.example.com/"</span><span class="token punctuation">,</span> <span class="token comment">// absolute URL</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>publicPath<span class="token operator">></span></span>
    <span class="token comment">// è¾“å‡ºè§£ææ–‡ä»¶çš„ç›®å½•ï¼Œurl ç›¸å¯¹äº HTML é¡µé¢</span>
    <span class="token keyword" componentname="library" url="/configuration/output/#outputlibrary"><span class="token operator">&#x3C;</span>library <span class="token string">"/configuration/output/#outputlibrary"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        library<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// è¿™é‡Œæœ‰ä¸€ç§æ—§çš„è¯­æ³•å½¢å¼å¯ä»¥ä½¿ç”¨ï¼ˆç‚¹å‡»æ˜¾ç¤ºï¼‰</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      <span class="token comment">// æ—§è¯­æ³•ï¼š</span>
      library<span class="token operator">:</span> <span class="token string">"MyLibrary"</span><span class="token punctuation">,</span> <span class="token comment">// string,</span>
      libraryTarget<span class="token operator">:</span> <span class="token string">"umd"</span><span class="token punctuation">,</span> <span class="token comment">// = library.type</span>
      auxiliaryComment<span class="token operator">:</span> <span class="token string">"comment"</span><span class="token punctuation">,</span> <span class="token comment">// = library.auxiliaryComment</span>
      libraryExport<span class="token operator">:</span> <span class="token string">"default"</span><span class="token punctuation">,</span> <span class="token comment">// = library.export</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>library<span class="token operator">></span></span>
      <span class="token keyword" componentname="libraryType" url="/configuration/output/#outputlibrarytype"><span class="token operator">&#x3C;</span>libraryType <span class="token string">"/configuration/output/#outputlibrarytype"</span><span class="token operator">></span>
        <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
          type<span class="token operator">:</span> <span class="token string">"umd"</span><span class="token punctuation">,</span> <span class="token comment">// é€šç”¨æ¨¡å—å®šä¹‰</span>
        <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
        type<span class="token operator">:</span> <span class="token string">"umd2"</span><span class="token punctuation">,</span> <span class="token comment">// é€šç”¨æ¨¡å—å®šä¹‰ (but optional externals will use globals)</span>
        type<span class="token operator">:</span> <span class="token string">"commonjs-module"</span><span class="token punctuation">,</span> <span class="token comment">// exported with module.exports</span>
        type<span class="token operator">:</span> <span class="token string">"commonjs2"</span><span class="token punctuation">,</span> <span class="token comment">// old name for "commonjs-module"</span>
        type<span class="token operator">:</span> <span class="token string">"commonjs"</span><span class="token punctuation">,</span> <span class="token comment">// exported as properties to exports</span>
        type<span class="token operator">:</span> <span class="token string">"amd"</span><span class="token punctuation">,</span> <span class="token comment">// defined with AMD define() method</span>
        type<span class="token operator">:</span> <span class="token string">"amd-require"</span><span class="token punctuation">,</span> <span class="token comment">// defined with AMD require() method (can't have exports)</span>
        type<span class="token operator">:</span> <span class="token string">"system"</span><span class="token punctuation">,</span> <span class="token comment">// exported to System.js</span>
        type<span class="token operator">:</span> <span class="token string">"this"</span><span class="token punctuation">,</span> <span class="token comment">// property set on this</span>
        type<span class="token operator">:</span> <span class="token string">"var"</span><span class="token punctuation">,</span> <span class="token comment">// variable defined in root scope (default)</span>
        type<span class="token operator">:</span> <span class="token string">"assign"</span><span class="token punctuation">,</span> <span class="token comment">// blind assignment</span>
        type<span class="token operator">:</span> <span class="token string">"global"</span><span class="token punctuation">,</span> <span class="token comment">// property set to global object as specified in output.globalObject</span>
        type<span class="token operator">:</span> <span class="token string">"window"</span><span class="token punctuation">,</span> <span class="token comment">// property set to window object</span>
        type<span class="token operator">:</span> <span class="token string">"self"</span><span class="token punctuation">,</span> <span class="token comment">// property set to self object</span>
        type<span class="token operator">:</span> <span class="token string">"jsonp"</span><span class="token punctuation">,</span> <span class="token comment">// jsonp wrapper</span>
        type<span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span> <span class="token comment">// EcmaScript Module (not implemented yet)</span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>libraryType<span class="token operator">></span></span>
      <span class="token comment">// the type of the exported library</span>
      <span class="token keyword" componentname="libraryName" url="/configuration/output/#outputlibraryname"><span class="token operator">&#x3C;</span>libraryName <span class="token string">"/configuration/output/#outputlibraryname"</span><span class="token operator">></span>
        <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
          name<span class="token operator">:</span> <span class="token string">"MyLibrary"</span><span class="token punctuation">,</span> <span class="token comment">// string | string[]</span>
        <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
        name<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"MyCompany"</span><span class="token punctuation">,</span> <span class="token string">"MyLibrary"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Some types support creating nested objects</span>
        name<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token comment">// Some types support unnamed library (default)</span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>libraryName<span class="token operator">></span></span>
      <span class="token comment">// the name of the exported library</span>

      <span class="token keyword" componentname="advancedLibrary" url="#"><span class="token operator">&#x3C;</span>advancedLibrary <span class="token string">"#"</span><span class="token operator">></span>
        <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
          <span class="token comment">/* Advanced output.library configuration (click to show) */</span>
        <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token keyword">export</span><span class="token operator">:</span> <span class="token string">"default"</span><span class="token punctuation">,</span> <span class="token comment">// string | string[]</span>
        <span class="token keyword">export</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token comment">// expose the whole namespace object resp. module.exports value (default)</span>
        <span class="token keyword">export</span><span class="token operator">:</span> <span class="token string">"named"</span><span class="token punctuation">,</span> <span class="token comment">// expose named exports</span>
        <span class="token keyword">export</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"named"</span><span class="token punctuation">,</span> <span class="token string">"property"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// expose nested properties</span>
        <span class="token comment">// the export of the entry module that should be exposed</span>
        auxiliaryComment<span class="token operator">:</span> <span class="token string">"comment"</span><span class="token punctuation">,</span>
        auxiliaryComment<span class="token operator">:</span> <span class="token punctuation">{</span> amd<span class="token operator">:</span> <span class="token string">"comment"</span><span class="token punctuation">,</span> commonjs<span class="token operator">:</span> <span class="token string">"comment"</span><span class="token punctuation">,</span> commonjs2<span class="token operator">:</span> <span class="token string">"comment"</span><span class="token punctuation">,</span> root<span class="token operator">:</span> <span class="token string">"comment"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// Add a comment in the UMD wrapper</span>
        umdNamedDefine<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token comment">// Use a named define() for the AMD part of the UMD wrapper</span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedLibrary<span class="token operator">></span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    uniqueName<span class="token operator">:</span> <span class="token string">"my-application"</span><span class="token punctuation">,</span> <span class="token comment">// (defaults to package.json "name")</span>
    <span class="token comment">// unique name for this build to avoid conflicts with other builds in the same HTML</span>
    name<span class="token operator">:</span> <span class="token string">"my-config"</span><span class="token punctuation">,</span>
    <span class="token comment">// name of the configuration, shown in output</span>
    <span class="token keyword" componentname="advancedOutput" url="#"><span class="token operator">&#x3C;</span>advancedOutput <span class="token string">"#"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* é«˜çº§è¾“å‡ºé…ç½®ï¼ˆç‚¹å‡»æ˜¾ç¤ºï¼‰ */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      chunkFilename<span class="token operator">:</span> <span class="token string">"[name].js"</span><span class="token punctuation">,</span>
      chunkFilename<span class="token operator">:</span> <span class="token string">"[id].js"</span><span class="token punctuation">,</span>
      chunkFilename<span class="token operator">:</span> <span class="token string">"[contenthash].js"</span><span class="token punctuation">,</span> <span class="token comment">// é•¿æ•ˆç¼“å­˜</span>
      <span class="token comment">// the filename template for additional chunks</span>
      assetModuleFilename<span class="token operator">:</span> <span class="token string">"[hash][ext][query]"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// the filename template for asset modules</span>
      webassemblyModuleFilename<span class="token operator">:</span> <span class="token string">"[hash].module.wasm"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// the filename template for wasm modules</span>
      sourceMapFilename<span class="token operator">:</span> <span class="token string">"[file].map"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      sourceMapFilename<span class="token operator">:</span> <span class="token string">"sourcemaps/[file].map"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// source map location çš„æ–‡ä»¶åæ¨¡æ¿</span>
      devtoolModuleFilenameTemplate<span class="token operator">:</span> <span class="token string">"webpack:///[resource-path]"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// devtool æ¨¡å—çš„æ–‡ä»¶åæ¨¡æ¿</span>
      devtoolFallbackModuleFilenameTemplate<span class="token operator">:</span> <span class="token string">"webpack:///[resource-path]?[hash]"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// devtool æ¨¡å—çš„æ–‡ä»¶åæ¨¡æ¿ï¼ˆç”¨äºå†²çªï¼‰</span>
      crossOriginLoading<span class="token operator">:</span> <span class="token string">"use-credentials"</span><span class="token punctuation">,</span> <span class="token comment">// enum</span>
      crossOriginLoading<span class="token operator">:</span> <span class="token string">"anonymous"</span><span class="token punctuation">,</span>
      crossOriginLoading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// specifies how cross origin request are issued by the runtime</span>
      importFunctionName<span class="token operator">:</span> <span class="token string">"import"</span><span class="token punctuation">,</span> <span class="token comment">// string (default)</span>
      <span class="token comment">// expression that is called when using import()</span>
      <span class="token comment">// can be replaced to use polyfills</span>
      importMetaName<span class="token operator">:</span> <span class="token string">"import.meta"</span><span class="token punctuation">,</span> <span class="token comment">// string (default)</span>
      <span class="token comment">// expression that is used when using import.meta</span>
      <span class="token comment">// can be replaced to use polyfills</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedOutput<span class="token operator">></span></span>
    <span class="token keyword" componentname="expertOutput" url="#"><span class="token operator">&#x3C;</span>expertOutput <span class="token string">"#"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* Expert output configuration 1 (on own risk) */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      pathinfo<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
      <span class="token comment">// include useful path info about modules, exports, requests, etc. into the generated code</span>
      charset<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// add charset attribute to injected script tags</span>
      chunkLoadTimeout<span class="token operator">:</span> <span class="token number">120000</span><span class="token punctuation">,</span> <span class="token comment">// number (default)</span>
      <span class="token comment">// timeout for loading chunks</span>
      compareBeforeEmit<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean (default)</span>
      <span class="token comment">// compare the generated asset with the asset on disk before writing to disk</span>
      strictModuleExceptionHandling<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
      <span class="token comment">// handle errors in module evaluation correctly, but for a performance cost</span>
      devtoolNamespace<span class="token operator">:</span> <span class="token string">"MyLibrary"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// prefix in the source names for devtools</span>
      <span class="token comment">// defaults to output.uniqueName</span>
      environment<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// Properties about the environment</span>
        arrowFunction<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        bigIntLiteral<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token keyword">const</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        destructuring<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        dynamicImport<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        forOf<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        module<span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      globalObject<span class="token operator">:</span> <span class="token string">"self"</span><span class="token punctuation">,</span> <span class="token comment">// string (default),</span>
      <span class="token comment">// expression that points to the global object</span>
      iife<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean (default)</span>
      <span class="token comment">// wrap the bundle in a IIFE for isolation</span>
      module<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// boolean (default)</span>
      <span class="token comment">// generate a module type javascript file instead of a classic script</span>
      scriptType<span class="token operator">:</span> <span class="token string">"module"</span>
      <span class="token comment">// adds a type attribute to injected script tags</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>expertOutput<span class="token operator">></span></span>
    <span class="token keyword" componentname="expertOutputB" url="#"><span class="token operator">&#x3C;</span>expertOutputB <span class="token string">"#"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* Expert output configuration 2 (on own risk) */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      chunkLoading<span class="token operator">:</span> <span class="token string">"jsonp"</span> <span class="token comment">// "jsonp" | "import-scripts" | "require" | "async-node" | false</span>
      <span class="token comment">// method of loading chunks</span>
      chunkLoadingGlobal<span class="token operator">:</span> <span class="token string">"myWebpackJsonp"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// name of the global variable used to load chunks</span>
      enabledChunkLoadingTypes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"jsonp"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// string[]</span>
      <span class="token comment">// the chunk loading methods that are available</span>
      enabledLibraryTypes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"var"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// string[]</span>
      <span class="token comment">// the library types that are available</span>
      enabledWasmLoadingTypes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"var"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// string[]</span>
      <span class="token comment">// the wasm loading methods that are available</span>
      chunkFormat<span class="token operator">:</span> <span class="token string">"array-push"</span><span class="token punctuation">,</span>
      chunkFormat<span class="token operator">:</span> <span class="token string">"commonjs"</span><span class="token punctuation">,</span>
      chunkFormat<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// the format of chunks</span>
      hotUpdateMainFilename<span class="token operator">:</span> <span class="token string">"[fullhash].hot-update.json"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// filename template for HMR manifest</span>
      hotUpdateChunkFilename<span class="token operator">:</span> <span class="token string">"[id].[fullhash].hot-update.js"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// filename template for HMR chunks</span>
      hotUpdateGlobal<span class="token operator">:</span> <span class="token string">"hmrUpdateFunction"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// the name of the global variable used to load hot update chunks</span>
      sourcePrefix<span class="token operator">:</span> <span class="token string">"\t"</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
      <span class="token comment">// prefix module sources in bundle for better readablitity</span>
      <span class="token comment">// but breaks multi-line template strings</span>
      hashFunction<span class="token operator">:</span> <span class="token string">"md4"</span><span class="token punctuation">,</span> <span class="token comment">// string (default)</span>
      <span class="token comment">// hash function used in general</span>
      hashDigest<span class="token operator">:</span> <span class="token string">"hex"</span><span class="token punctuation">,</span> <span class="token comment">// string (default)</span>
      <span class="token comment">// hash digest type used</span>
      hashDigestLength<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment">// number (default)</span>
      <span class="token comment">// length of hashes</span>
      hashSalt<span class="token operator">:</span> <span class="token string">"salt"</span><span class="token punctuation">,</span> <span class="token comment">// string | Buffer</span>
      <span class="token comment">// an additional hash salt to fix hash related issues or change the hash in general</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>expertOutputB<span class="token operator">></span></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ¨¡å—é…ç½®ç›¸å…³</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// æ¨¡å—è§„åˆ™ï¼ˆé…ç½® loaderã€è§£æå™¨ç­‰é€‰é¡¹ï¼‰</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// Conditions:</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.jsx?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        include<span class="token operator">:</span> <span class="token punctuation">[</span>
          path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app"</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        exclude<span class="token operator">:</span> <span class="token punctuation">[</span>
          path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app/demo-files"</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token comment">// these are matching conditions, each accepting a regular expression or string</span>
        <span class="token comment">// test and include have the same behavior, both must be matched</span>
        <span class="token comment">// exclude must not be matched (takes preferrence over test and include)</span>
        <span class="token comment">// Best practices:</span>
        <span class="token comment">// - Use RegExp only in test and for filename matching</span>
        <span class="token comment">// - Use arrays of absolute paths in include and exclude to match the full path</span>
        <span class="token comment">// - Try to avoid exclude and prefer include</span>
        <span class="token comment">// Each condition can also receive an object with "and", "or" or "not" properties</span>
        <span class="token comment">// which are an array of conditions.</span>
        issuer<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        issuer<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        issuer<span class="token operator">:</span> <span class="token punctuation">{</span> and<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app"</span><span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        issuer<span class="token operator">:</span> <span class="token punctuation">{</span> or<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app"</span><span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        issuer<span class="token operator">:</span> <span class="token punctuation">{</span> not<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        issuer<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app"</span><span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// like "or"</span>
        <span class="token comment">// conditions for the issuer (the origin of the import)</span>
        <span class="token keyword" componentname="advancedConditions" url="#"><span class="token operator">&#x3C;</span>advancedConditions <span class="token string">"#"</span><span class="token operator">></span>
          <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
            <span class="token comment">/* Advanced conditions (click to show) */</span>
          <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
          resource<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token comment">// matches the resource of the module, behaves equal to "test" and "include"</span>
          compiler<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">html-webpack-plugin</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token comment">// matches the name of the child compilation</span>
          dependency<span class="token operator">:</span> <span class="token string">"esm"</span><span class="token punctuation">,</span> <span class="token comment">// import-style dependencies</span>
          dependency<span class="token operator">:</span> <span class="token string">"commonjs"</span><span class="token punctuation">,</span> <span class="token comment">// require-style dependencies</span>
          dependency<span class="token operator">:</span> <span class="token string">"amd"</span><span class="token punctuation">,</span> <span class="token comment">// AMD-style dependency</span>
          dependency<span class="token operator">:</span> <span class="token string">"wasm"</span><span class="token punctuation">,</span> <span class="token comment">// WebAssembly imports section</span>
          dependency<span class="token operator">:</span> <span class="token string">"url"</span><span class="token punctuation">,</span> <span class="token comment">// new URL(), url() and similar</span>
          dependency<span class="token operator">:</span> <span class="token string">"worker"</span><span class="token punctuation">,</span> <span class="token comment">// new Worker() and similar</span>
          dependency<span class="token operator">:</span> <span class="token string">"loader"</span><span class="token punctuation">,</span> <span class="token comment">// this.loadModule in loaders</span>
          <span class="token comment">// matches the type of dependency</span>
          descriptionData<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">"module"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token comment">// matches information from the package.json</span>
          mimetype<span class="token operator">:</span> <span class="token string">"text/javascript"</span><span class="token punctuation">,</span>
          <span class="token comment">// matches the mimetype in DataUris</span>
          realResource<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token comment">// matches the resource but ignores when resource was been renamed</span>
          resourceFragment<span class="token operator">:</span> <span class="token string">"#blah"</span><span class="token punctuation">,</span>
          <span class="token comment">// matches the fragment part of the resource request</span>
          resourceQuery<span class="token operator">:</span> <span class="token string">"?blah"</span>
          <span class="token comment">// matches the query part of the resource request</span>
        <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedConditions<span class="token operator">></span></span>

        <span class="token comment">// Actions:</span>
        loader<span class="token operator">:</span> <span class="token string">"babel-loader"</span><span class="token punctuation">,</span>
        <span class="token comment">// åº”è¯¥åº”ç”¨çš„ loaderï¼Œå®ƒç›¸å¯¹ä¸Šä¸‹æ–‡è§£æ</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"es2015"</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// options for the loader</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// apply multiple loaders and options instead</span>
          <span class="token string">"htmllint-loader"</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">"html-loader"</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// ...</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
        <span class="token keyword" componentname="moduleType" url="#"><span class="token operator">&#x3C;</span>moduleType <span class="token string">"#"</span><span class="token operator">></span>
          <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
            type<span class="token operator">:</span> <span class="token string">"javascript/auto"</span><span class="token punctuation">,</span>
          <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
          type<span class="token operator">:</span> <span class="token string">"javascript/auto"</span><span class="token punctuation">,</span> <span class="token comment">// JS with all features</span>
          type<span class="token operator">:</span> <span class="token string">"javascript/esm"</span><span class="token punctuation">,</span> <span class="token comment">// JS enforced to strict ESM</span>
          type<span class="token operator">:</span> <span class="token string">"javascript/dynamic"</span><span class="token punctuation">,</span> <span class="token comment">// JS enforced to non-ESM</span>
          type<span class="token operator">:</span> <span class="token string">"json"</span><span class="token punctuation">,</span> <span class="token comment">// JSON data</span>
          type<span class="token operator">:</span> <span class="token string">"webassembly/async"</span><span class="token punctuation">,</span> <span class="token comment">// WebAssembly as async module</span>
          type<span class="token operator">:</span> <span class="token string">"webassembly/sync"</span><span class="token punctuation">,</span> <span class="token comment">// WebAssembly as sync module</span>
        <span class="token operator">&#x3C;</span><span class="token operator">/</span>moduleType<span class="token operator">></span></span>
        <span class="token comment">// specifies the module type</span>
        <span class="token keyword" componentname="advancedActions" url="#"><span class="token operator">&#x3C;</span>advancedActions <span class="token string">"#"</span><span class="token operator">></span>
          <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
            <span class="token comment">/* Advanced actions (click to show) */</span>
          <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
          enforce<span class="token operator">:</span> <span class="token string">"pre"</span><span class="token punctuation">,</span>
          enforce<span class="token operator">:</span> <span class="token string">"post"</span><span class="token punctuation">,</span>
          <span class="token comment">// flags to apply these rules, even if they are overridden</span>
          generator<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token comment">// Options for the generator (depends on module type)</span>
          parser<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token comment">// Options for the parser (depends on module type)</span>
          resolve<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token comment">// Resolve options (same as "resolve" in configuration)</span>
          sideEffects<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
          <span class="token comment">// Overrides "sideEffects" from package.json</span>
        <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedActions<span class="token operator">></span></span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        oneOf<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// ... (rules)</span>
        <span class="token punctuation">]</span>
        <span class="token comment">// only use one of these nested rules</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// ... (conditions)</span>
        rules<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// ... (rules)</span>
        <span class="token punctuation">]</span>
        <span class="token comment">// use all of these nested rules (combine with conditions to be useful)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token keyword" componentname="advancedModule" url="#"><span class="token operator">&#x3C;</span>advancedModule <span class="token string">"#"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* é«˜çº§æ¨¡å—é…ç½®ï¼ˆç‚¹å‡»å±•ç¤ºï¼‰ */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      noParse<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">special-library\.js$</span><span class="token regex-delimiter">/</span></span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// ä¸è§£æè¿™é‡Œçš„æ¨¡å—</span>
      unknownContextRequest<span class="token operator">:</span> <span class="token string">"."</span><span class="token punctuation">,</span>
      unknownContextRecursive<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      unknownContextRegExp<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\.\/.*$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      unknownContextCritical<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      exprContextRequest<span class="token operator">:</span> <span class="token string">"."</span><span class="token punctuation">,</span>
      exprContextRegExp<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\.\/.*$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      exprContextRecursive<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      exprContextCritical<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      wrappedContextRegExp<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      wrappedContextRecursive<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      wrappedContextCritical<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// specifies default behavior for dynamic requests</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedModule<span class="token operator">></span></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// options for resolving module requests</span>
    <span class="token comment">// (does not apply to resolving of loaders)</span>
    <span class="token keyword" componentname="modules" url="/configuration/resolve/#resolvemodules"><span class="token operator">&#x3C;</span>modules <span class="token string">"/configuration/resolve/#resolvemodules"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        modules<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">"node_modules"</span><span class="token punctuation">,</span>
          path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app"</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      modules<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"node_modules"</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// A filename (non-absolute) means this folder is looked up</span>
      <span class="token comment">// in all parent directories</span>
      modules<span class="token operator">:</span> <span class="token punctuation">[</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app"</span><span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// An absolute path means exactly this folder</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>modules<span class="token operator">></span></span>
    <span class="token comment">// directories where to look for modules (in order)</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">".js"</span><span class="token punctuation">,</span> <span class="token string">".json"</span><span class="token punctuation">,</span> <span class="token string">".jsx"</span><span class="token punctuation">,</span> <span class="token string">".css"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// ä½¿ç”¨çš„æ‰©å±•å</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// a list of module name aliases</span>
      <span class="token comment">// aliases are imported relative to the current context</span>
      <span class="token string">"module"</span><span class="token operator">:</span> <span class="token string">"new-module"</span><span class="token punctuation">,</span>
      <span class="token comment">// åˆ«åï¼š"module" -> "new-module" å’Œ "module/path/file" -> "new-module/path/file"</span>
      <span class="token string">"only-module$"</span><span class="token operator">:</span> <span class="token string">"new-module"</span><span class="token punctuation">,</span>
      <span class="token comment">// åˆ«å "only-module" -> "new-module"ï¼Œä½†ä¸åŒ¹é… "only-module/path/file" -> "new-module/path/file"</span>
      <span class="token string">"module"</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app/third/module.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">// alias "module" -> "./app/third/module.js" and "module/file" results in error</span>
      <span class="token string">"module"</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app/third"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">// alias "module" -> "./app/third" and "module/file" -> "./app/third/file"</span>
      <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app/module.js"</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app/alternative-module.js"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">// alias "./app/module.js" -> "./app/alternative-module.js"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword" componentname="alias" url="/configuration/resolve/#resolvealias"><span class="token operator">&#x3C;</span>alias <span class="token string">"/configuration/resolve/#resolvealias"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* å¯ä¾›é€‰æ‹©çš„åˆ«åè¯­æ³•ï¼ˆç‚¹å‡»å±•ç¤ºï¼‰ */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      alias<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span>
          <span class="token comment">// æ—§çš„ request</span>
          alias<span class="token operator">:</span> <span class="token string">"new-module"</span><span class="token punctuation">,</span>
          <span class="token comment">// æ–°çš„ request</span>
          onlyModule<span class="token operator">:</span> <span class="token boolean">true</span>
          <span class="token comment">// å¦‚æœä¸º trueï¼Œåªæœ‰ "module" æ˜¯åˆ«å</span>
          <span class="token comment">// å¦‚æœä¸º falseï¼Œ"module/inner/path" ä¹Ÿæ˜¯åˆ«å</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>alias<span class="token operator">></span></span>
    <span class="token keyword" componentname="advancedResolve" url="/configuration/resolve/"><span class="token operator">&#x3C;</span>advancedResolve <span class="token string">"/configuration/resolve/"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* é«˜çº§è§£æé€‰é¡¹ï¼ˆç‚¹å‡»å±•ç¤ºï¼‰ */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      conditionNames<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"myCompanyCondition"</span><span class="token punctuation">,</span> <span class="token string">"..."</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// conditions used for the "exports" and "imports" field in description file</span>
      roots<span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app/root"</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// locations where to resolve server-relative requests (starting with "/")</span>
      <span class="token comment">// This behavior is only applied when the request doesn't resolve as absolute path</span>
      fallback<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">"events"</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"events.js"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// Similar to alias, but only applied when the normal resolving fails</span>
      mainFields<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"main"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// properties that are read from description file</span>
      <span class="token comment">// when a folder is requested</span>
      restrictions<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"app"</span><span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// To successful resolve the result must match these criteria</span>
      cache<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
      <span class="token comment">// enable safe caching of resolving</span>
      <span class="token comment">// this is safe as it tracks and validates all resolving dependencies</span>
      unsafeCache<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      unsafeCache<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// enables unsafe caching for resolved requests</span>
      <span class="token comment">// this is unsafe as there is no validation</span>
      <span class="token comment">// but performance improvement is really big</span>
      plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// additional plugins applied to the resolver</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedResolve<span class="token operator">></span></span>
    <span class="token keyword" componentname="expertResolve" url="/configuration/resolve/"><span class="token operator">&#x3C;</span>expertResolve <span class="token string">"/configuration/resolve/"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* Expert resolve configuration (click to show) */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      symlinks<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// (default)</span>
      <span class="token comment">// follow symlinks to new location</span>
      descriptionFiles<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"package.json"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// (default)</span>
      <span class="token comment">// files that are read for package description</span>
      aliasFields<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"browser"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// properties that are read from description file</span>
      <span class="token comment">// to alias requests in this package</span>
      exportsFields<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"exports"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// (default)</span>
      <span class="token comment">// fields in description file that are used for external module request</span>
      importsFields<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"imports"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// (default)</span>
      <span class="token comment">// fields in description file that are used for internal request</span>
      mainFiles<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"index"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// files that are used when resolving in a directory and no mainField applies</span>
      fullySpecified<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
      <span class="token comment">// Input request is already full specified (it includes filename and extension)</span>
      <span class="token comment">// Module requests are still resolved as usual</span>
      preferRelative<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
      <span class="token comment">// Try to resolve module requests also a relative request</span>
      enforceExtension<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// if true request must not include an extension</span>
      <span class="token comment">// if false request may already include an extension</span>
      <span class="token function-variable function">cachePredicate</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> path<span class="token punctuation">,</span> request <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// predicate function which selects requests for caching</span>
      cacheWithContext<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// (default)</span>
      <span class="token comment">// include context information in cache key</span>
      <span class="token comment">// This must be set to true when custom plugins resolve depending on</span>
      <span class="token comment">// those information</span>
      useSyncFileSystemCalls<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// (default)</span>
      <span class="token comment">// use sync fs calls instead of async fs calls</span>
      byDependency<span class="token operator">:</span> <span class="token punctuation">{</span> commonjs<span class="token operator">:</span> <span class="token punctuation">{</span> extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">".js"</span><span class="token punctuation">,</span> <span class="token string">"..."</span><span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// change resolving depending on issuer dependency</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>expertResolve<span class="token operator">></span></span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  performance<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword" componentname="hints" url="/configuration/performance/#performancehints"><span class="token operator">&#x3C;</span>hints <span class="token string">"/configuration/performance/#performancehints"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        hints<span class="token operator">:</span> <span class="token string">"warning"</span><span class="token punctuation">,</span> <span class="token comment">// æšä¸¾</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      hints<span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token comment">// æ€§èƒ½æç¤ºä¸­æŠ›å‡ºé”™è¯¯</span>
      hints<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// å…³é—­æ€§èƒ½æç¤º</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>hints<span class="token operator">></span></span>
    maxAssetSize<span class="token operator">:</span> <span class="token number">200000</span><span class="token punctuation">,</span> <span class="token comment">// æ•´æ•°ç±»å‹ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰</span>
    maxEntrypointSize<span class="token operator">:</span> <span class="token number">400000</span><span class="token punctuation">,</span> <span class="token comment">// æ•´æ•°ç±»å‹ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰</span>
    <span class="token function-variable function">assetFilter</span><span class="token operator">:</span> <span class="token function">function</span><span class="token punctuation">(</span><span class="token parameter">assetFilename</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// æä¾›èµ„æºæ–‡ä»¶åçš„æ–­è¨€å‡½æ•°</span>
      return assetFilename<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.css'</span><span class="token punctuation">)</span> <span class="token operator">||</span> assetFilename<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword" componentname="devtool" url="/configuration/devtool"><span class="token operator">&#x3C;</span>devtool <span class="token string">"/configuration/devtool"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      devtool<span class="token operator">:</span> <span class="token string">"source-map"</span><span class="token punctuation">,</span> <span class="token comment">// enum</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    devtool<span class="token operator">:</span> <span class="token string">"inline-source-map"</span><span class="token punctuation">,</span> <span class="token comment">// inlines SourceMap into original file</span>
    devtool<span class="token operator">:</span> <span class="token string">"hidden-source-map"</span><span class="token punctuation">,</span> <span class="token comment">// SourceMap without reference in original file</span>
    devtool<span class="token operator">:</span> <span class="token string">"eval-source-map"</span><span class="token punctuation">,</span> <span class="token comment">// inlines SourceMap per module</span>
    devtool<span class="token operator">:</span> <span class="token string">"cheap-source-map"</span><span class="token punctuation">,</span> <span class="token comment">// cheap-variant of SourceMap without module mappings</span>
    devtool<span class="token operator">:</span> <span class="token string">"cheap-module-source-map"</span><span class="token punctuation">,</span> <span class="token comment">// cheap-variant of SourceMap with module mappings</span>
    devtool<span class="token operator">:</span> <span class="token string">"eval-cheap-module-source-map"</span><span class="token punctuation">,</span> <span class="token comment">// like above but per module</span>
    devtool<span class="token operator">:</span> <span class="token string">"eval"</span><span class="token punctuation">,</span> <span class="token comment">// no SourceMap, but named modules. Fastest at the expense of detail.</span>
    devtool<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// no SourceMap</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>devtool<span class="token operator">></span></span>
  <span class="token comment">// é€šè¿‡ä¸ºæµè§ˆå™¨è°ƒè¯•å·¥å…·æä¾›æå…¶è¯¦ç»†çš„æºæ˜ å°„çš„å…ƒä¿¡æ¯æ¥å¢å¼ºè°ƒè¯•èƒ½åŠ›ï¼Œ</span>
  <span class="token comment">// ä½†ä¼šç‰ºç‰²æ„å»ºé€Ÿåº¦ã€‚</span>
  context<span class="token operator">:</span> __dirname<span class="token punctuation">,</span> <span class="token comment">// stringï¼ˆç»å¯¹è·¯å¾„ï¼ï¼‰</span>
  <span class="token comment">// webpack çš„ä¸»ç›®å½•</span>
  <span class="token comment">// entry å’Œ module.rules.loader é€‰é¡¹</span>
  <span class="token comment">// éƒ½ç›¸å¯¹äºæ­¤ç›®å½•è§£æ</span>
  <span class="token keyword" componentname="target" url="/configuration/target"><span class="token operator">&#x3C;</span>target <span class="token string">"/configuration/target"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      target<span class="token operator">:</span> <span class="token string">"web"</span><span class="token punctuation">,</span> <span class="token comment">// æšä¸¾</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    target<span class="token operator">:</span> <span class="token string">"browserslist"</span><span class="token punctuation">,</span> <span class="token comment">// use browserslist</span>
    target<span class="token operator">:</span> <span class="token string">"browserslist:modern"</span><span class="token punctuation">,</span> <span class="token comment">// use browserslist "modern" preset</span>
    target<span class="token operator">:</span> <span class="token string">"browserslist:Chrome >= 43"</span><span class="token punctuation">,</span> <span class="token comment">// use browserslist query</span>
    target<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">browserslist:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"browserslist.json"</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    target<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">browserslist:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"browserslist.json"</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:modern</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    target<span class="token operator">:</span> <span class="token string">"webworker"</span><span class="token punctuation">,</span> <span class="token comment">// WebWorker</span>
    target<span class="token operator">:</span> <span class="token string">"node"</span><span class="token punctuation">,</span> <span class="token comment">// Node.js via require</span>
    target<span class="token operator">:</span> <span class="token string">"node10.13"</span><span class="token punctuation">,</span> <span class="token comment">// Node.js via require</span>
    target<span class="token operator">:</span> <span class="token string">"async-node10.13"</span><span class="token punctuation">,</span> <span class="token comment">// Node.js via fs and vm</span>
    target<span class="token operator">:</span> <span class="token string">"nwjs0.43"</span><span class="token punctuation">,</span> <span class="token comment">// nw.js</span>
    target<span class="token operator">:</span> <span class="token string">"electron11.0-main"</span><span class="token punctuation">,</span> <span class="token comment">// electron, main process</span>
    target<span class="token operator">:</span> <span class="token string">"electron11-renderer"</span><span class="token punctuation">,</span> <span class="token comment">// electron, renderer process</span>
    target<span class="token operator">:</span> <span class="token string">"electron-preload"</span><span class="token punctuation">,</span> <span class="token comment">// electron, preload script</span>
    target<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"web"</span><span class="token punctuation">,</span> <span class="token string">"es5"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// combining targets</span>
    target<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"web"</span><span class="token punctuation">,</span> <span class="token string">"es2020"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    target<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// custom target, via plugin</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>target<span class="token operator">></span></span>
  <span class="token comment">// the environment in which the bundle should run</span>
  <span class="token comment">// changes chunk loading behavior, available external modules</span>
  <span class="token comment">// and generated code style</span>
  <span class="token keyword" componentname="externals" url="/configuration/externals"><span class="token operator">&#x3C;</span>externals <span class="token string">"/configuration/externals"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      externals<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"react"</span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^@angular</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    externals<span class="token operator">:</span> <span class="token string">"react"</span><span class="token punctuation">,</span> <span class="token comment">// string (exact match)</span>
    externals<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-z\-]+($|\/)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// Regex</span>
    externals<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// object</span>
      angular<span class="token operator">:</span> <span class="token string">"this angular"</span><span class="token punctuation">,</span> <span class="token comment">// this["angular"]</span>
      react<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// UMD</span>
        commonjs<span class="token operator">:</span> <span class="token string">"react"</span><span class="token punctuation">,</span>
        commonjs2<span class="token operator">:</span> <span class="token string">"react"</span><span class="token punctuation">,</span>
        amd<span class="token operator">:</span> <span class="token string">"react"</span><span class="token punctuation">,</span>
        root<span class="token operator">:</span> <span class="token string">"React"</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">externals</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> context<span class="token punctuation">,</span> request <span class="token punctuation">}</span><span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"commonjs "</span> <span class="token operator">+</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>externals<span class="token operator">></span></span>
  <span class="token comment">// Don't follow/bundle these modules, but request them at runtime from the environment</span>
  <span class="token keyword" componentname="externalsType" url="/configuration/externals"><span class="token operator">&#x3C;</span>externalsType <span class="token string">"/configuration/externals"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      externalsType<span class="token operator">:</span> <span class="token string">"var"</span><span class="token punctuation">,</span> <span class="token comment">// (defaults to output.library.type)</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    externalsType<span class="token operator">:</span> <span class="token string">"this"</span><span class="token punctuation">,</span> <span class="token comment">// this["EXTERNAL"]</span>
    externalsType<span class="token operator">:</span> <span class="token string">"window"</span><span class="token punctuation">,</span> <span class="token comment">// window["EXTERNAL"]</span>
    externalsType<span class="token operator">:</span> <span class="token string">"self"</span><span class="token punctuation">,</span> <span class="token comment">// self["EXTERNAL"]</span>
    externalsType<span class="token operator">:</span> <span class="token string">"global"</span><span class="token punctuation">,</span> <span class="token comment">// property from output.globalObject</span>
    externalsType<span class="token operator">:</span> <span class="token string">"commonjs"</span><span class="token punctuation">,</span> <span class="token comment">// require("EXTERNAL")</span>
    externalsType<span class="token operator">:</span> <span class="token string">"amd"</span><span class="token punctuation">,</span> <span class="token comment">// define(["EXTERNAL"], ...), only with AMD library</span>
    externalsType<span class="token operator">:</span> <span class="token string">"umd"</span><span class="token punctuation">,</span> <span class="token comment">// only with UMD library</span>
    externalsType<span class="token operator">:</span> <span class="token string">"system"</span><span class="token punctuation">,</span> <span class="token comment">// only with System.js library</span>
    externalsType<span class="token operator">:</span> <span class="token string">"jsonp"</span><span class="token punctuation">,</span> <span class="token comment">// only with jsonp library</span>
    externalsType<span class="token operator">:</span> <span class="token string">"import"</span><span class="token punctuation">,</span> <span class="token comment">// import("EXTERNAL")</span>
    externalsType<span class="token operator">:</span> <span class="token string">"module"</span><span class="token punctuation">,</span> <span class="token comment">// import X from "EXTERNAL"</span>
    externalsType<span class="token operator">:</span> <span class="token string">"var"</span><span class="token punctuation">,</span> <span class="token comment">// EXTERNAL (name is an expression)</span>
    externalsType<span class="token operator">:</span> <span class="token string">"promise"</span><span class="token punctuation">,</span> <span class="token comment">// await EXTERNAL (name is an expression giving a Promise)</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>externalsType<span class="token operator">></span></span>
  <span class="token comment">// Type of externals, when not specified inline in externals</span>
  <span class="token keyword" componentname="externalsPresets" url="#"><span class="token operator">&#x3C;</span>externalsPresets <span class="token string">"#"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      externalsPresets<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    externalsPresets<span class="token operator">:</span> <span class="token punctuation">{</span>
      electron<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      electronMain<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      electronPreload<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      electronRenderer<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      node<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      nwjs<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      web<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      webAsync<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>externalsPresets<span class="token operator">></span></span>
  <span class="token comment">// presets of externals</span>
  <span class="token keyword" componentname="ignoreWarnings" url="#"><span class="token operator">&#x3C;</span>ignoreWarnings <span class="token string">"#"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      ignoreWarnings<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">warning</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    ignoreWarnings<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">warning</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        file<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">asset</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        module<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">module</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        message<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">warning</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token parameter">warning<span class="token punctuation">,</span> compilation</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token boolean">true</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>ignoreWarnings<span class="token operator">></span></span>
  <span class="token keyword" componentname="stats" url="/configuration/stats"><span class="token operator">&#x3C;</span>stats <span class="token string">"/configuration/stats"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      stats<span class="token operator">:</span> <span class="token string">"errors-only"</span><span class="token punctuation">,</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    stats<span class="token operator">:</span> <span class="token string">"verbose"</span><span class="token punctuation">,</span> <span class="token comment">// nearly all information</span>
    stats<span class="token operator">:</span> <span class="token string">"detailed"</span><span class="token punctuation">,</span> <span class="token comment">// much information</span>
    stats<span class="token operator">:</span> <span class="token string">"minimal"</span><span class="token punctuation">,</span> <span class="token comment">// summarized information</span>
    stats<span class="token operator">:</span> <span class="token string">"errors-warnings"</span><span class="token punctuation">,</span> <span class="token comment">// only errors and warnings</span>
    stats<span class="token operator">:</span> <span class="token string">"errors-only"</span><span class="token punctuation">,</span> <span class="token comment">// only errors</span>
    stats<span class="token operator">:</span> <span class="token string">"summary"</span><span class="token punctuation">,</span> <span class="token comment">// only one line summary</span>
    stats<span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span> <span class="token comment">// none at all</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>stats<span class="token operator">></span></span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// lets you precisely control what bundle information gets displayed</span>
    <span class="token keyword" componentname="preset" url="/configuration/stats/#stats-presets"><span class="token operator">&#x3C;</span>preset <span class="token string">"/configuration/stats/#stats-presets"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        preset<span class="token operator">:</span> <span class="token string">"errors-only"</span><span class="token punctuation">,</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      preset<span class="token operator">:</span> <span class="token string">"verbose"</span><span class="token punctuation">,</span> <span class="token comment">// nearly all information</span>
      preset<span class="token operator">:</span> <span class="token string">"detailed"</span><span class="token punctuation">,</span> <span class="token comment">// much information</span>
      preset<span class="token operator">:</span> <span class="token string">"minimal"</span><span class="token punctuation">,</span> <span class="token comment">// summarized information</span>
      preset<span class="token operator">:</span> <span class="token string">"errors-warnings"</span><span class="token punctuation">,</span> <span class="token comment">// only errors and warnings</span>
      preset<span class="token operator">:</span> <span class="token string">"errors-only"</span><span class="token punctuation">,</span> <span class="token comment">// only errors</span>
      preset<span class="token operator">:</span> <span class="token string">"summary"</span><span class="token punctuation">,</span> <span class="token comment">// only one line summary</span>
      preset<span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span> <span class="token comment">// none at all</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>preset<span class="token operator">></span></span>
    <span class="token comment">// A stats preset</span>

    <span class="token keyword" componentname="advancedGlobal" url="/configuration/stats/"><span class="token operator">&#x3C;</span>advancedGlobal <span class="token string">"/configuration/stats/"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* Advanced global settings (click to show) */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      all<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// switch all flags on or off</span>
      colors<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// switch colors on and off</span>
      context<span class="token operator">:</span> __dirname<span class="token punctuation">,</span>
      <span class="token comment">// all paths will be relative to this directory</span>
      ids<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// include module and chunk ids in the output</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedGlobal<span class="token operator">></span></span>

    env<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// include value of --env in the output</span>
    outputPath<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// include absolute output path in the output</span>
    publicPath<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// include public path in the output</span>

    assets<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// show list of assets in output</span>
    <span class="token keyword" componentname="advancedAssets" url="/configuration/stats/"><span class="token operator">&#x3C;</span>advancedAssets <span class="token string">"/configuration/stats/"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* Advanced assets settings (click to show) */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      assetsSort<span class="token operator">:</span> <span class="token string">"size"</span><span class="token punctuation">,</span>
      <span class="token comment">// sorting of assets</span>
      assetsSpace<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
      <span class="token comment">// number of asset lines to display</span>
      cachedAssets<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// show assets that are caching in output</span>
      excludeAssets<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.png$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token comment">// hide some assets</span>
      groupAssetsByPath<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// group assets by their path in the output directory</span>
      groupAssetsByExtension<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// group assets by their extension</span>
      groupAssetsByEmitStatus<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// group assets depending if they are cached, emitted or compared</span>
      groupAssetsByChunk<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// group assets by how they relate to chunks</span>
      groupAssetsByInfo<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// group assets by meta information like immutable, development, etc.</span>
      relatedAssets<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// show assets that are related to other assets, like SourceMaps, compressed version, etc.</span>
      performance<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// show performance hints next to assets and modules</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedAssets<span class="token operator">></span></span>

    entrypoints<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// show entrypoints list</span>
    chunkGroups<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// show named chunk group list</span>
    <span class="token keyword" componentname="advancedChunkGroups" url="/configuration/stats/"><span class="token operator">&#x3C;</span>advancedChunkGroups <span class="token string">"/configuration/stats/"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* Advanced chunk group settings (click to show) */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      chunkGroupAuxiliary<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// show auxiliary assets for entrypoints/chunk groups</span>
      chunkGroupChildren
      <span class="token comment">// show child chunk groups for entrypoints/chunk groups</span>
      chunkGroupMaxAssets<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      <span class="token comment">// collapse chunk group assets lists when this limit has been reached</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedChunkGroups<span class="token operator">></span></span>

    chunks<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// show list of chunks in output</span>
    <span class="token keyword" componentname="advancedChunks" url="/configuration/stats/"><span class="token operator">&#x3C;</span>advancedChunks <span class="token string">"/configuration/stats/"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* Advanced chunk group settings (click to show) */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      chunksSort<span class="token operator">:</span> <span class="token string">"size"</span><span class="token punctuation">,</span>
      <span class="token comment">// sort chunks list</span>
      chunkModules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// show modules contained in each chunk</span>
      chunkOrigins<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// show the origin of a chunk (why was this chunk created)</span>
      chunkRelations<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// show relations to other chunks (parents, children, sibilings)</span>
      dependentModules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// show modules that are dependencies of other modules in that chunk</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedChunks<span class="token operator">></span></span>

    modules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// show list of modules in output</span>
    <span class="token keyword" componentname="advancedModules" url="/configuration/stats/"><span class="token operator">&#x3C;</span>advancedModules <span class="token string">"/configuration/stats/"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* Advanced module settings (click to show) */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      modulesSpace<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
      <span class="token comment">// number of modules lines to display</span>
      nestedModules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// show nested modules (when concatenated)</span>
      cachedModules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// show modules that were cached</span>
      orphanModules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// show modules that are not referenced in optimized graph anymore</span>
      excludeModules<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token comment">// hide some modules</span>
      reasons<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// show the reasons why modules are included</span>
      source<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// include the Source Code of modules (only in JSON)</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedModules<span class="token operator">></span></span>
    <span class="token keyword" componentname="expertModules" url="/configuration/stats/"><span class="token operator">&#x3C;</span>expertModules <span class="token string">"/configuration/stats/"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* Expert module settings (click to show) */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      modulesSort<span class="token operator">:</span> <span class="token string">"size"</span><span class="token punctuation">,</span>
      <span class="token comment">// sort modules list</span>
      groupModulesByPath<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// group modules by their resource path</span>
      groupModulesByExtension<span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token comment">// group modules by their extension</span>
      groupModulesByAttributes<span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token comment">// group modules by attributes like if the have errors/warnings/assets</span>
      <span class="token comment">// or are optional</span>
      groupModulesByCacheStatus<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// group modules depending if they are built, code was generated or if</span>
      <span class="token comment">// they are cacheable in general</span>
      depth<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// show depth in the module graph of modules</span>
      moduleAssets<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// show assets emitted by modules in module list</span>
      runtimeModules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// show runtime modules in the modules list</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>expertModules<span class="token operator">></span></span>

    <span class="token keyword" componentname="advancedStatsOptimization" url="/configuration/stats/"><span class="token operator">&#x3C;</span>advancedStatsOptimization <span class="token string">"/configuration/stats/"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* Advanced optimization settings (click to show) */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      providedExports<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// show exports provided by modules</span>
      usedExports<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// show which exports are used by modules</span>
      optimizationBailout<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// show information why optimizations bailed out for modules</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedStatsOptimization<span class="token operator">></span></span>

    children<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token comment">// show stats for child compilations</span>

    logging<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// show logging in output</span>
    loggingDebug<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">webpack</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token comment">// show debug type logging for some loggers</span>
    loggingTrace<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// show stack traces for warnings and errors in logging output</span>

    warnings<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token comment">// show warnings</span>

    errors<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// show errors</span>
    errorDetails<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// show details for errors</span>
    errorStack<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// show internal stack trace for errors</span>
    moduleTrace<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// show module trace for errors</span>
    <span class="token comment">// (why was causing module referenced)</span>

    builtAt<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// show timestamp in summary</span>
    errorsCount<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// show errors count in summary</span>
    warningsCount<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// show warnings count in summary</span>
    timings<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// show build timing in summary</span>
    version<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// show webpack version in summary</span>
    hash<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// show build hash in summary</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    proxy<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// proxy URLs to backend development server</span>
      <span class="token string">'/api'</span><span class="token operator">:</span> <span class="token string">'http://localhost:3000'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    contentBase<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// boolean | string | array, static file location</span>
    compress<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// enable gzip compression</span>
    historyApiFallback<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// true for index.html upon 404, object for multiple paths</span>
    hot<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// hot module replacement. Depends on HotModuleReplacementPlugin</span>
    https<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// true for self-signed, object for cert authority</span>
    noInfo<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// only errors &#x26; warns on hot reload</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  experiments<span class="token operator">:</span> <span class="token punctuation">{</span>
    asyncWebAssembly<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// WebAssembly as async module (Proposal)</span>
    syncWebAssembly<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// WebAssembly as sync module (deprecated)</span>
    outputModule<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// Allow to output ESM</span>
    topLevelAwait<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// Allow to use await on module evaluation (Proposal)</span>
  <span class="token punctuation">}</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// list of additional plugins</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    chunkIds<span class="token operator">:</span> <span class="token string">"size"</span><span class="token punctuation">,</span>
    <span class="token comment">// method of generating ids for chunks</span>
    moduleIds<span class="token operator">:</span> <span class="token string">"size"</span><span class="token punctuation">,</span>
    <span class="token comment">// method of generating ids for modules</span>
    mangleExports<span class="token operator">:</span> <span class="token string">"size"</span><span class="token punctuation">,</span>
    <span class="token comment">// rename export names to shorter names</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// minimize the output files</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>new <span class="token class-name">CssMinimizer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"..."</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// minimizers to use for the output files</span>

    <span class="token keyword" componentname="advancedOptimization" url="#"><span class="token operator">&#x3C;</span>advancedOptimization <span class="token string">"#"</span><span class="token operator">></span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
        <span class="token comment">/* Advanced optimizations (click to show) */</span>
      <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
      concatenateModules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// concatenate multiple modules into a single one</span>
      emitOnErrors<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// emit output files even if there are build errors</span>
      flagIncludedChunks<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// avoid downloading a chunk if it's fully contained in</span>
      <span class="token comment">// an already loaded chunk</span>
      innerGraph<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// determine references without modules between symbols</span>
      mergeDuplicateChunks<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// merge chunks if they are equal</span>
      nodeEnv<span class="token operator">:</span> <span class="token string">"production"</span><span class="token punctuation">,</span>
      <span class="token comment">// value of process.env.NODE_ENV inside of modules</span>
      portableRecords<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// use relative paths in records</span>
      providedExports<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// determine which exports are exposed by modules</span>
      usedExports<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// determine which exports are used by modules and</span>
      <span class="token comment">// remove the unused ones</span>
      realContentHash<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// caculcate a contenthash for assets based on the content</span>
      removeAvailableModules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// run extra pass to determine modules that are already in</span>
      <span class="token comment">// parent chunks and remove them</span>
      removeEmptyChunks<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// remove chunks that are empty</span>
      runtimeChunk<span class="token operator">:</span> <span class="token string">"single"</span><span class="token punctuation">,</span>
      <span class="token comment">// change placement of runtime code</span>
      sideEffects<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// skip modules that are side effect free when using reexports</span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedOptimization<span class="token operator">></span></span>

    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">"my-name"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// define groups of modules with specific</span>
          <span class="token comment">// caching behavior</span>
          test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.sass$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          type<span class="token operator">:</span> <span class="token string">"css/mini-extract"</span><span class="token punctuation">,</span>

          <span class="token keyword" componentname="cacheGroupAdvancedSelectors" url="#"><span class="token operator">&#x3C;</span>cacheGroupAdvancedSelectors <span class="token string">"#"</span><span class="token operator">></span>
            <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
              <span class="token comment">/* Advanced selectors (click to show) */</span>
            <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
            chunks<span class="token operator">:</span> <span class="token string">"async"</span><span class="token punctuation">,</span>
            minChunks<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            enforceSizeThreshold<span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
            minSize<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            minRemainingSize<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            usedExports<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            maxAsyncRequests<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
            maxInitialRequests<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
          <span class="token operator">&#x3C;</span><span class="token operator">/</span>cacheGroupAdvancedSelectors<span class="token operator">></span></span>

          <span class="token keyword" componentname="cacheGroupAdvancedEffects" url="#"><span class="token operator">&#x3C;</span>cacheGroupAdvancedEffects <span class="token string">"#"</span><span class="token operator">></span>
            <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
              <span class="token comment">/* Advanced effects (click to show) */</span>
            <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
            maxAsyncSize<span class="token operator">:</span> <span class="token number">200000</span><span class="token punctuation">,</span>
            maxInitialSize<span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
            maxSize<span class="token operator">:</span> <span class="token number">200000</span><span class="token punctuation">,</span>
            filename<span class="token operator">:</span> <span class="token string">"my-name-[contenthash].js"</span><span class="token punctuation">,</span>
            idHint<span class="token operator">:</span> <span class="token string">"my-name"</span><span class="token punctuation">,</span>
            name<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            hidePathInfo<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            automaticNameDelimiter<span class="token operator">:</span> <span class="token string">"-"</span><span class="token punctuation">,</span>
          <span class="token operator">&#x3C;</span><span class="token operator">/</span>cacheGroupAdvancedEffects<span class="token operator">></span></span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      <span class="token keyword" componentname="fallbackCacheGroup" url="#"><span class="token operator">&#x3C;</span>fallbackCacheGroup <span class="token string">"#"</span><span class="token operator">></span>
        <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
          fallbackCacheGroup<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* Advanced (click to show) */</span> <span class="token punctuation">}</span>
        <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
        fallbackCacheGroup<span class="token operator">:</span> <span class="token punctuation">{</span>
          automaticNameDelimiter<span class="token operator">:</span> <span class="token string">"-"</span>
          minSize<span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>
          maxAsyncSize<span class="token operator">:</span> <span class="token number">200000</span><span class="token punctuation">,</span>
          maxInitialSize<span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
          maxSize<span class="token operator">:</span> <span class="token number">200000</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>fallbackCacheGroup<span class="token operator">></span></span>

      <span class="token keyword" componentname="advancedSelectors" url="#"><span class="token operator">&#x3C;</span>advancedSelectors <span class="token string">"#"</span><span class="token operator">></span>
        <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
          <span class="token comment">/* Advanced selectors (click to show) */</span>
        <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
        chunks<span class="token operator">:</span> <span class="token string">"all"</span><span class="token punctuation">,</span>
        <span class="token comment">// select which chunks should be optimized</span>
        usedExports<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">// treat modules as equal only when used exports are equal</span>
        minChunks<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token comment">// minimum number of chunks a module must be in</span>
        enforceSizeThreshold<span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
        <span class="token comment">// ignore when following criterias when size of modules</span>
        <span class="token comment">// is above this threshold</span>
        minSize<span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>
        <span class="token comment">// size of modules must be above this threshold</span>
        minRemainingSize<span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>
        <span class="token comment">// when modules are removed from a single chunk</span>
        <span class="token comment">// the size of the modules that are remaining</span>
        <span class="token comment">// must be above this threshold</span>
        maxAsyncRequests<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
        maxInitialRequests<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
        <span class="token comment">// number of parallel requests for a single on demand loading</span>
        <span class="token comment">// resp. entrypoint but be above this threshold</span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedSelectors<span class="token operator">></span></span>

      <span class="token keyword" componentname="advancedEffects" url="#"><span class="token operator">&#x3C;</span>advancedEffects <span class="token string">"#"</span><span class="token operator">></span>
        <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
          <span class="token comment">/* Advanced effects (click to show) */</span>
        <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
        maxAsyncSize<span class="token operator">:</span> <span class="token number">200000</span><span class="token punctuation">,</span>
        maxInitialSize<span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
        maxSize<span class="token operator">:</span> <span class="token number">200000</span><span class="token punctuation">,</span>
        <span class="token comment">// when size of modules in the new chunk is above this</span>
        <span class="token comment">// threshold, split it further</span>
        filename<span class="token operator">:</span> <span class="token string">"[contenthash].js"</span><span class="token punctuation">,</span>
        <span class="token comment">// give the new chunk a different filename</span>
        name<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// false | string | (module, chunks, key) => string</span>
        <span class="token comment">// give the new chunk a different name</span>
        <span class="token comment">// when an existing name is used, chunks are merged</span>
        <span class="token comment">// non-splitChunks chunks can only be selected, when they are</span>
        <span class="token comment">// a parent or sibling chunk of all selected modules</span>
        hidePathInfo<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">// hide path info when splitting via "maxSize"</span>
        automaticNameDelimiter<span class="token operator">:</span> <span class="token string">"-"</span><span class="token punctuation">,</span>
        <span class="token comment">// use this separator to separate original name from path info</span>
        <span class="token comment">// when splitting via "maxSize"</span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedEffects<span class="token operator">></span></span>

      <span class="token keyword" componentname="expert" url="#"><span class="token operator">&#x3C;</span>expert <span class="token string">"#"</span><span class="token operator">></span>
        <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
          <span class="token comment">/* Expert settings (click to show) */</span>
        <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
        defaultSizeTypes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"javascript"</span><span class="token punctuation">,</span> <span class="token string">"..."</span><span class="token punctuation">]</span>
        <span class="token comment">// when using numbers for sizes measure these size types</span>
        <span class="token comment">// minSize: { javascript: 10000 } allows to be more specific</span>
      <span class="token operator">&#x3C;</span><span class="token operator">/</span>expert<span class="token operator">></span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword" componentname="advanced" url="#"><span class="token operator">&#x3C;</span>advanced <span class="token string">"#"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      <span class="token comment">/* é«˜çº§é…ç½®ï¼ˆç‚¹å‡»å±•ç¤ºï¼‰ */</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    loader<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// add custom API or properties to loader context</span>
    resolveLoader<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* same as resolve */</span> <span class="token punctuation">}</span>
    <span class="token comment">// separate resolve options for loaders</span>
    node<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// Polyfills and mocks to run Node.js-</span>
      <span class="token comment">// environment code in non-Node environments.</span>
      global<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
      <span class="token comment">// replace "global" with the output.globalObject</span>
      __filename<span class="token operator">:</span> <span class="token string">"mock"</span><span class="token punctuation">,</span> <span class="token comment">// boolean | "mock" | "eval-only"</span>
      __dirname<span class="token operator">:</span> <span class="token string">"mock"</span><span class="token punctuation">,</span> <span class="token comment">// boolean | "mock" | "eval-only"</span>
      <span class="token comment">// true: includes the real path</span>
      <span class="token comment">// "mock": includes a fake path</span>
      <span class="token comment">// "eval-only": only defines it at compile-time</span>
      <span class="token comment">// false: disables all handling</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    recordsPath<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"build/records.json"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    recordsInputPath<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"build/records.json"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    recordsOutputPath<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"build/records.json"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// store ids into a file to make the build even more deterministic</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>advanced<span class="token operator">></span></span>
  <span class="token keyword" componentname="advancedCaching" url="#"><span class="token operator">&#x3C;</span>advancedCaching <span class="token string">"#"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      <span class="token comment">/* Advanced caching configuration (click to show) */</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    cache<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
    <span class="token comment">// disable/enable caching</span>
    snapshot<span class="token operator">:</span> <span class="token punctuation">{</span>
      managedPaths<span class="token operator">:</span> <span class="token punctuation">[</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"node_modules"</span><span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// paths that are snapshot using only package.json name and version</span>
      immutablePaths<span class="token operator">:</span> <span class="token punctuation">[</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">".yarn/cache"</span><span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// paths that doesn't need to be snapshot as they are immutable</span>
      module<span class="token operator">:</span> <span class="token punctuation">{</span> timestamp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> hash<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      resolve<span class="token operator">:</span> <span class="token punctuation">{</span> timestamp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> hash<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      resolveBuildDependencies<span class="token operator">:</span> <span class="token punctuation">{</span> timestamp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> hash<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      buildDependencies<span class="token operator">:</span> <span class="token punctuation">{</span> timestamp<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> hash<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// snapshot method for different operations</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    watch<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
    <span class="token comment">// å¯ç”¨ watch æ¨¡å¼</span>
    watchOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
      aggregateTimeout<span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// ä»¥æ¯«ç§’ä¸ºå•ä½</span>
      <span class="token comment">// å°†å¤šä¸ªä¿®æ”¹èšåˆåˆ°å•ä¸ª rebuild</span>
      poll<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      poll<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token comment">// ä»¥æ¯«ç§’ä¸ºé—´éš”å•ä½</span>
      <span class="token comment">// åœ¨ watch æ¨¡å¼ä¸­å¯ç”¨è½®è¯¢</span>
      <span class="token comment">// å¿…é¡»ç”¨åœ¨ä¸é€šçŸ¥æ›´æ”¹çš„æ–‡ä»¶ç³»ç»Ÿä¸­</span>
      <span class="token comment">// å³ nfs shares</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedCaching<span class="token operator">></span></span>
  <span class="token keyword" componentname="advancedBuild" url="#"><span class="token operator">&#x3C;</span>advancedBuild <span class="token string">"#"</span><span class="token operator">></span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token keyword">default</span><span class="token operator">></span></span>
      <span class="token comment">/* Advanced build configuration (click to show) */</span>
    <span class="token tag"><span class="token operator">&#x3C;</span><span class="token operator">/</span><span class="token keyword">default</span><span class="token operator">></span></span>
    infrastructureLogging<span class="token operator">:</span> <span class="token punctuation">{</span>
      level<span class="token operator">:</span> <span class="token string">"none"</span><span class="token punctuation">,</span>
      level<span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span>
      level<span class="token operator">:</span> <span class="token string">"warn"</span><span class="token punctuation">,</span>
      level<span class="token operator">:</span> <span class="token string">"info"</span><span class="token punctuation">,</span> <span class="token comment">// (default)</span>
      level<span class="token operator">:</span> <span class="token string">"log"</span><span class="token punctuation">,</span>
      level<span class="token operator">:</span> <span class="token string">"verbose"</span><span class="token punctuation">,</span>
      debug<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      debug<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">webpack</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      debug<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"MyPlugin"</span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">webpack</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    parallelism<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// number</span>
    <span class="token comment">// limit the number of parallel processed modules</span>
    profile<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
    <span class="token comment">// capture timing information</span>
    bail<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//boolean</span>
    <span class="token comment">// fail out on the first error instead of tolerating it.</span>
    dependencies<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// When using an array of configs this can be used to reference other</span>
    <span class="token comment">// configs and let this config run after the other config at initial build</span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>advancedBuild<span class="token operator">></span></span></code></pre> <blockquote class="warning"> <p>åœ¨åº”ç”¨ <a href="../../contribute/writing-a-plugin/index.htm#configuration-defaults" tppabs="https://webpack.docschina.org/contribute/writing-a-plugin/#configuration-defaults">æ’ä»¶é»˜è®¤å€¼</a> ä¹‹åï¼Œwebpack å°†åº”ç”¨é…ç½®é»˜è®¤å€¼ã€‚</p> </blockquote> <p>ä¸ºäº†å¿«é€Ÿç”Ÿæˆç¬¦åˆé¡¹ç›®è¦æ±‚çš„ webpack é…ç½®æ–‡ä»¶ï¼Œåœ¨ä½¿ç”¨ <a href="javascript:if(confirm('https://github.com/webpack/webpack-cli/tree/master/packages/init  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack-cli/tree/master/packages/init#cli-via-webpack-cli'" tppabs="https://github.com/webpack/webpack-cli/tree/master/packages/init#cli-via-webpack-cli">webpack-cli çš„ <code>init</code> å‘½ä»¤</a>æ—¶ï¼Œä¼šåœ¨åˆ›å»ºé…ç½®æ–‡ä»¶ä¹‹å‰ä¼šè¯¢é—®ä½ å‡ ä¸ªé—®é¢˜ã€‚</p> <pre><code class="hljs language-bash">npx webpack-cli init</code></pre> <p>å¦‚æœå°šæœªåœ¨é¡¹ç›®æˆ–å…¨å±€å®‰è£… <code>@webpack-cli/init</code>ï¼Œnpx å¯èƒ½ä¼šæç¤ºä½ å®‰è£…ã€‚æ ¹æ®ä½ åœ¨é…ç½®ç”Ÿæˆè¿‡ç¨‹ä¸­çš„é€‰æ‹©ï¼Œä½ ä¹Ÿå¯èƒ½ä¼šå®‰è£…é¢å¤–çš„ package åˆ°ä½ çš„é¡¹ç›®ä¸­ã€‚</p> <pre><code class="hljs language-bash">npx webpack-cli init

â„¹ INFO For <span class="token function">more</span> information and a detailed description of each question, have a <span class="token function">look</span> at https://github.com/webpack/webpack-cli/blob/master/INIT.md
â„¹ INFO Alternatively, run <span class="token variable"><span class="token variable">`</span>webpack<span class="token punctuation">(</span>-cli<span class="token punctuation">)</span> --help<span class="token variable">`</span></span> <span class="token keyword">for</span> usage info.

? Will your application have multiple bundles? No
? Which module will be the first to enter the application? <span class="token punctuation">[</span>default: ./src/index<span class="token punctuation">]</span>
? Which folder will your generated bundles be in? <span class="token punctuation">[</span>default: dist<span class="token punctuation">]</span>:
? Will you be using ES2015? Yes
? Will you use one of the below CSS solutions? No

+ babel-plugin-syntax-dynamic-import@6.18.0
+ uglifyjs-webpack-plugin@2.0.1
+ webpack-cli@3.2.3
+ @babel/core@7.2.2
+ babel-loader@8.0.4
+ @babel/preset-env@7.1.0
+ webpack@4.29.3
added <span class="token number">124</span> packages from <span class="token number">39</span> contributors, updated <span class="token number">4</span> packages and audited <span class="token number">25221</span> packages <span class="token keyword">in</span> <span class="token number">7</span>.463s
found <span class="token number">0</span> vulnerabilities


Congratulations<span class="token operator">!</span> Your new webpack configuration <span class="token function">file</span> has been created<span class="token operator">!</span></code></pre> <p><a href="javascript:if(confirm('https://createapp.dev/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://createapp.dev/webpack'" tppabs="https://createapp.dev/webpack">createapp.dev - åœ¨æµè§ˆå™¨ä¸­åˆ›å»º webpack é…ç½®</a>ï¼Œæ˜¯ä¸€ä¸ªç”¨äºåˆ›å»ºè‡ªå®šä¹‰ webpack é…ç½®çš„åœ¨çº¿å·¥å…·ã€‚å®ƒå¯ä»¥é€‰æ‹©å„ç§åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½å°†è¢«ç»„åˆå¹¶æ·»åŠ åˆ°ç”Ÿæˆçš„é…ç½®æ–‡ä»¶ä¸­ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜ä¼šåŸºäºæä¾›çš„ webpack é…ç½®ç”Ÿæˆç¤ºä¾‹é¡¹ç›®ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹å¹¶ä¸‹è½½ã€‚</p> <h1 id="Configuration-Languages">Configuration Languages<a href="#Configuration-Languages" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>webpack æ”¯æŒä½¿ç”¨å¤šç§ç¼–ç¨‹è¯­è¨€å’Œæ•°æ®æè¿°æ ¼å¼æ¥ç¼–å†™é…ç½®æ–‡ä»¶ã€‚åœ¨ <a href="javascript:if(confirm('https://github.com/gulpjs/interpret  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/gulpjs/interpret'" tppabs="https://github.com/gulpjs/interpret">node-interpret</a> ä¸­ä½ å¯ä»¥æ‰¾åˆ°å½“å‰æ‰€æ”¯æŒçš„æ–‡ä»¶ç±»å‹åˆ—è¡¨ï¼Œé€šè¿‡ <a href="javascript:if(confirm('https://github.com/gulpjs/interpret  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/gulpjs/interpret'" tppabs="https://github.com/gulpjs/interpret">node-interpret</a>ï¼Œwebpack èƒ½å¤Ÿå¤„ç†è¿™äº›ç±»å‹çš„é…ç½®æ–‡ä»¶ã€‚</p> <h2 id="typescript">TypeScript <a href="#typescript" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>è¦ä½¿ç”¨ <a href="javascript:if(confirm('https://www.typescriptlang.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.typescriptlang.org/'" tppabs="https://www.typescriptlang.org/">Typescript</a> æ¥ç¼–å†™ webpack é…ç½®ï¼Œä½ éœ€è¦å…ˆå®‰è£…å¿…è¦çš„ä¾èµ–ï¼Œæ¯”å¦‚ Typescript ä»¥åŠå…¶ç›¸åº”çš„ç±»å‹å£°æ˜ï¼Œç±»å‹å£°æ˜å¯ä»¥ä» <a href="javascript:if(confirm('https://definitelytyped.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://definitelytyped.org/'" tppabs="https://definitelytyped.org/">DefinitelyTyped</a> é¡¹ç›®ä¸­è·å–ï¼Œä¾èµ–å®‰è£…å¦‚ä¸‹æ‰€ç¤ºï¼š</p> <pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev typescript ts-node @types/node @types/webpack
<span class="token comment"># å¦‚æœä½¿ç”¨ webpack-dev-serverï¼Œè¿˜éœ€è¦å®‰è£…ä»¥ä¸‹ä¾èµ–</span>
<span class="token function">npm</span> <span class="token function">install</span> --save-dev @types/webpack-dev-server</code></pre> <p>å®Œæˆä¾èµ–å®‰è£…åä¾¿å¯ä»¥å¼€å§‹ç¼–å†™é…ç½®æ–‡ä»¶ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p> <p><strong>webpack.config.ts</strong></p> <pre><code class="hljs language-typescript"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> path <span class="token keyword">from</span> <span class="token string">'path'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> webpack <span class="token keyword">from</span> <span class="token string">'webpack'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> config<span class="token operator">:</span> webpack<span class="token punctuation">.</span>Configuration <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token operator">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
  entry<span class="token operator">:</span> <span class="token string">'./foo.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'foo.bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> config<span class="token punctuation">;</span></code></pre> <p>è¯¥ç¤ºä¾‹éœ€è¦ typescript ç‰ˆæœ¬åœ¨ 2.7 åŠä»¥ä¸Šï¼Œå¹¶åœ¨ <code>tsconfig.json</code> æ–‡ä»¶çš„ compilerOptions ä¸­æ·»åŠ  <code>esModuleInterop</code> å’Œ <code>allowSyntheticDefaultImports</code> ä¸¤ä¸ªé…ç½®é¡¹ã€‚</p> <p>å€¼å¾—æ³¨æ„çš„æ˜¯ä½ éœ€è¦ç¡®ä¿ <code>tsconfig.json</code> çš„ <code>compilerOptions</code> ä¸­ module é€‰é¡¹çš„å€¼ä¸º <code>commonjs</code>,å¦åˆ™ webpack çš„è¿è¡Œä¼šå¤±è´¥æŠ¥é”™ï¼Œå› ä¸º <code>ts-node</code> ä¸æ”¯æŒ <code>commonjs</code> ä»¥å¤–çš„å…¶ä»–æ¨¡å—è§„èŒƒã€‚</p> <p>ä½ å¯ä»¥é€šè¿‡ä¸¤ä¸ªé€”å¾„æ¥å®Œæˆ module çš„è®¾ç½®:</p> <ul> <li>ç›´æ¥ä¿®æ”¹ <code>tsconfig.json</code> æ–‡ä»¶</li> <li>ä½¿ç”¨ <code>tsconfig-paths</code></li> </ul> <p>ç¬¬ä¸€ç§æ–¹æ³•å°±æ˜¯æ‰“å¼€ä½ çš„ <code>tsconfig.json</code> æ–‡ä»¶ï¼Œæ‰¾åˆ° <code>compilerOptions</code> çš„é…ç½®ï¼Œç„¶åè®¾ç½® <code>target</code> å’Œ <code>module</code> çš„é€‰é¡¹åˆ†åˆ«ä¸º <code>"ES5"</code> å’Œ <code>"CommonJs"</code> (åœ¨ <code>target</code> è®¾ç½®ä¸º <code>es5</code> æ—¶ä½ ä¹Ÿå¯ä»¥ä¸æ˜¾ç¤ºç¼–å†™ <code>module</code> é…ç½®)ã€‚</p> <p>ç¬¬äºŒç§æ–¹æ³•éœ€è¦å…ˆå®‰è£… <code>tsconfig-paths</code> è¿™ä¸ª npm åŒ…ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p> <pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev tsconfig-paths</code></pre> <p>å®‰è£…åä½ å¯ä»¥ä¸º webpack é…ç½®åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„ TypeScript é…ç½®æ–‡ä»¶ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p> <p><strong>tsconfig-for-webpack-config.json</strong></p> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"commonjs"</span><span class="token punctuation">,</span>
    <span class="token property">"target"</span><span class="token operator">:</span> <span class="token string">"es5"</span><span class="token punctuation">,</span>
    <span class="token property">"esModuleInterop"</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <blockquote class="tip"> <p>ts-node å¯ä»¥æ ¹æ® <code>tsconfig-paths</code> æä¾›çš„ç¯å¢ƒå˜é‡ <code>process.env.TS_NODE_PROJECT</code> æ¥æ‰¾åˆ° <code>tsconfig.json</code> æ–‡ä»¶è·¯å¾„ã€‚</p> </blockquote> <p><code>process.env.TS_NODE_PROJECT</code> å˜é‡çš„è®¾ç½®å¦‚ä¸‹æ‰€ç¤º:</p> <p><strong>package.json</strong></p> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"cross-env TS_NODE_PROJECT=\"tsconfig-for-webpack-config.json\" webpack"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <p>ä¹‹æ‰€ä»¥è¦æ·»åŠ  <code>cross-env</code>ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬åœ¨ç›´æ¥ä½¿ç”¨ <code>TS_NODE_PROJECT</code> æ—¶é‡åˆ°è¿‡ <code>"TS_NODE_PROJECT" unrecognized command</code> æŠ¥é”™çš„åé¦ˆï¼Œæ·»åŠ  <code>cross-env</code> ä¹‹åè¯¥é—®é¢˜ä¹Ÿä¼¼ä¹å¾—åˆ°äº†è§£å†³ï¼Œä½ å¯ä»¥æŸ¥çœ‹<a href="javascript:if(confirm('https://github.com/webpack/webpack.js.org/issues/2733  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack.js.org/issues/2733'" tppabs="https://github.com/webpack/webpack.js.org/issues/2733">è¿™ä¸ª issue</a>è·å–åˆ°å…³äºè¯¥é—®é¢˜çš„æ›´å¤šä¿¡æ¯ã€‚</p> <h2 id="coffeescript">CoffeeScript <a href="#coffeescript" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>ä¸ <code>Typescript</code> ç±»ä¼¼ï¼Œåœ¨ä½¿ç”¨ CoffeeScript å‰éœ€è¦å…ˆå®‰è£…å…¶ä¾èµ–ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p> <pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev coffeescript</code></pre> <p>å®Œæˆå®‰è£…ä¹‹åä¾¿å¯ä»¥å¼€å§‹ç¼–å†™ webpack é…ç½®ï¼Œç¤ºä¾‹å¦‚ä¸‹:</p> <p><strong>webpack.config.coffee</strong></p> <pre><code class="hljs language-js">HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>
webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span>
path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>

config <span class="token operator">=</span>
  mode<span class="token operator">:</span> <span class="token string">'production'</span>
  entry<span class="token operator">:</span> <span class="token string">'./path/to/my/entry/file.js'</span>
  output<span class="token operator">:</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span>
    filename<span class="token operator">:</span> <span class="token string">'my-first-webpack.bundle.js'</span>
  module<span class="token operator">:</span> rules<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(js|jsx)$</span><span class="token regex-delimiter">/</span></span>
    use<span class="token operator">:</span> <span class="token string">'babel-loader'</span>
  <span class="token punctuation">}</span> <span class="token punctuation">]</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span>template<span class="token operator">:</span> <span class="token string">'./src/index.html'</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> config</code></pre> <h2 id="babel-and-jsx">Babel and JSX <a href="#babel-and-jsx" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>ä¸‹è¿°çš„ç¤ºä¾‹ä¸­ä½¿ç”¨äº† JSXï¼ˆç”¨äº React çš„ JavaScript æ ‡è®°è¯­è¨€ï¼‰å’Œ babel æ¥åˆ›å»ºæ ¼å¼ä¸º json çš„ webpack é…ç½®æ–‡ä»¶ã€‚</p> <blockquote> <p>æ„Ÿè°¢ <a href="javascript:if(confirm('https://twitter.com/_developit  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://twitter.com/_developit'" tppabs="https://twitter.com/_developit">Jason Miller</a> æä¾›ç¤ºä¾‹ä»£ç </p> </blockquote> <p>é¦–å…ˆéœ€è¦å®‰è£…ä¸€äº›å¿…è¦ä¾èµ–ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p> <pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev babel-register jsxobj babel-preset-es2015</code></pre> <p><strong>.babelrc</strong></p> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"presets"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"es2015"</span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre> <p><strong>webpack.config.babel.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> jsxobj <span class="token keyword">from</span> <span class="token string">'jsxobj'</span><span class="token punctuation">;</span>

<span class="token comment">// æ’ä»¶å¼•å…¥ç¤ºä¾‹</span>
<span class="token keyword">const</span> <span class="token function-variable function">CustomPlugin</span> <span class="token operator">=</span> <span class="token parameter">config</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token operator">...</span>config<span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'custom-plugin'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span>
  <span class="token operator">&#x3C;</span>webpack target<span class="token operator">=</span><span class="token string">"web"</span> watch mode<span class="token operator">=</span><span class="token string">"production"</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span>entry path<span class="token operator">=</span><span class="token string">"src/index.js"</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span>resolve<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>alias <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">{</span>
        react<span class="token operator">:</span> <span class="token string">'preact-compat'</span><span class="token punctuation">,</span>
        <span class="token string">'react-dom'</span><span class="token operator">:</span> <span class="token string">'preact-compat'</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>resolve<span class="token operator">></span>
    <span class="token operator">&#x3C;</span>plugins<span class="token operator">></span>
      <span class="token operator">&#x3C;</span>CustomPlugin foo<span class="token operator">=</span><span class="token string">"bar"</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&#x3C;</span><span class="token operator">/</span>plugins<span class="token operator">></span>
  <span class="token operator">&#x3C;</span><span class="token operator">/</span>webpack<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>å¦‚æœä½ åœ¨å…¶ä»–åœ°æ–¹ä¹Ÿä½¿ç”¨äº† Babel å¹¶ä¸” <code>modules</code> çš„å€¼è®¾ç½®ä¸º <code>false</code>ï¼Œåˆ™å¿…é¡»ç»´æŠ¤ä¸¤ä»½ <code>.babelrc</code> çš„æ–‡ä»¶ï¼Œæˆ–è€…ä½ ä¹Ÿå¯ä»¥å°†ä¸Šè¿°ç¤ºä¾‹ä¸­çš„ <code>import jsxobj from 'jsxobj';</code> æ›¿æ¢ä¸º <code>const jsxobj = require('jsxobj');</code> å¹¶å°†æ–°çš„ <code>export</code> è¯­æ³•æ›¿æ¢ä¸º <code>module.exports</code>ï¼Œå› ä¸ºå°½ç®¡ Node ç›®å‰å·²ç»æ”¯æŒäº† ES6 çš„è®¸å¤šæ–°ç‰¹æ€§ï¼Œä½†æ˜¯ä»ç„¶æ²¡æœ‰æ”¯æŒ ES6 çš„æ¨¡å—è¯­æ³•ã€‚</p> <h1 id="Configuration-Types">Configuration Types<a href="#Configuration-Types" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>é™¤äº†å¯¼å‡ºå•ä¸ªé…ç½®å¤–ï¼Œè¿˜æœ‰ä¸€äº›èƒ½æ»¡è¶³æ›´å¤šéœ€æ±‚çš„ä½¿ç”¨æ–¹å¼ã€‚</p> <h2 id="exporting-a-function">å¯¼å‡ºå‡½æ•° <a href="#exporting-a-function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>ä½ å¯èƒ½ä¼šé‡åˆ°éœ€è¦åŒºåˆ†<a href="../../guides/development.htm" tppabs="https://webpack.docschina.org/guides/development">å¼€å‘</a>ç¯å¢ƒå’Œ<a href="../../guides/production.htm" tppabs="https://webpack.docschina.org/guides/production">ç”Ÿäº§</a>ç¯å¢ƒçš„æƒ…å†µã€‚ä½ ï¼ˆè‡³å°‘ï¼‰æœ‰ä¸¤ç§é€‰æ‹©ï¼š</p> <p>å…¶ä¸­ä¸€ç§é€‰æ‹©æ˜¯ç”± webpack é…ç½®å¯¼å‡ºä¸€ä¸ªå‡½æ•°è€Œéå¯¹è±¡ï¼Œè¿™ä¸ªå‡½æ•°åŒ…å«ä¸¤ä¸ªå‚æ•°ï¼š</p> <ul> <li>å‚æ•°ä¸€æ˜¯ç¯å¢ƒï¼ˆenvironmentï¼‰ã€‚è¯·æŸ¥é˜… <a href="../../api/cli/index.htm#environment-options" tppabs="https://webpack.docschina.org/api/cli/#environment-options">environment é€‰é¡¹æ–‡æ¡£</a>äº†è§£æ›´å¤šã€‚</li> <li>å‚æ•°äºŒæ˜¯ä¼ é€’ç»™ webpack çš„é…ç½®é¡¹ï¼Œå…¶ä¸­åŒ…å« <a href="../../api/cli/index.htm#output-options" tppabs="https://webpack.docschina.org/api/cli/#output-options"><code>output-filename</code></a> å’Œ <a href="../../api/cli/index.htm#optimize-options" tppabs="https://webpack.docschina.org/api/cli/#optimize-options"><code>optimize-minimize</code></a> ç­‰ã€‚</li> </ul> <pre><code class="hljs language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">module.exports = {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">module.exports = function(env, argv) {
</span><span class="token prefix inserted">+</span><span class="token line">  return {
</span><span class="token prefix inserted">+</span><span class="token line">    mode: env.production ? 'production' : 'development',
</span><span class="token prefix inserted">+</span><span class="token line">    devtool: env.production ? 'source-map' : 'eval',
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">    plugins: [
</span><span class="token prefix unchanged"> </span><span class="token line">      new TerserPlugin({
</span><span class="token prefix unchanged"> </span><span class="token line">        terserOptions: {
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">          compress: argv['optimize-minimize'] // only if -p or --optimize-minimize were passed
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">        }
</span><span class="token prefix unchanged"> </span><span class="token line">      })
</span><span class="token prefix unchanged"> </span><span class="token line">    ]
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  };
</span></span>};</code></pre> <h2 id="exporting-a-promise">å¯¼å‡º Promise <a href="#exporting-a-promise" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>å½“éœ€è¦å¼‚æ­¥åŠ è½½é…ç½®å˜é‡æ—¶ï¼Œwebpack å°†æ‰§è¡Œå‡½æ•°å¹¶å¯¼å‡ºä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼ŒåŒæ—¶è¿”å›ä¸€ä¸ª Promiseã€‚</p> <blockquote class="tip"> <p>æ”¯æŒä½¿ç”¨ <code>Promise.all([/* Your promises */])</code> å¯¼å‡ºå¤šä¸ª Promiseã€‚</p> </blockquote> <pre><code class="hljs language-js">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        entry<span class="token operator">:</span> <span class="token string">'./app.js'</span><span class="token punctuation">,</span>
        <span class="token comment">/* ... */</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p>åªæœ‰é€šè¿‡ webpack å‘½ä»¤è¡Œå·¥å…·è¿”å›çš„ <code>Promise</code> æ‰ç”Ÿæ•ˆã€‚<a href="../../api/node/index.htm#webpack" tppabs="https://webpack.docschina.org/api/node/#webpack"><code>webpack()</code></a> åªæ¥å—å¯¹è±¡ã€‚</p> </blockquote> <h2 id="exporting-multiple-configurations">å¯¼å‡ºå¤šç§é…ç½® <a href="#exporting-multiple-configurations" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>é™¤äº†å¯¼å‡ºå•ä¸ªé…ç½®å¯¹è±¡/å‡½æ•°ï¼Œä½ å¯èƒ½ä¹Ÿä¼šéœ€è¦å¯¼å‡ºå¤šç§é…ç½®ï¼ˆwebpack 3.1.0 èµ·æ”¯æŒï¼‰ã€‚å½“è¿è¡Œ webpack æ—¶ï¼Œæ‰€æœ‰é…ç½®é¡¹éƒ½ä¼šæ„å»ºã€‚æ¯”å¦‚ï¼Œå¯¹äºå¤š <a href="../output/index.htm#outputlibrarytarget" tppabs="https://webpack.docschina.org/configuration/output/#outputlibrarytarget">targets</a>ï¼ˆå¦‚ AMD å’Œ CommonJSï¼‰<a href="../../guides/author-libraries.htm" tppabs="https://webpack.docschina.org/guides/author-libraries">æ„å»º library</a> æ—¶ä¼šéå¸¸æœ‰ç”¨ã€‚</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'./dist-amd.js'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token operator">:</span> <span class="token string">'amd'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'amd'</span><span class="token punctuation">,</span>
  entry<span class="token operator">:</span> <span class="token string">'./app.js'</span><span class="token punctuation">,</span>
  mode<span class="token operator">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'./dist-commonjs.js'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token operator">:</span> <span class="token string">'commonjs'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'commonjs'</span><span class="token punctuation">,</span>
  entry<span class="token operator">:</span> <span class="token string">'./app.js'</span><span class="token punctuation">,</span>
  mode<span class="token operator">:</span> <span class="token string">'production'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p>å¦‚æœä½ åªä¼ äº†ä¸€ä¸ª <a href="../../api/cli/index.htm#configuration-options" tppabs="https://webpack.docschina.org/api/cli/#configuration-options"><code>--config-name</code></a> åå­—æ ‡è¯†ï¼Œwebpack å°†åªä¼šæ„å»ºæŒ‡å®šçš„é…ç½®é¡¹ã€‚</p> </blockquote> <h1 id="å…¥å£å’Œä¸Šä¸‹æ–‡entry-and-context">å…¥å£å’Œä¸Šä¸‹æ–‡(entry and context)<a href="#%E5%85%A5%E5%8F%A3%E5%92%8C%E4%B8%8A%E4%B8%8B%E6%96%87entry-and-context" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>å…¥å£å¯¹è±¡æ˜¯ç”¨äº webpack æŸ¥æ‰¾å¼€å§‹æ„å»º bundle çš„åœ°æ–¹ã€‚ä¸Šä¸‹æ–‡æ˜¯å…¥å£æ–‡ä»¶æ‰€å¤„çš„ç›®å½•çš„ç»å¯¹è·¯å¾„çš„å­—ç¬¦ä¸²ã€‚</p> <h2 id="context"><code>context</code> <a href="#context" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code></p> <p>åŸºç¡€ç›®å½•ï¼Œ<strong>ç»å¯¹è·¯å¾„</strong>ï¼Œç”¨äºä»é…ç½®ä¸­è§£æå…¥å£ç‚¹(entry point)å’Œ åŠ è½½å™¨(loader)ã€‚</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  context<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'app'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é»˜è®¤ä½¿ç”¨å½“å‰ç›®å½•ï¼Œä½†æ˜¯æ¨èåœ¨é…ç½®ä¸­ä¼ å…¥ä¸€ä¸ªå€¼ã€‚è¿™ä½¿å¾—ä½ çš„é…ç½®ç‹¬ç«‹äº CWD(current working directory, å½“å‰å·¥ä½œç›®å½•)ã€‚</p> <hr> <h2 id="entry"><code>entry</code> <a href="#entry" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code> <code>[string]</code> <code>object = { &#x3C;key> string | [string] | object = { import string | [string], dependOn string | [string], filename string }}</code> <code>(function() => string | [string] | object = { &#x3C;key> string | [string] } | object = { import string | [string], dependOn string | [string], filename string })</code></p> <p>å¼€å§‹åº”ç”¨ç¨‹åºæ‰“åŒ…è¿‡ç¨‹çš„ä¸€ä¸ªæˆ–å¤šä¸ªèµ·ç‚¹ã€‚å¦‚æœä¼ å…¥æ•°ç»„ï¼Œåˆ™ä¼šå¤„ç†æ‰€æœ‰æ¡ç›®ã€‚</p> <p>åŠ¨æ€åŠ è½½çš„æ¨¡å— <strong>ä¸æ˜¯</strong> å…¥å£èµ·ç‚¹ã€‚</p> <p>ç®€å•è§„åˆ™ï¼šæ¯ä¸ª HTML é¡µé¢éƒ½æœ‰ä¸€ä¸ªå…¥å£èµ·ç‚¹ã€‚å•é¡µåº”ç”¨(SPA)ï¼šä¸€ä¸ªå…¥å£èµ·ç‚¹ï¼Œå¤šé¡µåº”ç”¨(MPA)ï¼šå¤šä¸ªå…¥å£èµ·ç‚¹ã€‚</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    home<span class="token operator">:</span> <span class="token string">'./home.js'</span><span class="token punctuation">,</span>
    about<span class="token operator">:</span> <span class="token string">'./about.js'</span><span class="token punctuation">,</span>
    contact<span class="token operator">:</span> <span class="token string">'./contact.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="naming">Naming <a href="#naming" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>å¦‚æœä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–å­—ç¬¦ä¸²æ•°ç»„ï¼Œchunk ä¼šè¢«å‘½åä¸º <code>main</code>ã€‚å¦‚æœä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™æ¯ä¸ªå±æ€§çš„é”®(key)ä¼šæ˜¯ chunk çš„åç§°ï¼Œè¯¥å±æ€§çš„å€¼æè¿°äº† chunk çš„å…¥å£ç‚¹ã€‚</p> <h3 id="entry-descriptor">Entry descriptor <a href="#entry-descriptor" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>å¦‚æœä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„å±æ€§çš„å€¼å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€å­—ç¬¦ä¸²æ•°ç»„æˆ–è€…ä¸€ä¸ªæè¿°ç¬¦(descriptor):</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    home<span class="token operator">:</span> <span class="token string">'./home.js'</span><span class="token punctuation">,</span>
    shared<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'react-dom'</span><span class="token punctuation">,</span> <span class="token string">'redux'</span><span class="token punctuation">,</span> <span class="token string">'react-redux'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    catalog<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">import</span><span class="token operator">:</span> <span class="token string">'./catalog.js'</span><span class="token punctuation">,</span>
      filename<span class="token operator">:</span> <span class="token string">'pages/catalog.js'</span><span class="token punctuation">,</span>
      dependOn<span class="token operator">:</span><span class="token string">'shared'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    personal<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">import</span><span class="token operator">:</span> <span class="token string">'./personal.js'</span><span class="token punctuation">,</span>
      filename<span class="token operator">:</span> <span class="token string">'pages/personal.js'</span><span class="token punctuation">,</span>
      dependOn<span class="token operator">:</span> <span class="token string">'shared'</span><span class="token punctuation">,</span>
      chunkLoading<span class="token operator">:</span> <span class="token string">'jsonp'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æè¿°ç¬¦è¯­æ³•å¯ä»¥ç”¨æ¥ä¼ å…¥é¢å¤–çš„é€‰é¡¹ç»™å…¥å£ã€‚</p> <h3 id="output-filename">Output filename <a href="#output-filename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå…¥å£ chunk çš„è¾“å‡ºæ–‡ä»¶åæ˜¯ä» <a href="../output/index.htm#outputfilename" tppabs="https://webpack.docschina.org/configuration/output/#outputfilename"><code>output.filename</code></a> ä¸­æå–å‡ºæ¥çš„ï¼Œä½†ä½ å¯ä»¥ä¸ºç‰¹å®šçš„å…¥å£æŒ‡å®šä¸€ä¸ªè‡ªå®šä¹‰çš„è¾“å‡ºæ–‡ä»¶åã€‚</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    app<span class="token operator">:</span> <span class="token string">'./app.js'</span><span class="token punctuation">,</span>
    home<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token keyword">import</span><span class="token operator">:</span> <span class="token string">'./contact.js'</span><span class="token punctuation">,</span> filename<span class="token operator">:</span> <span class="token string">'pages/[name][ext]'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    about<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token keyword">import</span><span class="token operator">:</span> <span class="token string">'./about.js'</span><span class="token punctuation">,</span> filename<span class="token operator">:</span> <span class="token string">'pages/[name][ext]'</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æè¿°ç¬¦è¯­æ³•åœ¨è¿™é‡Œè¢«ç”¨æ¥å°† <code>filename</code>â€”é€‰é¡¹ä¼ é€’ç»™æŒ‡å®šçš„å…¥å£ç‚¹ã€‚</p> <h3 id="dependencies">Dependencies <a href="#dependencies" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ªå…¥å£ chunk ä¿å­˜äº†å…¨éƒ¨å…¶ç”¨çš„æ¨¡å—(modules)ã€‚ä½¿ç”¨ <code>dependOn</code> é€‰é¡¹ä½ å¯ä»¥ä¸å¦ä¸€ä¸ªå…¥å£ chunk å…±äº«æ¨¡å—:</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    app<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token keyword">import</span><span class="token operator">:</span> <span class="token string">'./app.js'</span><span class="token punctuation">,</span> dependOn<span class="token operator">:</span> <span class="token string">'react-vendors'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'react-vendors'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'react-dom'</span><span class="token punctuation">,</span> <span class="token string">'prop-types'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><code>app</code> è¿™ä¸ª chunk å°±ä¸ä¼šåŒ…å« <code>react-vendors</code> æ‹¥æœ‰çš„æ¨¡å—äº†.</p> <p><code>dependOn</code> é€‰é¡¹çš„ä¹Ÿå¯ä»¥ä¸ºå­—ç¬¦ä¸²æ•°ç»„ï¼š</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    moment<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token keyword">import</span><span class="token operator">:</span> <span class="token string">'moment-mini'</span><span class="token punctuation">,</span> runtime<span class="token operator">:</span> <span class="token string">'runtime'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    reactvendors<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token keyword">import</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'react-dom'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> runtime<span class="token operator">:</span> <span class="token string">'runtime'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    testapp<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">import</span><span class="token operator">:</span> <span class="token string">'./wwwroot/component/TestApp.tsx'</span><span class="token punctuation">,</span>
      dependOn<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'reactvendors'</span><span class="token punctuation">,</span> <span class="token string">'moment'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨æ•°ç»„ä¸ºæ¯ä¸ªå…¥å£æŒ‡å®šå¤šä¸ªæ–‡ä»¶ï¼š</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    app<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token keyword">import</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./app.js'</span><span class="token punctuation">,</span> <span class="token string">'./app2.js'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dependOn<span class="token operator">:</span> <span class="token string">'react-vendors'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'react-vendors'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'react-dom'</span><span class="token punctuation">,</span> <span class="token string">'prop-types'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="dynamic-entry">Dynamic entry <a href="#dynamic-entry" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>å¦‚æœä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆå®ƒå°†ä¼šåœ¨æ¯æ¬¡ <a href="../../api/compiler-hooks/index.htm#make" tppabs="https://webpack.docschina.org/api/compiler-hooks/#make">make</a> äº‹ä»¶ä¸­è¢«è°ƒç”¨ã€‚</p> <blockquote> <p>è¦æ³¨æ„çš„æ˜¯ï¼Œmake äº‹ä»¶åœ¨ webpack å¯åŠ¨å’Œæ¯å½“ <a href="../watch/index.htm" tppabs="https://webpack.docschina.org/configuration/watch/">ç›‘å¬æ–‡ä»¶å˜åŒ–</a> æ—¶éƒ½ä¼šè§¦å‘ã€‚</p> </blockquote> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token function-variable function">entry</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token string">'./demo'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æˆ–è€…</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token function-variable function">entry</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'./demo'</span><span class="token punctuation">,</span> <span class="token string">'./demo2'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨åŠ¨æ€å…¥å£æ¥ä»å¤–éƒ¨æ¥æºï¼ˆè¿œç¨‹æœåŠ¡å™¨ï¼Œæ–‡ä»¶ç³»ç»Ÿå†…å®¹æˆ–è€…æ•°æ®åº“ï¼‰è·å–çœŸæ­£çš„å…¥å£ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">entry</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">fetchPathsFromSomeExternalSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å›ä¸€ä¸ªä¼šè¢«ç”¨åƒ ['src/main-layout.js', 'src/admin-layout.js'] çš„ä¸œè¥¿ resolve çš„ promise</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å½“å’Œ <a href="../output/index.htm#outputlibrary" tppabs="https://webpack.docschina.org/configuration/output/#outputlibrary"><code>output.library</code></a> é€‰é¡¹ç»“åˆï¼šå¦‚æœä¼ å…¥çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œåªæœ‰æ•°ç»„çš„æœ€åä¸€ä¸ªæ¡ç›®ä¼šè¢«å¯¼å‡ºã€‚</p> <h1 id="æ¨¡å¼ï¼ˆModeï¼‰">æ¨¡å¼ï¼ˆModeï¼‰<a href="#%E6%A8%A1%E5%BC%8F%EF%BC%88Mode%EF%BC%89" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>æä¾› <code>mode</code> é…ç½®é€‰é¡¹ï¼Œå‘ŠçŸ¥ webpack ä½¿ç”¨ç›¸åº”æ¨¡å¼çš„å†…ç½®ä¼˜åŒ–ã€‚</p> <p><code>string = 'production': 'none' | 'development' | 'production'</code></p> <h2 id="usage">ç”¨æ³• <a href="#usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>åªéœ€åœ¨é…ç½®å¯¹è±¡ä¸­æä¾› <code>mode</code> é€‰é¡¹ï¼š</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  mode<span class="token operator">:</span> <span class="token string">'development'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æˆ–è€…ä» <a href="../../api/cli/index.htm" tppabs="https://webpack.docschina.org/api/cli/">CLI</a> å‚æ•°ä¸­ä¼ é€’ï¼š</p> <pre><code class="hljs language-bash">webpack --mode<span class="token operator">=</span>development</code></pre> <p>æ”¯æŒä»¥ä¸‹å­—ç¬¦ä¸²å€¼ï¼š</p> <table> <thead> <tr> <th>é€‰é¡¹</th> <th>æè¿°</th> </tr> </thead> <tbody> <tr> <td data-th="é€‰é¡¹"><span><code>development</code></span></td> <td data-th="æè¿°"><span>ä¼šå°† <code>DefinePlugin</code> ä¸­ <code>process.env.NODE_ENV</code> çš„å€¼è®¾ç½®ä¸º <code>development</code>. ä¸ºæ¨¡å—å’Œ chunk å¯ç”¨æœ‰æ•ˆçš„åã€‚</span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>production</code></span></td> <td data-th="æè¿°"><span>ä¼šå°† <code>DefinePlugin</code> ä¸­ <code>process.env.NODE_ENV</code> çš„å€¼è®¾ç½®ä¸º <code>production</code>ã€‚ä¸ºæ¨¡å—å’Œ chunk å¯ç”¨ç¡®å®šæ€§çš„æ··æ·†åç§°ï¼Œ<code>FlagDependencyUsagePlugin</code>ï¼Œ<code>FlagIncludedChunksPlugin</code>ï¼Œ<code>ModuleConcatenationPlugin</code>ï¼Œ<code>NoEmitOnErrorsPlugin</code> å’Œ <code>TerserPlugin</code> ã€‚</span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>none</code></span></td> <td data-th="æè¿°"><span>ä¸ä½¿ç”¨ä»»ä½•é»˜è®¤ä¼˜åŒ–é€‰é¡¹</span></td> </tr> </tbody> </table> <p>å¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œwebpack ä¼šç»™ <code>mode</code> çš„é»˜è®¤å€¼è®¾ç½®ä¸º <code>production</code>ã€‚</p> <blockquote class="tip"> <p>è¯·æ³¨æ„ï¼Œè®¾ç½® <code>NODE_ENV</code> å¹¶ä¸ä¼šè‡ªåŠ¨åœ°è®¾ç½® <code>mode</code>ã€‚</p> </blockquote> <h3 id="mode-development">Mode: development <a href="#mode-development" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-diff">// webpack.development.config.js
module.exports = {
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> mode: 'development'
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> devtool: 'eval',
</span><span class="token prefix deleted">-</span><span class="token line"> cache: true,
</span><span class="token prefix deleted">-</span><span class="token line"> performance: {
</span><span class="token prefix deleted">-</span><span class="token line">   hints: false
</span><span class="token prefix deleted">-</span><span class="token line"> },
</span><span class="token prefix deleted">-</span><span class="token line"> output: {
</span><span class="token prefix deleted">-</span><span class="token line">   pathinfo: true
</span><span class="token prefix deleted">-</span><span class="token line"> },
</span><span class="token prefix deleted">-</span><span class="token line"> optimization: {
</span><span class="token prefix deleted">-</span><span class="token line">   moduleIds: 'named',
</span><span class="token prefix deleted">-</span><span class="token line">   chunkIds: 'named',
</span><span class="token prefix deleted">-</span><span class="token line">   mangleExports: false,
</span><span class="token prefix deleted">-</span><span class="token line">   nodeEnv: 'development',
</span><span class="token prefix deleted">-</span><span class="token line">   flagIncludedChunks: false,
</span><span class="token prefix deleted">-</span><span class="token line">   occurrenceOrder: false,
</span><span class="token prefix deleted">-</span><span class="token line">   concatenateModules: false,
</span><span class="token prefix deleted">-</span><span class="token line">   splitChunks: {
</span><span class="token prefix deleted">-</span><span class="token line">     hidePathInfo: false,
</span><span class="token prefix deleted">-</span><span class="token line">     minSize: 10000,
</span><span class="token prefix deleted">-</span><span class="token line">     maxAsyncRequests: Infinity,
</span><span class="token prefix deleted">-</span><span class="token line">     maxInitialRequests: Infinity,
</span><span class="token prefix deleted">-</span><span class="token line">   },
</span><span class="token prefix deleted">-</span><span class="token line">   emitOnErrors: true,
</span><span class="token prefix deleted">-</span><span class="token line">   checkWasmTypes: false,
</span><span class="token prefix deleted">-</span><span class="token line">   minimize: false,
</span><span class="token prefix deleted">-</span><span class="token line">   removeAvailableModules: false
</span><span class="token prefix deleted">-</span><span class="token line"> },
</span><span class="token prefix deleted">-</span><span class="token line"> plugins: [
</span><span class="token prefix deleted">-</span><span class="token line">   new webpack.DefinePlugin({ "process.env.NODE_ENV": JSON.stringify("development") }),
</span><span class="token prefix deleted">-</span><span class="token line"> ]
</span></span>}</code></pre> <h3 id="mode-production">Mode: production <a href="#mode-production" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-diff">// webpack.production.config.js
module.exports = {
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  mode: 'production',
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> performance: {
</span><span class="token prefix deleted">-</span><span class="token line">   hints: 'warning'
</span><span class="token prefix deleted">-</span><span class="token line"> },
</span><span class="token prefix deleted">-</span><span class="token line"> output: {
</span><span class="token prefix deleted">-</span><span class="token line">   pathinfo: false
</span><span class="token prefix deleted">-</span><span class="token line"> },
</span><span class="token prefix deleted">-</span><span class="token line"> optimization: {
</span><span class="token prefix deleted">-</span><span class="token line">   moduleIds: 'deterministic',
</span><span class="token prefix deleted">-</span><span class="token line">   chunkIds: 'deterministic',
</span><span class="token prefix deleted">-</span><span class="token line">   mangleExports: 'deterministic',
</span><span class="token prefix deleted">-</span><span class="token line">   nodeEnv: 'production',
</span><span class="token prefix deleted">-</span><span class="token line">   flagIncludedChunks: true,
</span><span class="token prefix deleted">-</span><span class="token line">   occurrenceOrder: true,
</span><span class="token prefix deleted">-</span><span class="token line">   concatenateModules: true,
</span><span class="token prefix deleted">-</span><span class="token line">   splitChunks: {
</span><span class="token prefix deleted">-</span><span class="token line">     hidePathInfo: true,
</span><span class="token prefix deleted">-</span><span class="token line">     minSize: 30000,
</span><span class="token prefix deleted">-</span><span class="token line">     maxAsyncRequests: 5,
</span><span class="token prefix deleted">-</span><span class="token line">     maxInitialRequests: 3,
</span><span class="token prefix deleted">-</span><span class="token line">   },
</span><span class="token prefix deleted">-</span><span class="token line">   emitOnErrors: false,
</span><span class="token prefix deleted">-</span><span class="token line">   checkWasmTypes: true,
</span><span class="token prefix deleted">-</span><span class="token line">   minimize: true,
</span><span class="token prefix deleted">-</span><span class="token line"> },
</span><span class="token prefix deleted">-</span><span class="token line"> plugins: [
</span><span class="token prefix deleted">-</span><span class="token line">   new TerserPlugin(/* ... */),
</span><span class="token prefix deleted">-</span><span class="token line">   new webpack.DefinePlugin({ "process.env.NODE_ENV": JSON.stringify("production") }),
</span><span class="token prefix deleted">-</span><span class="token line">   new webpack.optimize.ModuleConcatenationPlugin(),
</span><span class="token prefix deleted">-</span><span class="token line">   new webpack.NoEmitOnErrorsPlugin()
</span><span class="token prefix deleted">-</span><span class="token line"> ]
</span></span>}</code></pre> <h3 id="mode-none">Mode: none <a href="#mode-none" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-diff">// webpack.custom.config.js
module.exports = {
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> mode: 'none',
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> performance: {
</span><span class="token prefix deleted">-</span><span class="token line">  hints: false
</span><span class="token prefix deleted">-</span><span class="token line"> },
</span><span class="token prefix deleted">-</span><span class="token line"> optimization: {
</span><span class="token prefix deleted">-</span><span class="token line">   flagIncludedChunks: false,
</span><span class="token prefix deleted">-</span><span class="token line">   occurrenceOrder: false,
</span><span class="token prefix deleted">-</span><span class="token line">   concatenateModules: false,
</span><span class="token prefix deleted">-</span><span class="token line">   splitChunks: {
</span><span class="token prefix deleted">-</span><span class="token line">     hidePathInfo: false,
</span><span class="token prefix deleted">-</span><span class="token line">     minSize: 10000,
</span><span class="token prefix deleted">-</span><span class="token line">     maxAsyncRequests: Infinity,
</span><span class="token prefix deleted">-</span><span class="token line">     maxInitialRequests: Infinity,
</span><span class="token prefix deleted">-</span><span class="token line">   },
</span><span class="token prefix deleted">-</span><span class="token line">   emitOnErrors: true,
</span><span class="token prefix deleted">-</span><span class="token line">   checkWasmTypes: false,
</span><span class="token prefix deleted">-</span><span class="token line">   minimize: false,
</span><span class="token prefix deleted">-</span><span class="token line"> },
</span><span class="token prefix deleted">-</span><span class="token line"> plugins: []
</span></span>}</code></pre> <p>å¦‚æœè¦æ ¹æ® <em>webpack.config.js</em> ä¸­çš„ <strong>mode</strong> å˜é‡æ›´æ”¹æ‰“åŒ…è¡Œä¸ºï¼Œåˆ™å¿…é¡»å°†é…ç½®å¯¼å‡ºä¸ºå‡½æ•°ï¼Œè€Œä¸æ˜¯å¯¼å‡ºå¯¹è±¡ï¼š</p> <pre><code class="hljs language-javascript"><span class="token keyword">var</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./app.js'</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">env<span class="token punctuation">,</span> argv</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>argv<span class="token punctuation">.</span>mode <span class="token operator">===</span> <span class="token string">'development'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    config<span class="token punctuation">.</span>devtool <span class="token operator">=</span> <span class="token string">'source-map'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>argv<span class="token punctuation">.</span>mode <span class="token operator">===</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> config<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h1 id="è¾“å‡ºoutput">è¾“å‡º(output)<a href="#%E8%BE%93%E5%87%BAoutput" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><code>output</code> ä½äºå¯¹è±¡æœ€é¡¶çº§é”®(key)ï¼ŒåŒ…æ‹¬äº†ä¸€ç»„é€‰é¡¹ï¼ŒæŒ‡ç¤º webpack å¦‚ä½•å»è¾“å‡ºã€ä»¥åŠåœ¨å“ªé‡Œè¾“å‡ºä½ çš„ã€Œbundleã€asset å’Œå…¶ä»–ä½ æ‰€æ‰“åŒ…æˆ–ä½¿ç”¨ webpack è½½å…¥çš„ä»»ä½•å†…å®¹ã€ã€‚</p> <h2 id="outputauxiliarycomment"><code>output.auxiliaryComment</code> <a href="#outputauxiliarycomment" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code> <code>object</code></p> <p>åœ¨å’Œ <a href="#outputlibrary"><code>output.library</code></a> å’Œ <a href="#outputlibrarytarget"><code>output.libraryTarget</code></a> ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œæ­¤é€‰é¡¹å…è®¸ç”¨æˆ·å‘å¯¼å‡ºå®¹å™¨(export wrapper)ä¸­æ’å…¥æ³¨é‡Šã€‚è¦ä¸º <code>libraryTarget</code> æ¯ç§ç±»å‹éƒ½æ’å…¥ç›¸åŒçš„æ³¨é‡Šï¼Œå°† <code>auxiliaryComment</code> è®¾ç½®ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    library<span class="token operator">:</span> <span class="token string">'someLibName'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token operator">:</span> <span class="token string">'umd'</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'someLibName.js'</span><span class="token punctuation">,</span>
    auxiliaryComment<span class="token operator">:</span> <span class="token string">'Test Comment'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å°†ä¼šç”Ÿæˆå¦‚ä¸‹ï¼š</p> <p><strong>someLibName.js</strong></p> <pre><code class="hljs language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">webpackUniversalModuleDefinition</span><span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> factory</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Test Comment</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&#x26;&#x26;</span> <span class="token keyword">typeof</span> module <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Test Comment</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> define <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">&#x26;&#x26;</span> define<span class="token punctuation">.</span>amd<span class="token punctuation">)</span>
    <span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'lodash'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Test Comment</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
    exports<span class="token punctuation">[</span><span class="token string">'someLibName'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'lodash'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Test Comment</span>
  <span class="token keyword">else</span>
    root<span class="token punctuation">[</span><span class="token string">'someLibName'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span>root<span class="token punctuation">[</span><span class="token string">'_'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">__WEBPACK_EXTERNAL_MODULE_1__</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>å¯¹äº <code>libraryTarget</code> æ¯ç§ç±»å‹çš„æ³¨é‡Šè¿›è¡Œæ›´ç»†ç²’åº¦åœ°æ§åˆ¶ï¼Œè¯·ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    auxiliaryComment<span class="token operator">:</span> <span class="token punctuation">{</span>
      root<span class="token operator">:</span> <span class="token string">'Root Comment'</span><span class="token punctuation">,</span>
      commonjs<span class="token operator">:</span> <span class="token string">'CommonJS Comment'</span><span class="token punctuation">,</span>
      commonjs2<span class="token operator">:</span> <span class="token string">'CommonJS2 Comment'</span><span class="token punctuation">,</span>
      amd<span class="token operator">:</span> <span class="token string">'AMD Comment'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="outputcharset"><code>output.charset</code> <a href="#outputcharset" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = true</code></p> <p>å‘Šè¯‰ webpack ä¸º HTML çš„ <code>&#x3C;script></code> æ ‡ç­¾æ·»åŠ  <code>charset="utf-8"</code> æ ‡è¯†ã€‚</p> <blockquote class="tip"> <p>å°½ç®¡ <code>&#x3C;script></code> <a href="javascript:if(confirm('https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script#Deprecated_attributes'" tppabs="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script#Deprecated_attributes">å·²å¼ƒç”¨</a>äº† <code>charset</code> å±æ€§ï¼Œå½“ webpack è¿˜æ˜¯é»˜è®¤æ·»åŠ äº†å®ƒï¼Œç›®çš„æ˜¯ä¸éç°ä»£æµè§ˆå™¨å…¼å®¹ã€‚</p> </blockquote> <h2 id="outputchunkfilename"><code>output.chunkFilename</code> <a href="#outputchunkfilename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = '[id].js'</code> <code>function (pathData, assetInfo) => string</code></p> <p>æ­¤é€‰é¡¹å†³å®šäº†éåˆå§‹ï¼ˆnon-initialï¼‰chunk æ–‡ä»¶çš„åç§°ã€‚æœ‰å…³å¯å–çš„å€¼çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ <a href="#outputfilename"><code>output.filename</code></a> é€‰é¡¹ã€‚</p> <p>æ³¨æ„ï¼Œè¿™äº›æ–‡ä»¶åéœ€è¦åœ¨è¿è¡Œæ—¶æ ¹æ® chunk å‘é€çš„è¯·æ±‚å»ç”Ÿæˆã€‚å› æ­¤ï¼Œéœ€è¦åœ¨ webpack runtime è¾“å‡º bundle å€¼æ—¶ï¼Œå°† chunk id çš„å€¼å¯¹åº”æ˜ å°„åˆ°å ä½ç¬¦(å¦‚ <code>[name]</code> å’Œ <code>[chunkhash]</code>)ã€‚è¿™ä¼šå¢åŠ æ–‡ä»¶å¤§å°ï¼Œå¹¶ä¸”åœ¨ä»»ä½• chunk çš„å ä½ç¬¦å€¼ä¿®æ”¹åï¼Œéƒ½ä¼šä½¿ bundle å¤±æ•ˆã€‚</p> <p>é»˜è®¤ä½¿ç”¨ <code>[id].js</code> æˆ–ä» <a href="#outputfilename"><code>output.filename</code></a> ä¸­æ¨æ–­å‡ºçš„å€¼ï¼ˆ<code>[name]</code> ä¼šè¢«é¢„å…ˆæ›¿æ¢ä¸º <code>[id]</code> æˆ– <code>[id].</code>ï¼‰ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    chunkFilename<span class="token operator">:</span> <span class="token string">'[id].js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Usage as a function:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">chunkFilename</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">pathData</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> pathData<span class="token punctuation">.</span>chunk<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'main'</span> <span class="token operator">?</span> <span class="token string">'[name].js'</span><span class="token operator">:</span> <span class="token string">'[name]/[name].js'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="outputchunkloadtimeout"><code>output.chunkLoadTimeout</code> <a href="#outputchunkloadtimeout" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>number = 120000</code></p> <p>chunk è¯·æ±‚åˆ°æœŸä¹‹å‰çš„æ¯«ç§’æ•°ï¼Œé»˜è®¤ä¸º 120000ã€‚ä» webpack 2.6.0 å¼€å§‹æ”¯æŒæ­¤é€‰é¡¹ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    chunkLoadTimeout<span class="token operator">:</span> <span class="token number">30000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="outputchunkloadingglobal"><code>output.chunkLoadingGlobal</code> <a href="#outputchunkloadingglobal" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = 'webpackChunkwebpack'</code></p> <p>webpack ç”¨äºåŠ è½½ chunk çš„å…¨å±€å˜é‡ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    chunkLoadingGlobal<span class="token operator">:</span> <span class="token string">'myCustomFunc'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="outputchunkloading"><code>output.chunkLoading</code> <a href="#outputchunkloading" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>false</code> <code>string: 'jsonp' | 'import-scripts' | 'require' | 'async-node' | &#x3C;any string></code></p> <p>åŠ è½½ chunk çš„æ–¹æ³•ï¼ˆé»˜è®¤å€¼æœ‰ 'jsonp' (web)ï¼Œ'importScripts' (WebWorker)ï¼Œ'require' (sync node.js)ï¼Œ'async-node' (async node.js)ï¼Œè¿˜æœ‰å…¶ä»–å€¼å¯ç”±æ’ä»¶æ·»åŠ )ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    chunkLoading<span class="token operator">:</span> <span class="token string">'async-node'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="outputchunkformat"><code>output.chunkFormat</code> <a href="#outputchunkformat" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>false</code> <code>string: 'array-push' | 'commonjs' | &#x3C;any string></code></p> <p>chunk çš„æ ¼å¼ï¼ˆformats é»˜è®¤åŒ…å« 'array-push' (web/WebWorker)ï¼Œ'commonjs' (node.js)ï¼Œè¿˜æœ‰å…¶ä»–æƒ…å†µå¯ç”±æ’ä»¶æ·»åŠ ï¼‰ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    chunkFormat<span class="token operator">:</span> <span class="token string">'commonjs'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="outputenabledchunkloadingtypes"><code>output.enabledChunkLoadingTypes</code> <a href="#outputenabledchunkloadingtypes" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>[string: 'jsonp' | 'import-scripts' | 'require' | 'async-node' | &#x3C;any string>]</code></p> <p>ä¸ºå…¥å£å¯ç”¨ chunk åŠ è½½ç±»å‹åˆ—è¡¨ã€‚å°†ç”± webpack è‡ªåŠ¨å¡«å……ã€‚åªæœ‰åœ¨ä½¿ç”¨å‡½æ•°ä½œä¸ºå…¥å£é€‰é¡¹å¹¶è¿”å› chunkLoading é€‰é¡¹æ—¶æ‰éœ€è¦ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    enabledChunkLoadingTypes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'jsonp'</span><span class="token punctuation">,</span> <span class="token string">'require'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="outputcrossoriginloading"><code>output.crossOriginLoading</code> <a href="#outputcrossoriginloading" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code> <code>string: 'anonymous' | 'use-credentials'</code></p> <p>å‘Šè¯‰ webpack å¯ç”¨ <a href="javascript:if(confirm('https://developer.mozilla.org/en/docs/Web/HTML/Element/script  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://developer.mozilla.org/en/docs/Web/HTML/Element/script#attr-crossorigin'" tppabs="https://developer.mozilla.org/en/docs/Web/HTML/Element/script#attr-crossorigin">cross-origin å±æ€§</a> åŠ è½½ chunkã€‚ä»…åœ¨ <a href="../target/index.htm" tppabs="https://webpack.docschina.org/configuration/target/"><code>target</code></a> è®¾ç½®ä¸º <code>'web'</code> æ—¶ç”Ÿæ•ˆï¼Œé€šè¿‡ä½¿ç”¨ JSONP æ¥æ·»åŠ è„šæœ¬æ ‡ç­¾ï¼Œå®ç°æŒ‰éœ€åŠ è½½æ¨¡å—ã€‚</p> <ul> <li><code>'anonymous'</code> - <strong>ä¸å¸¦å‡­æ®(credential)</strong> å¯ç”¨è·¨åŸŸåŠ è½½</li> <li><code>'use-credentials'</code> - <strong>æºå¸¦å‡­æ®(credential)</strong> å¯ç”¨è·¨åŸŸåŠ è½½</li> </ul> <h2 id="outputdevtoolfallbackmodulefilenametemplate"><code>output.devtoolFallbackModuleFilenameTemplate</code> <a href="#outputdevtoolfallbackmodulefilenametemplate" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code> <code>function (info)</code></p> <p>å½“ä¸Šé¢çš„æ¨¡æ¿å­—ç¬¦ä¸²æˆ–å‡½æ•°äº§ç”Ÿé‡å¤æ—¶ä½¿ç”¨çš„å¤‡ç”¨å†…å®¹ã€‚</p> <p>æŸ¥çœ‹ <a href="#outputdevtoolmodulefilenametemplate"><code>output.devtoolModuleFilenameTemplate</code></a>ã€‚</p> <h2 id="outputdevtoolmodulefilenametemplate"><code>output.devtoolModuleFilenameTemplate</code> <a href="#outputdevtoolmodulefilenametemplate" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = 'webpack://[namespace]/[resource-path]?[loaders]'</code> <code>function (info) => string</code></p> <p>æ­¤é€‰é¡¹ä»…åœ¨ ã€Œ<a href="../devtool.htm" tppabs="https://webpack.docschina.org/configuration/devtool"><code>devtool</code></a> ä½¿ç”¨äº†éœ€è¦æ¨¡å—åç§°çš„é€‰é¡¹ã€æ—¶ä½¿ç”¨ã€‚</p> <p>è‡ªå®šä¹‰æ¯ä¸ª source map çš„ <code>sources</code> æ•°ç»„ä¸­ä½¿ç”¨çš„åç§°ã€‚å¯ä»¥é€šè¿‡ä¼ é€’æ¨¡æ¿å­—ç¬¦ä¸²(template string)æˆ–è€…å‡½æ•°æ¥å®Œæˆã€‚ä¾‹å¦‚ï¼Œå½“ä½¿ç”¨ <code>devtool: 'eval'</code>ï¼Œé»˜è®¤å€¼æ˜¯ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    devtoolModuleFilenameTemplate<span class="token operator">:</span> <span class="token string">'webpack://[namespace]/[resource-path]?[loaders]'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æ¨¡æ¿å­—ç¬¦ä¸²(template string)ä¸­åšä»¥ä¸‹æ›¿æ¢ï¼ˆé€šè¿‡ webpack å†…éƒ¨çš„ <a href="../../../github.com/webpack/webpack/blob/master/lib/ModuleFilenameHelpers.js" tppabs="https://github.com/webpack/webpack/blob/master/lib/ModuleFilenameHelpers.js"><code>ModuleFilenameHelpers</code></a>ï¼‰ï¼š</p> <table> <thead> <tr> <th>Template</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td data-th="Template"><span>[absolute-resource-path]</span></td> <td data-th="Description"><span>ç»å¯¹è·¯å¾„æ–‡ä»¶å</span></td> </tr> <tr> <td data-th="Template"><span>[all-loaders]</span></td> <td data-th="Description"><span>è‡ªåŠ¨å’Œæ˜¾å¼çš„ loaderï¼Œå¹¶ä¸”å‚æ•°å–å†³äºç¬¬ä¸€ä¸ª loader åç§°</span></td> </tr> <tr> <td data-th="Template"><span>[hash]</span></td> <td data-th="Description"><span>æ¨¡å—æ ‡è¯†ç¬¦çš„ hash</span></td> </tr> <tr> <td data-th="Template"><span>[id]</span></td> <td data-th="Description"><span>æ¨¡å—æ ‡è¯†ç¬¦</span></td> </tr> <tr> <td data-th="Template"><span>[loaders]</span></td> <td data-th="Description"><span>æ˜¾å¼çš„ loaderï¼Œå¹¶ä¸”å‚æ•°å–å†³äºç¬¬ä¸€ä¸ª loader åç§°</span></td> </tr> <tr> <td data-th="Template"><span>[resource]</span></td> <td data-th="Description"><span>ç”¨äºè§£ææ–‡ä»¶çš„è·¯å¾„å’Œç”¨äºç¬¬ä¸€ä¸ª loader çš„ä»»æ„æŸ¥è¯¢å‚æ•°</span></td> </tr> <tr> <td data-th="Template"><span>[resource-path]</span></td> <td data-th="Description"><span>ä¸å¸¦ä»»ä½•æŸ¥è¯¢å‚æ•°ï¼Œç”¨äºè§£ææ–‡ä»¶çš„è·¯å¾„</span></td> </tr> <tr> <td data-th="Template"><span>[namespace]</span></td> <td data-th="Description"><span>æ¨¡å—å‘½åç©ºé—´ã€‚åœ¨æ„å»ºæˆä¸ºä¸€ä¸ª library ä¹‹åï¼Œé€šå¸¸ä¹Ÿæ˜¯ library åç§°ï¼Œå¦åˆ™ä¸ºç©º</span></td> </tr> </tbody> </table> <p>å½“ä½¿ç”¨ä¸€ä¸ªå‡½æ•°ï¼ŒåŒæ ·çš„é€‰é¡¹è¦é€šè¿‡ <code>info</code> å‚æ•°å¹¶ä½¿ç”¨é©¼å³°å¼(camel-cased)ï¼š</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">devtoolModuleFilenameTemplate</span><span class="token operator">:</span> <span class="token parameter">info</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">webpack:///</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>info<span class="token punctuation">.</span>resourcePath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">?</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>info<span class="token punctuation">.</span>loaders<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å¦‚æœå¤šä¸ªæ¨¡å—äº§ç”Ÿç›¸åŒçš„åç§°ï¼Œä½¿ç”¨ <a href="#outputdevtoolfallbackmodulefilenametemplate"><code>output.devtoolFallbackModuleFilenameTemplate</code></a> æ¥ä»£æ›¿è¿™äº›æ¨¡å—ã€‚</p> <h2 id="outputdevtoolnamespace"><code>output.devtoolNamespace</code> <a href="#outputdevtoolnamespace" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code></p> <p>æ­¤é€‰é¡¹ç¡®å®š <a href="#outputdevtoolmodulefilenametemplate"><code>output.devtoolModuleFilenameTemplate</code></a> ä½¿ç”¨çš„æ¨¡å—åç§°ç©ºé—´ã€‚æœªæŒ‡å®šæ—¶çš„é»˜è®¤å€¼ä¸ºï¼š<a href="#outputlibrary"><code>output.library</code></a>ã€‚åœ¨åŠ è½½å¤šä¸ªé€šè¿‡ webpack æ„å»ºçš„ library æ—¶ï¼Œç”¨äºé˜²æ­¢ source map ä¸­æºæ–‡ä»¶è·¯å¾„å†²çªã€‚</p> <p>ä¾‹å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸¤ä¸ª libraryï¼Œåˆ†åˆ«ä½¿ç”¨å‘½åç©ºé—´ <code>library1</code> å’Œ <code>library2</code>ï¼Œå¹¶ä¸”éƒ½æœ‰ä¸€ä¸ªæ–‡ä»¶ <code>./src/index.js</code>ï¼ˆå¯èƒ½å…·æœ‰ä¸åŒå†…å®¹ï¼‰ï¼Œå®ƒä»¬ä¼šå°†è¿™äº›æ–‡ä»¶æš´éœ²ä¸º <code>webpack://library1/./src/index.js</code> å’Œ <code>webpack://library2/./src/index.js</code>ã€‚</p> <h2 id="outputfilename"><code>output.filename</code> <a href="#outputfilename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code> <code>function (pathData, assetInfo) => string</code></p> <p>æ­¤é€‰é¡¹å†³å®šäº†æ¯ä¸ªè¾“å‡º bundle çš„åç§°ã€‚è¿™äº› bundle å°†å†™å…¥åˆ° <a href="#outputpath"><code>output.path</code></a> é€‰é¡¹æŒ‡å®šçš„ç›®å½•ä¸‹ã€‚</p> <p>å¯¹äºå•ä¸ª<a href="../entry-context.htm#entry" tppabs="https://webpack.docschina.org/configuration/entry-context#entry"><code>å…¥å£</code></a>èµ·ç‚¹ï¼Œfilename ä¼šæ˜¯ä¸€ä¸ªé™æ€åç§°ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ç„¶è€Œï¼Œå½“é€šè¿‡å¤šä¸ªå…¥å£èµ·ç‚¹(entry point)ã€ä»£ç æ‹†åˆ†(code splitting)æˆ–å„ç§æ’ä»¶(plugin)åˆ›å»ºå¤šä¸ª bundleï¼Œåº”è¯¥ä½¿ç”¨ä»¥ä¸‹ä¸€ç§æ›¿æ¢æ–¹å¼ï¼Œæ¥èµ‹äºˆæ¯ä¸ª bundle ä¸€ä¸ªå”¯ä¸€çš„åç§°â€¦â€¦</p> <p>ä½¿ç”¨å…¥å£åç§°ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'[name].bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ä½¿ç”¨å†…éƒ¨ chunk id</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'[id].bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ä½¿ç”¨ç”±ç”Ÿæˆçš„å†…å®¹äº§ç”Ÿçš„ hashï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'[contenthash].bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ç»“åˆå¤šä¸ªæ›¿æ¢ç»„åˆä½¿ç”¨ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'[name].[contenthash].bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ä½¿ç”¨å‡½æ•°è¿”å› filenameï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">filename</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">pathData</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> pathData<span class="token punctuation">.</span>chunk<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'main'</span> <span class="token operator">?</span> <span class="token string">'[name].js'</span><span class="token operator">:</span> <span class="token string">'[name]/[name].js'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>è¯·ç¡®ä¿å·²é˜…è¯»è¿‡ <a href="../../guides/caching.htm" tppabs="https://webpack.docschina.org/guides/caching">æŒ‡å— - ç¼“å­˜</a> çš„è¯¦ç»†ä¿¡æ¯ã€‚è¿™é‡Œæ¶‰åŠæ›´å¤šæ­¥éª¤ï¼Œä¸ä»…ä»…æ˜¯è®¾ç½®æ­¤é€‰é¡¹ã€‚</p> <p>æ³¨æ„æ­¤é€‰é¡¹è¢«ç§°ä¸ºæ–‡ä»¶åï¼Œä½†æ˜¯ä½ è¿˜æ˜¯å¯ä»¥ä½¿ç”¨åƒ <code>'js/[name]/bundle.js'</code> è¿™æ ·çš„æ–‡ä»¶å¤¹ç»“æ„ã€‚</p> <p>æ³¨æ„ï¼Œæ­¤é€‰é¡¹ä¸ä¼šå½±å“é‚£äº›ã€ŒæŒ‰éœ€åŠ è½½ chunkã€çš„è¾“å‡ºæ–‡ä»¶ã€‚å®ƒåªå½±å“æœ€åˆåŠ è½½çš„è¾“å‡ºæ–‡ä»¶ã€‚å¯¹äºæŒ‰éœ€åŠ è½½çš„ chunkæ–‡ä»¶ï¼Œè¯·ä½¿ç”¨ <a href="#outputchunkfilename"><code>output.chunkFilename</code></a> é€‰é¡¹æ¥æ§åˆ¶è¾“å‡ºã€‚é€šè¿‡ loader åˆ›å»ºçš„æ–‡ä»¶ä¹Ÿä¸å—å½±å“ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¿…é¡»å°è¯• loader ç‰¹å®šçš„å¯ç”¨é€‰é¡¹ã€‚</p> <h2 id="template-strings">Template strings <a href="#template-strings" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ›¿æ¢æ¨¡æ¿å­—ç¬¦ä¸²ï¼ˆé€šè¿‡ webpack å†…éƒ¨çš„<a href="../../../github.com/webpack/webpack/blob/master/lib/TemplatedPathPlugin.js" tppabs="https://github.com/webpack/webpack/blob/master/lib/TemplatedPathPlugin.js"><code>TemplatedPathPlugin</code></a>ï¼‰:</p> <p>å¯åœ¨ç¼–è¯‘å±‚é¢è¿›è¡Œæ›¿æ¢çš„å†…å®¹ï¼š</p> <table> <thead> <tr> <th>æ¨¡æ¿</th> <th>æè¿°</th> </tr> </thead> <tbody> <tr> <td data-th="æ¨¡æ¿"><span>[fullhash]</span></td> <td data-th="æè¿°"><span>compilation å®Œæ•´çš„ hash å€¼</span></td> </tr> <tr> <td data-th="æ¨¡æ¿"><span>[hash]</span></td> <td data-th="æè¿°"><span>åŒä¸Šï¼Œä½†å·²å¼ƒç”¨</span></td> </tr> </tbody> </table> <p>å¯åœ¨ chunk å±‚é¢è¿›è¡Œæ›¿æ¢çš„å†…å®¹ï¼š</p> <table> <thead> <tr> <th>æ¨¡æ¿</th> <th>æè¿°</th> </tr> </thead> <tbody> <tr> <td data-th="æ¨¡æ¿"><span>[id]</span></td> <td data-th="æè¿°"><span>æ­¤ chunk çš„ ID</span></td> </tr> <tr> <td data-th="æ¨¡æ¿"><span>[name]</span></td> <td data-th="æè¿°"><span>å¦‚æœè®¾ç½®ï¼Œåˆ™ä¸ºæ­¤ chunk çš„åç§°ï¼Œå¦åˆ™ä½¿ç”¨ chunk çš„ ID</span></td> </tr> <tr> <td data-th="æ¨¡æ¿"><span>[chunkhash]</span></td> <td data-th="æè¿°"><span>æ­¤ chunk çš„ hash å€¼ï¼ŒåŒ…å«è¯¥ chunk çš„æ‰€æœ‰å…ƒç´ </span></td> </tr> <tr> <td data-th="æ¨¡æ¿"><span>[contenthash]</span></td> <td data-th="æè¿°"><span>æ­¤ chunk çš„ hash å€¼ï¼ŒåªåŒ…æ‹¬è¯¥å†…å®¹ç±»å‹çš„å…ƒç´ ï¼ˆå— <code>optimization.realContentHash</code> å½±å“ï¼‰</span></td> </tr> </tbody> </table> <p>å¯åœ¨æ¨¡å—å±‚é¢æ›¿æ¢çš„å†…å®¹ï¼š</p> <table> <thead> <tr> <th>æ¨¡æ¿</th> <th>æè¿°</th> </tr> </thead> <tbody> <tr> <td data-th="æ¨¡æ¿"><span>[id]</span></td> <td data-th="æè¿°"><span>æ¨¡å—çš„ ID</span></td> </tr> <tr> <td data-th="æ¨¡æ¿"><span>[moduleid]</span></td> <td data-th="æè¿°"><span>åŒä¸Šï¼Œä½†å·²å¼ƒç”¨</span></td> </tr> <tr> <td data-th="æ¨¡æ¿"><span>[hash]</span></td> <td data-th="æè¿°"><span>æ¨¡å—çš„ Hash å€¼</span></td> </tr> <tr> <td data-th="æ¨¡æ¿"><span>[modulehash]</span></td> <td data-th="æè¿°"><span>åŒä¸Šï¼Œä½†å·²å¼ƒç”¨</span></td> </tr> <tr> <td data-th="æ¨¡æ¿"><span>[contenthash]</span></td> <td data-th="æè¿°"><span>æ¨¡å—å†…å®¹çš„ Hash å€¼</span></td> </tr> </tbody> </table> <p>å¯åœ¨æ–‡ä»¶å±‚é¢æ›¿æ¢çš„å†…å®¹ï¼š</p> <table> <thead> <tr> <th>æ¨¡æ¿</th> <th>æè¿°</th> </tr> </thead> <tbody> <tr> <td data-th="æ¨¡æ¿"><span>[file]</span></td> <td data-th="æè¿°"><span>filenameå’Œè·¯å¾„ï¼Œä¸å« query æˆ– fragment</span></td> </tr> <tr> <td data-th="æ¨¡æ¿"><span>[query]</span></td> <td data-th="æè¿°"><span>å¸¦å‰ç¼€ <code>?</code> çš„ query</span></td> </tr> <tr> <td data-th="æ¨¡æ¿"><span>[fragment]</span></td> <td data-th="æè¿°"><span>å¸¦å‰ç¼€ <code>#</code> çš„ fragment</span></td> </tr> <tr> <td data-th="æ¨¡æ¿"><span>[base]</span></td> <td data-th="æè¿°"><span>åªæœ‰ filenameï¼ˆåŒ…å«æ‰©å±•åï¼‰ï¼Œä¸å« path</span></td> </tr> <tr> <td data-th="æ¨¡æ¿"><span>[filebase]</span></td> <td data-th="æè¿°"><span>åŒä¸Šï¼Œä½†å·²å¼ƒç”¨</span></td> </tr> <tr> <td data-th="æ¨¡æ¿"><span>[path]</span></td> <td data-th="æè¿°"><span>åªæœ‰ pathï¼Œä¸å« filename</span></td> </tr> <tr> <td data-th="æ¨¡æ¿"><span>[name]</span></td> <td data-th="æè¿°"><span>åªæœ‰ filenameï¼Œä¸å«æ‰©å±•åæˆ– path</span></td> </tr> <tr> <td data-th="æ¨¡æ¿"><span>[ext]</span></td> <td data-th="æè¿°"><span>å¸¦å‰ç¼€ <code>.</code> çš„æ‰©å±•å</span></td> </tr> </tbody> </table> <p>å¯åœ¨ URL å±‚é¢æ›¿æ¢çš„å†…å®¹ï¼š</p> <table> <thead> <tr> <th>æ¨¡å—</th> <th>æè¿°</th> </tr> </thead> <tbody> <tr> <td data-th="æ¨¡å—"><span>[url]</span></td> <td data-th="æè¿°"><span>URL</span></td> </tr> </tbody> </table> <blockquote class="tip"> <p><code>[file]</code> ç­‰ä»·äº <code>[path][base]</code>ã€‚<code>[base]</code> ç­‰ä»·äº <code>[name][ext]</code>ã€‚å®Œæ•´çš„è·¯å¾„ä¸º <code>[path][name][ext][query][fragment]</code> æˆ– <code>[path][base][query][fragment]</code> æˆ– <code>[file][query][fragment]</code>ã€‚</p> </blockquote> <p><code>[hash]</code>ï¼Œ<code>[contenthash]</code> æˆ–è€… <code>[chunkhash]</code> çš„é•¿åº¦å¯ä»¥ä½¿ç”¨ <code>[hash:16]</code>ï¼ˆé»˜è®¤ä¸º 20ï¼‰æ¥æŒ‡å®šã€‚æˆ–è€…ï¼Œé€šè¿‡æŒ‡å®š<a href="#outputhashdigestlength"><code>output.hashDigestLength</code></a> åœ¨å…¨å±€é…ç½®é•¿åº¦ã€‚</p> <p>å½“ä½ è¦åœ¨å®é™…æ–‡ä»¶åä¸­ä½¿ç”¨å ä½ç¬¦æ—¶ï¼Œwebpack ä¼šè¿‡æ»¤å‡ºéœ€è¦æ›¿æ¢çš„å ä½ç¬¦ã€‚ä¾‹å¦‚ï¼Œè¾“å‡ºä¸€ä¸ªæ–‡ä»¶ <code>[name].js</code>ï¼Œ ä½ å¿…é¡»é€šè¿‡åœ¨æ‹¬å·ä¹‹é—´æ·»åŠ åæ–œæ æ¥è½¬ä¹‰<code>[name]</code>å ä½ç¬¦ã€‚ å› æ­¤ï¼Œ<code>[\name\]</code> ç”Ÿæˆ <code>[name]</code> è€Œä¸æ˜¯ <code>name</code>ã€‚</p> <p>ä¾‹å¦‚ï¼š<code>[\id\]</code> ç”Ÿæˆ <code>[id]</code> è€Œä¸æ˜¯ <code>id</code>ã€‚</p> <p>å¦‚æœå°†è¿™ä¸ªé€‰é¡¹è®¾ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°å°†è¿”å›ä¸€ä¸ªåŒ…å«ä¸Šé¢è¡¨æ ¼ä¸­å«æœ‰æ›¿æ¢ä¿¡æ¯æ•°æ®çš„å¯¹è±¡ã€‚ æ›¿æ¢ä¹Ÿä¼šè¢«åº”ç”¨åˆ°è¿”å›çš„å­—ç¬¦ä¸²ä¸­ã€‚ ä¼ é€’çš„å¯¹è±¡å°†å…·æœ‰å¦‚ä¸‹ç±»å‹ï¼ˆå–å†³äºä¸Šä¸‹æ–‡çš„å±æ€§ï¼‰ï¼š</p> <pre><code class="hljs language-typescript"><span class="token keyword">type</span> <span class="token class-name">PathData</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  hash<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  <span class="token function-variable function">hashWithLength</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  chunk<span class="token operator">:</span> Chunk <span class="token operator">|</span> ChunkPathData<span class="token punctuation">,</span>
  <span class="token keyword">module</span><span class="token operator">:</span> Module <span class="token operator">|</span> ModulePathData<span class="token punctuation">,</span>
  contentHashType<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  contentHash<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  <span class="token function-variable function">contentHashWithLength</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  filename<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  runtime<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> SortableSet<span class="token operator">&#x3C;</span><span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">,</span>
  chunkGraph<span class="token operator">:</span> ChunkGraph
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">ChunkPathData</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  hash<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  <span class="token function-variable function">hashWithLength</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  contentHash<span class="token operator">:</span> Record<span class="token operator">&#x3C;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">></span><span class="token punctuation">,</span>
  contentHashWithLength<span class="token operator">:</span> Record<span class="token operator">&#x3C;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span><span class="token operator">></span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">ModulePathData</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  hash<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  <span class="token function-variable function">hashWithLength</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span>
<span class="token punctuation">}</span></code></pre> <blockquote class="tip"> <p>åœ¨æŸäº›ä¸Šä¸‹æ–‡ä¸­ï¼Œå±æ€§å°†ä½¿ç”¨ JavaScript ä»£ç è¡¨è¾¾å¼ä»£æ›¿åŸå§‹å€¼ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œ<code>WithLength</code> å˜é‡æ˜¯å¯ç”¨çš„ï¼Œåº”è¯¥ä½¿ç”¨å®ƒæ¥ä»£æ›¿å¯¹åŸå§‹å€¼çš„åˆ†ç‰‡æ“ä½œã€‚</p> </blockquote> <h2 id="outputassetmodulefilename"><code>output.assetModuleFilename</code> <a href="#outputassetmodulefilename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = '[hash][ext][query]'</code></p> <p>å‚è€ƒ <a href="#outputfilename"><code>output.filename</code></a> ä¸è¿‡åº”ç”¨äº <a href="../../guides/asset-modules/index.htm" tppabs="https://webpack.docschina.org/guides/asset-modules/">Asset Modules</a></p> <h2 id="outputglobalobject"><code>output.globalObject</code> <a href="#outputglobalobject" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = 'window'</code></p> <p>å½“è¾“å‡ºä¸º library æ—¶ï¼Œå°¤å…¶æ˜¯å½“ <code>libraryTarget</code> ä¸º <code>'umd'</code>æ—¶ï¼Œæ­¤é€‰é¡¹å°†å†³å®šä½¿ç”¨å“ªä¸ªå…¨å±€å¯¹è±¡æ¥æŒ‚è½½ libraryã€‚ä¸ºäº†ä½¿ UMD æ„å»ºåœ¨æµè§ˆå™¨å’Œ Node.js ä¸Šå‡å¯ç”¨ï¼Œåº”å°† <code>output.globalObject</code> é€‰é¡¹è®¾ç½®ä¸º <code>'this'</code>ã€‚å¯¹äºç±»ä¼¼ web çš„ç›®æ ‡ï¼Œé»˜è®¤ä¸º <code>self</code>ã€‚</p> <p>ç¤ºä¾‹ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    library<span class="token operator">:</span> <span class="token string">'myLib'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token operator">:</span> <span class="token string">'umd'</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'myLib.js'</span><span class="token punctuation">,</span>
    globalObject<span class="token operator">:</span> <span class="token string">'this'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="outputuniquename"><code>output.uniqueName</code> <a href="#outputuniquename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code></p> <p>åœ¨å…¨å±€ç¯å¢ƒä¸‹ä¸ºé˜²æ­¢å¤šä¸ª webpack è¿è¡Œæ—¶ å†²çªæ‰€ä½¿ç”¨çš„å”¯ä¸€åç§°ã€‚é»˜è®¤ä½¿ç”¨ <a href="../output/index.htm#outputlibrary" tppabs="https://webpack.docschina.org/configuration/output/#outputlibrary"><code>output.library</code></a> åç§°æˆ–è€…ä¸Šä¸‹æ–‡ä¸­çš„ <code>package.json</code> çš„ åŒ…åç§°(package name)ï¼Œ å¦‚æœä¸¤è€…éƒ½ä¸å­˜åœ¨ï¼Œå€¼ä¸º <code>''</code>ã€‚</p> <p><code>output.uniqueName</code> å°†ç”¨äºç”Ÿæˆå”¯ä¸€å…¨å±€å˜é‡:</p> <ul> <li><a href="../output/index.htm#outputchunkloadingglobal" tppabs="https://webpack.docschina.org/configuration/output/#outputchunkloadingglobal"><code>output.chunkLoadingGlobal</code></a></li> </ul> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    uniqueName<span class="token operator">:</span> <span class="token string">'my-package-xyz'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="outputhashdigest"><code>output.hashDigest</code> <a href="#outputhashdigest" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = 'hex'</code></p> <p>åœ¨ç”Ÿæˆ hash æ—¶ä½¿ç”¨çš„ç¼–ç æ–¹å¼ã€‚æ”¯æŒ Node.js <a href="javascript:if(confirm('https://nodejs.org/api/crypto.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/api/crypto.html#crypto_hash_digest_encoding'" tppabs="https://nodejs.org/api/crypto.html#crypto_hash_digest_encoding"><code>hash.digest</code></a> çš„æ‰€æœ‰ç¼–ç ã€‚å¯¹æ–‡ä»¶åä½¿ç”¨ <code>'base64'</code>ï¼Œå¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œå› ä¸º base64 å­—æ¯è¡¨ä¸­å…·æœ‰ <code>/</code> è¿™ä¸ªå­—ç¬¦(character)ã€‚åŒæ ·çš„ï¼Œ<code>'latin1'</code> è§„å®šå¯ä»¥å«æœ‰ä»»ä½•å­—ç¬¦(character)ã€‚</p> <h2 id="outputhashdigestlength"><code>output.hashDigestLength</code> <a href="#outputhashdigestlength" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>number = 20</code></p> <p>æ•£åˆ—æ‘˜è¦çš„å‰ç¼€é•¿åº¦ã€‚</p> <h2 id="outputhashfunction"><code>output.hashFunction</code> <a href="#outputhashfunction" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = 'md4'</code> <code>function</code></p> <p>æ•£åˆ—ç®—æ³•ã€‚æ”¯æŒ Node.JS <a href="javascript:if(confirm('https://nodejs.org/api/crypto.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/api/crypto.html#crypto_crypto_createhash_algorithm_options'" tppabs="https://nodejs.org/api/crypto.html#crypto_crypto_createhash_algorithm_options"><code>crypto.createHash</code></a> çš„æ‰€æœ‰åŠŸèƒ½ã€‚ä» <code>4.0.0-alpha2</code> å¼€å§‹ï¼Œ<code>hashFunction</code> ç°åœ¨å¯ä»¥æ˜¯ä¸€ä¸ªè¿”å›è‡ªå®šä¹‰ hash çš„æ„é€ å‡½æ•°ã€‚å‡ºäºæ€§èƒ½åŸå› ï¼Œä½ å¯ä»¥æä¾›ä¸€ä¸ªä¸åŠ å¯†çš„å“ˆå¸Œå‡½æ•°(non-crypto hash function)ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    hashFunction<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'metrohash'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>MetroHash64
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ç¡®ä¿ hash å‡½æ•°æœ‰å¯è®¿é—®çš„ <code>update</code> å’Œ <code>digest</code> æ–¹æ³•ã€‚</p> <h2 id="outputhashsalt"><code>output.hashSalt</code> <a href="#outputhashsalt" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>ä¸€ä¸ªå¯é€‰çš„åŠ ç›å€¼ï¼Œé€šè¿‡ Node.JS <a href="javascript:if(confirm('https://nodejs.org/api/crypto.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/api/crypto.html#crypto_hash_update_data_inputencoding'" tppabs="https://nodejs.org/api/crypto.html#crypto_hash_update_data_inputencoding"><code>hash.update</code></a> æ¥æ›´æ–°å“ˆå¸Œã€‚</p> <h2 id="outputhotupdatechunkfilename"><code>output.hotUpdateChunkFilename</code> <a href="#outputhotupdatechunkfilename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = '[id].[fullhash].hot-update.js'</code></p> <p>è‡ªå®šä¹‰çƒ­æ›´æ–° chunk çš„æ–‡ä»¶åã€‚å¯é€‰çš„å€¼çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ <a href="#outputfilename"><code>output.filename</code></a> é€‰é¡¹ã€‚</p> <p>å…¶ä¸­å€¼å”¯ä¸€çš„å ä½ç¬¦æ˜¯ <code>[id]</code> å’Œ <code>[fullhash]</code>ï¼Œå…¶é»˜è®¤ä¸ºï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    hotUpdateChunkFilename<span class="token operator">:</span> <span class="token string">'[id].[fullhash].hot-update.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p>é€šå¸¸ï¼Œä½ ä¸éœ€è¦ä¿®æ”¹ <code>output.hotUpdateChunkFilename</code>.</p> </blockquote> <h2 id="outputhotupdateglobal"><code>output.hotUpdateGlobal</code> <a href="#outputhotupdateglobal" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code></p> <p>åªåœ¨ <a href="../target/index.htm" tppabs="https://webpack.docschina.org/configuration/target/"><code>target</code></a> è®¾ç½®ä¸º <code>'web'</code> æ—¶ä½¿ç”¨ï¼Œç”¨äºåŠ è½½çƒ­æ›´æ–°(hot update)çš„ JSONP å‡½æ•°ã€‚</p> <p>JSONP å‡½æ•°ç”¨äºå¼‚æ­¥åŠ è½½(async load)çƒ­æ›´æ–°(hot-update) chunkã€‚</p> <p>æ¬²äº†è§£è¯¦æƒ…ï¼Œè¯·æŸ¥é˜… <a href="#outputchunkloadingglobal"><code>output.chunkLoadingGlobal</code></a>ã€‚</p> <h2 id="outputhotupdatemainfilename"><code>output.hotUpdateMainFilename</code> <a href="#outputhotupdatemainfilename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = '[runtime].[fullhash].hot-update.json'</code> <code>function</code></p> <p>è‡ªå®šä¹‰çƒ­æ›´æ–°çš„ä¸»æ–‡ä»¶å(main filename)ã€‚<code>[fullhash]</code> å’Œ <code>[runtime]</code> å‡å¯ä½œä¸ºå ä½ç¬¦ã€‚</p> <blockquote class="tip"> <p>é€šå¸¸ï¼Œä½ ä¸éœ€è¦ä¿®æ”¹ <code>output.hotUpdateMainFilename</code>.</p> </blockquote> <h2 id="outputlibrary"><code>output.library</code> <a href="#outputlibrary" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code> <code>object</code></p> <blockquote class="tip"> <p><code>object</code> ä» webpack 3.1.0 å¼€å§‹åº”ç”¨ã€‚ç”¨äº <code>libraryTarget: 'umd'</code>ã€‚</p> </blockquote> <p><code>output.library</code> çš„å€¼çš„ä½œç”¨ï¼Œå–å†³äº<a href="#outputlibrarytarget"><code>output.libraryTarget</code></a> é€‰é¡¹çš„å€¼ï¼›å®Œæ•´çš„è¯¦ç»†ä¿¡æ¯è¯·æŸ¥é˜…è¯¥ç« èŠ‚ã€‚æ³¨æ„ï¼Œ<code>output.libraryTarget</code> çš„é»˜è®¤é€‰é¡¹æ˜¯ <code>var</code>ï¼Œæ‰€ä»¥å¦‚æœä½¿ç”¨ä»¥ä¸‹é…ç½®é€‰é¡¹ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    library<span class="token operator">:</span> <span class="token string">'MyLibrary'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å¦‚æœç”Ÿæˆçš„è¾“å‡ºæ–‡ä»¶ï¼Œæ˜¯åœ¨ HTML é¡µé¢ä¸­ä½œä¸ºä¸€ä¸ª script æ ‡ç­¾å¼•å…¥ï¼Œåˆ™å˜é‡ <code>MyLibrary</code> å°†ä¸å…¥å£æ–‡ä»¶çš„è¿”å›å€¼ç»‘å®šã€‚</p> <blockquote class="warning"> <p>æ³¨æ„ï¼Œå¦‚æœå°†<code>æ•°ç»„</code>ä½œä¸º <code>entry</code>ï¼Œé‚£ä¹ˆåªä¼šæš´éœ²æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªæ¨¡å—ã€‚å¦‚æœå°†<code>å¯¹è±¡</code>ä½œä¸º <code>entry</code>ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ <code>array</code> è¯­æ³•æš´éœ²ï¼ˆå…·ä½“æŸ¥çœ‹<a href="javascript:if(confirm('https://github.com/webpack/webpack/tree/master/examples/multi-part-library  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/tree/master/examples/multi-part-library'" tppabs="https://github.com/webpack/webpack/tree/master/examples/multi-part-library">è¿™ä¸ªç¤ºä¾‹</a> for details)ï¼‰ã€‚</p> </blockquote> <blockquote class="tip"> <p>æœ‰å…³ <code>output.library</code> ä»¥åŠ <code>output.libraryTarget</code> è¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹<a href="../../guides/author-libraries/index.htm" tppabs="https://webpack.docschina.org/guides/author-libraries/">åˆ›å»º library æŒ‡å—</a>ã€‚</p> </blockquote> <h2 id="ouputscripttype">output.scriptType <a href="#ouputscripttype" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string: 'module' | 'text/javascript'</code> <code>boolean = false</code></p> <p>æ­¤é€‰é¡¹å…è®¸åŠ è½½ä½¿ç”¨è‡ªå®šä¹‰ srcipt ç±»å‹çš„å¼‚æ­¥ chunkï¼Œä¾‹å¦‚ <code>&#x3C;script type="module" ...></code>ã€‚</p> <blockquote class="tip"> <p>å¦‚æœ <a href="#outputmodule"><code>output.module</code></a> è®¾ç½®ä¸º <code>true</code>ï¼Œåˆ™ <code>output.scriptType</code> ä¼šé»˜è®¤å°† <code>'module'</code> æ›¿æ¢ä¸º <code>false</code>ã€‚</p> </blockquote> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    scriptType<span class="token operator">:</span> <span class="token string">'module'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="outputlibraryexport"><code>output.libraryExport</code> <a href="#outputlibraryexport" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code> <code>[string]</code></p> <p>é€šè¿‡é…ç½® <code>libraryTarget</code> å†³å®šæš´éœ²å“ªäº›æ¨¡å—ã€‚é»˜è®¤æƒ…å†µä¸‹ä¸º <code>undefined</code>ï¼Œå¦‚æœä½ å°† <code>libraryTarget</code> è®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œåˆ™ä¸é»˜è®¤æƒ…å†µå…·æœ‰ç›¸åŒçš„è¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œå¦‚æœè®¾ç½®ä¸º <code>''</code>ï¼Œå°†å¯¼å‡ºæ•´ä¸ªï¼ˆå‘½åç©ºé—´ï¼‰å¯¹è±¡ã€‚ä¸‹è¿° demo æ¼”ç¤ºäº†å½“è®¾ç½® <code>libraryTarget: 'var'</code> æ—¶çš„æ•ˆæœã€‚</p> <p>æ”¯æŒä»¥ä¸‹é…ç½®ï¼š</p> <p><code>libraryExport: 'default'</code> - __å…¥å£çš„é»˜è®¤å¯¼å‡º__å°†åˆ†é…ç»™ library targetï¼š</p> <pre><code class="hljs language-javascript"><span class="token comment">// if your entry has a default export of `MyDefaultModule`</span>
<span class="token keyword">var</span> MyDefaultModule <span class="token operator">=</span> _entry_return_<span class="token punctuation">.</span>default<span class="token punctuation">;</span></code></pre> <p><code>libraryExport: 'MyModule'</code> - è¿™ä¸ª <strong>ç¡®å®šçš„æ¨¡å—</strong> å°†è¢«åˆ†é…ç»™ library targetï¼š</p> <pre><code class="hljs language-javascript"><span class="token keyword">var</span> MyModule <span class="token operator">=</span> _entry_return_<span class="token punctuation">.</span>MyModule<span class="token punctuation">;</span></code></pre> <p><code>libraryExport: ['MyModule', 'MySubModule']</code> - æ•°ç»„å°†è¢«è§£æä¸ºè¦åˆ†é…ç»™ library target çš„ <strong>æ¨¡å—è·¯å¾„</strong>ï¼š</p> <pre><code class="hljs language-javascript"><span class="token keyword">var</span> MySubModule <span class="token operator">=</span> _entry_return_<span class="token punctuation">.</span>MyModule<span class="token punctuation">.</span>MySubModule<span class="token punctuation">;</span></code></pre> <p>ä½¿ç”¨ä¸Šè¿°æŒ‡å®šçš„ <code>libraryExport</code> é…ç½®æ—¶ï¼Œlibrary çš„ç»“æœå¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š</p> <pre><code class="hljs language-javascript">MyDefaultModule<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
MyModule<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
MySubModule<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="outputlibrarytarget"><code>output.libraryTarget</code> <a href="#outputlibrarytarget" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = 'var'</code></p> <p>é…ç½®å¦‚ä½•æš´éœ² libraryã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„é€‰é¡¹ä¸­çš„ä»»æ„ä¸€ä¸ªã€‚æ³¨æ„ï¼Œæ­¤é€‰é¡¹ä¸åˆ†é…ç»™ <a href="#outputlibrary"><code>output.library</code></a> çš„å€¼ä¸€åŒä½¿ç”¨ã€‚å¯¹äºä¸‹é¢çš„æ‰€æœ‰ç¤ºä¾‹ï¼Œéƒ½å‡å®šå°† <code>output.library</code> çš„å€¼é…ç½®ä¸º <code>MyLibrary</code>ã€‚</p> <blockquote class="tip"> <p>æ³¨æ„ï¼Œä¸‹é¢çš„ç¤ºä¾‹ä»£ç ä¸­çš„ <code>_entry_return_</code> æ˜¯å…¥å£èµ·ç‚¹è¿”å›çš„å€¼ã€‚åœ¨ bundle æœ¬èº«ä¸­ï¼Œå®ƒæ˜¯ä»å…¥å£èµ·ç‚¹ã€ç”± webpack ç”Ÿæˆçš„å‡½æ•°çš„è¾“å‡ºç»“æœã€‚</p> </blockquote> <h3 id="expose-a-variable">æš´éœ²ä¸ºä¸€ä¸ªå˜é‡ <a href="#expose-a-variable" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>è¿™äº›é€‰é¡¹å°†å…¥å£èµ·ç‚¹çš„è¿”å›å€¼ï¼ˆä¾‹å¦‚ï¼Œå…¥å£èµ·ç‚¹çš„ä»»ä½•å¯¼å‡ºå€¼ï¼‰ï¼Œåœ¨ bundle åŒ…æ‰€å¼•å…¥çš„ä½ç½®ï¼Œèµ‹å€¼ç»™ output.library æä¾›çš„å˜é‡åã€‚</p> <p><code>libraryTarget: 'var'</code> - ï¼ˆé»˜è®¤å€¼ï¼‰å½“ library åŠ è½½å®Œæˆï¼Œ__å…¥å£èµ·ç‚¹çš„è¿”å›å€¼__å°†åˆ†é…ç»™ä¸€ä¸ªå˜é‡ï¼š</p> <pre><code class="hljs language-javascript"><span class="token keyword">var</span> MyLibrary <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span>

<span class="token comment">// åœ¨ä¸€ä¸ªå•ç‹¬çš„ script...</span>
MyLibrary<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p>å½“ä½¿ç”¨æ­¤é€‰é¡¹æ—¶ï¼Œå°† <code>output.library</code> è®¾ç½®ä¸ºç©ºï¼Œä¼šå› ä¸ºæ²¡æœ‰å˜é‡å¯¼è‡´æ— æ³•èµ‹å€¼ã€‚</p> </blockquote> <p><code>libraryTarget: 'assign'</code> - è¿™å°†äº§ç”Ÿä¸€ä¸ªéšå«çš„å…¨å±€å˜é‡ï¼Œå¯èƒ½ä¼šæ½œåœ¨åœ°é‡æ–°åˆ†é…åˆ°å…¨å±€ä¸­å·²å­˜åœ¨çš„å€¼ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰ã€‚.</p> <pre><code class="hljs language-javascript">MyLibrary <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span></code></pre> <p>æ³¨æ„ï¼Œå¦‚æœ <code>MyLibrary</code> åœ¨ä½œç”¨åŸŸä¸­æœªåœ¨å‰é¢ä»£ç è¿›è¡Œå®šä¹‰ï¼Œåˆ™ä½ çš„ library å°†è¢«è®¾ç½®åœ¨å…¨å±€ä½œç”¨åŸŸå†…ã€‚</p> <blockquote class="warning"> <p>å½“ä½¿ç”¨æ­¤é€‰é¡¹æ—¶ï¼Œå°† <code>output.library</code> è®¾ç½®ä¸ºç©ºï¼Œå°†äº§ç”Ÿä¸€ä¸ªç ´æŸçš„è¾“å‡º bundleã€‚</p> </blockquote> <h3 id="expose-via-object-assignment">é€šè¿‡åœ¨å¯¹è±¡ä¸Šèµ‹å€¼æš´éœ² <a href="#expose-via-object-assignment" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>è¿™äº›é€‰é¡¹å°†å…¥å£èµ·ç‚¹çš„è¿”å›å€¼ï¼ˆä¾‹å¦‚ï¼Œå…¥å£èµ·ç‚¹çš„ä»»ä½•å¯¼å‡ºå€¼ï¼‰èµ‹å€¼ç»™ä¸€ä¸ªç‰¹å®šå¯¹è±¡çš„å±æ€§ï¼ˆæ­¤åç§°ç”± <code>output.library</code> å®šä¹‰ï¼‰ä¸‹ã€‚</p> <p>å¦‚æœ <code>output.library</code> æœªèµ‹å€¼ä¸ºä¸€ä¸ªéç©ºå­—ç¬¦ä¸²ï¼Œåˆ™é»˜è®¤è¡Œä¸ºæ˜¯ï¼Œå°†å…¥å£èµ·ç‚¹è¿”å›çš„æ‰€æœ‰å±æ€§éƒ½èµ‹å€¼ç»™ä¸€ä¸ªå¯¹è±¡ï¼ˆæ­¤å¯¹è±¡ç”± <code>output.libraryTarget</code> ç‰¹å®šï¼‰ï¼Œé€šè¿‡å¦‚ä¸‹ä»£ç ç‰‡æ®µï¼š</p> <pre><code class="hljs language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span> e<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">(</span>output<span class="token punctuation">.</span>libraryTarget<span class="token punctuation">,</span> _entry_return_<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p>æ³¨æ„ï¼Œä¸è®¾ç½® <code>output.library</code> å°†å¯¼è‡´ç”±å…¥å£èµ·ç‚¹è¿”å›çš„æ‰€æœ‰å±æ€§ï¼Œéƒ½ä¼šè¢«èµ‹å€¼ç»™ç»™å®šçš„å¯¹è±¡ï¼›è¿™é‡Œå¹¶ä¸ä¼šæ£€æŸ¥ç°æœ‰çš„å±æ€§åæ˜¯å¦å­˜åœ¨ã€‚</p> </blockquote> <p><code>libraryTarget: "this"</code> - __å…¥å£èµ·ç‚¹çš„è¿”å›å€¼__å°†åˆ†é…ç»™ this çš„ä¸€ä¸ªå±æ€§ï¼ˆæ­¤åç§°ç”± <code>output.library</code> å®šä¹‰ï¼‰ä¸‹ï¼Œ<code>this</code> çš„å«ä¹‰å–å†³äºä½ ï¼š</p> <pre><code class="hljs language-javascript"><span class="token keyword">this</span><span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span> <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span>

<span class="token comment">// åœ¨ä¸€ä¸ªå•ç‹¬çš„ script...</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>MyLibrary<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
MyLibrary<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚æœ this æ˜¯ window</span></code></pre> <p><code>libraryTarget: 'window'</code> - __å…¥å£èµ·ç‚¹çš„è¿”å›å€¼__å°†ä½¿ç”¨ <code>output.library</code> ä¸­å®šä¹‰çš„å€¼ï¼Œåˆ†é…ç»™ <code>window</code> å¯¹è±¡çš„è¿™ä¸ªå±æ€§ä¸‹ã€‚</p> <pre><code class="hljs language-javascript">window<span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span> <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span>

window<span class="token punctuation">.</span>MyLibrary<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><code>libraryTarget: 'global'</code> - __å…¥å£èµ·ç‚¹çš„è¿”å›å€¼__å°†ä½¿ç”¨ <code>output.library</code> ä¸­å®šä¹‰çš„å€¼ï¼Œåˆ†é…ç»™ <code>global</code> å¯¹è±¡çš„è¿™ä¸ªå±æ€§ä¸‹ã€‚</p> <pre><code class="hljs language-javascript">global<span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span> <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span>

global<span class="token punctuation">.</span>MyLibrary<span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><code>libraryTarget: 'commonjs'</code> - __å…¥å£èµ·ç‚¹çš„è¿”å›å€¼__å°†ä½¿ç”¨ <code>output.library</code> ä¸­å®šä¹‰çš„å€¼ï¼Œåˆ†é…ç»™ exports å¯¹è±¡ã€‚è¿™ä¸ªåç§°ä¹Ÿæ„å‘³ç€ï¼Œæ¨¡å—ç”¨äº CommonJS ç¯å¢ƒï¼š</p> <pre><code class="hljs language-javascript">exports<span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span> <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span>

<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'MyLibrary'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="module-definition-systems">æ¨¡å—å®šä¹‰ç³»ç»Ÿ <a href="#module-definition-systems" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>è¿™äº›é€‰é¡¹å°†ä½¿å¾— bundle å¸¦æœ‰æ›´å®Œæ•´çš„æ¨¡å—å¤´ï¼Œä»¥ç¡®ä¿ä¸å„ç§æ¨¡å—ç³»ç»Ÿçš„å…¼å®¹æ€§ã€‚æ ¹æ® <code>output.libraryTarget</code> é€‰é¡¹ä¸åŒï¼Œ<code>output.library</code> é€‰é¡¹å°†å…·æœ‰ä¸åŒçš„å«ä¹‰ã€‚</p> <p><code>libraryTarget: 'commonjs2'</code> - __å…¥å£èµ·ç‚¹çš„è¿”å›å€¼__å°†åˆ†é…ç»™ <code>module.exports</code> å¯¹è±¡ã€‚è¿™ä¸ªåç§°ä¹Ÿæ„å‘³ç€æ¨¡å—ç”¨äº CommonJS ç¯å¢ƒï¼š</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> _entry_return_<span class="token punctuation">;</span>

<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'MyLibrary'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>æ³¨æ„ï¼Œ<code>output.library</code> ä¸èƒ½ä¸ <code>output.libraryTarget</code> ä¸€èµ·ä½¿ç”¨ï¼Œå…·ä½“åŸå› è¯·å‚ç…§<a href="javascript:if(confirm('https://github.com/webpack/webpack/issues/11800  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/issues/11800'" tppabs="https://github.com/webpack/webpack/issues/11800">æ­¤ issue</a>ã€‚</p> <blockquote class="tip"> <p>æƒ³è¦å¼„æ¸…æ¥š CommonJS å’Œ CommonJS2 ä¹‹é—´çš„åŒºåˆ«ï¼Ÿè™½ç„¶å®ƒä»¬å¾ˆç›¸ä¼¼ï¼Œä½†äºŒè€…ä¹‹é—´å­˜åœ¨ä¸€äº›å¾®å¦™çš„å·®å¼‚ï¼Œè¿™é€šå¸¸ä¸ webpack ä¸Šä¸‹æ–‡æ²¡æœ‰å…³è”ã€‚ï¼ˆæ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·<a href="javascript:if(confirm('https://github.com/webpack/webpack/issues/1114  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/issues/1114'" tppabs="https://github.com/webpack/webpack/issues/1114">é˜…è¯»æ­¤ issue</a>ã€‚ï¼‰</p> </blockquote> <p><code>libraryTarget: 'amd'</code> - å°†ä½ çš„ library æš´éœ²ä¸º AMD æ¨¡å—ã€‚</p> <p>AMD æ¨¡å—è¦æ±‚å…¥å£ chunkï¼ˆä¾‹å¦‚ä½¿ç”¨ <code>&#x3C;script></code> æ ‡ç­¾åŠ è½½çš„ç¬¬ä¸€ä¸ªè„šæœ¬ï¼‰é€šè¿‡ç‰¹å®šçš„å±æ€§å®šä¹‰ï¼Œä¾‹å¦‚ <code>define</code> å’Œ <code>require</code>ï¼Œå®ƒä»¬é€šå¸¸ç”± RequireJS æˆ–ä»»ä½•å…¼å®¹çš„æ¨¡å—åŠ è½½å™¨æä¾›ï¼ˆä¾‹å¦‚ almondï¼‰ã€‚å¦åˆ™ï¼Œç›´æ¥åŠ è½½ç”Ÿæˆçš„ AMD bundle å°†å¯¼è‡´æŠ¥é”™ï¼Œå¦‚ <code>define is not defined</code>ã€‚</p> <p>æ‰€ä»¥ï¼Œä½¿ç”¨ä»¥ä¸‹é…ç½®...</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    library<span class="token operator">:</span> <span class="token string">'MyLibrary'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token operator">:</span> <span class="token string">'amd'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ç”Ÿæˆçš„ output å°†ä¼šä½¿ç”¨ "MyLibrary" ä½œä¸ºæ¨¡å—åå®šä¹‰ï¼Œå³</p> <pre><code class="hljs language-javascript"><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'MyLibrary'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> _entry_return_<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>å¯ä»¥åœ¨ script æ ‡ç­¾ä¸­ï¼Œå°† bundle ä½œä¸ºä¸€ä¸ªæ¨¡å—æ•´ä½“å¼•å…¥ï¼Œå¹¶ä¸”å¯ä»¥åƒè¿™æ ·è°ƒç”¨ bundleï¼š</p> <pre><code class="hljs language-javascript"><span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">MyLibrary</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ä½¿ç”¨ library åšä¸€äº›äº‹â€¦â€¦</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>å¦‚æœ <code>output.library</code> æœªå®šä¹‰ï¼Œå°†ä¼šç”Ÿæˆä»¥ä¸‹å†…å®¹ã€‚</p> <pre><code class="hljs language-javascript"><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> _entry_return_<span class="token punctuation">;</span> <span class="token comment">// æ­¤æ¨¡å—è¿”å›å€¼ï¼Œæ˜¯å…¥å£ chunk è¿”å›çš„å€¼</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>å¦‚æœç›´æ¥åŠ è½½ <code>&#x3C;script></code> æ ‡ç­¾ï¼Œæ­¤ bundle æ— æ³•æŒ‰é¢„æœŸè¿è¡Œï¼Œæˆ–è€…æ ¹æœ¬æ— æ³•æ­£å¸¸è¿è¡Œï¼ˆåœ¨ almond loader ä¸­ï¼‰ã€‚åªèƒ½é€šè¿‡æ–‡ä»¶çš„å®é™…è·¯å¾„ï¼Œåœ¨ RequireJS å…¼å®¹çš„å¼‚æ­¥æ¨¡å—åŠ è½½å™¨ä¸­è¿è¡Œï¼Œå› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœè¿™äº›è®¾ç½®ç›´æ¥æš´éœ²åœ¨æœåŠ¡å™¨ä¸Šï¼Œé‚£ä¹ˆ <code>output.path</code> å’Œ <code>output.filename</code> å¯¹äºè¿™ä¸ªç‰¹å®šçš„è®¾ç½®å¯èƒ½å˜å¾—å¾ˆé‡è¦ã€‚</p> <p><code>libraryTarget: 'amd-require'</code> - è¿™å°†ä½¿ç”¨ç«‹å³æ‰§è¡Œçš„AMD <code>require(dependencies, factory)</code> åŒ…è£…å™¨åŒ…è£…æ‚¨çš„è¾“å‡ºã€‚</p> <p><code>'amd-require'</code> ç›®æ ‡ï¼ˆtargetï¼‰å…è®¸ä½¿ç”¨AMDä¾èµ–é¡¹ï¼Œè€Œæ— éœ€å•ç‹¬çš„åç»­è°ƒç”¨ã€‚ä¸ <code>'amd'</code> ç›®æ ‡ï¼ˆtargetï¼‰ä¸€æ ·, è¿™å–å†³äºåœ¨åŠ è½½ webpack è¾“å‡ºçš„ç¯å¢ƒä¸­é€‚å½“å¯ç”¨çš„ <a href="javascript:if(confirm('https://github.com/amdjs/amdjs-api/blob/master/require.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/amdjs/amdjs-api/blob/master/require.md'" tppabs="https://github.com/amdjs/amdjs-api/blob/master/require.md"><code>require</code> function</a> ã€‚</p> <p>å¯¹äºæ­¤ç›®æ ‡ï¼Œåº“åç§°å°†è¢«å¿½ç•¥ã€‚</p> <p><code>libraryTarget: 'umd'</code> - å°†ä½ çš„ library æš´éœ²ä¸ºæ‰€æœ‰çš„æ¨¡å—å®šä¹‰ä¸‹éƒ½å¯è¿è¡Œçš„æ–¹å¼ã€‚å®ƒå°†åœ¨ CommonJS, AMD ç¯å¢ƒä¸‹è¿è¡Œï¼Œæˆ–å°†æ¨¡å—å¯¼å‡ºåˆ° global ä¸‹çš„å˜é‡ã€‚äº†è§£æ›´å¤šè¯·æŸ¥çœ‹ <a href="javascript:if(confirm('https://github.com/umdjs/umd  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/umdjs/umd'" tppabs="https://github.com/umdjs/umd">UMD ä»“åº“</a>ã€‚</p> <p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä½ éœ€è¦ <code>library</code> å±æ€§æ¥å‘½åä½ çš„æ¨¡å—ï¼š</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    library<span class="token operator">:</span> <span class="token string">'MyLibrary'</span><span class="token punctuation">,</span>
    libraryTarget<span class="token operator">:</span> <span class="token string">'umd'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æœ€ç»ˆè¾“å‡ºå¦‚ä¸‹ï¼š</p> <pre><code class="hljs language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">webpackUniversalModuleDefinition</span><span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> factory</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&#x26;&#x26;</span> <span class="token keyword">typeof</span> module <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> define <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">&#x26;&#x26;</span> define<span class="token punctuation">.</span>amd<span class="token punctuation">)</span>
    <span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
    exports<span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span>
    root<span class="token punctuation">[</span><span class="token string">'MyLibrary'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> self <span class="token operator">!==</span> <span class="token string">'undefined'</span> <span class="token operator">?</span> self <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> _entry_return_<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>æ³¨æ„ï¼Œçœç•¥ <code>library</code> ä¼šå¯¼è‡´å°†å…¥å£èµ·ç‚¹è¿”å›çš„æ‰€æœ‰å±æ€§ï¼Œç›´æ¥èµ‹å€¼ç»™ root å¯¹è±¡ï¼Œå°±åƒ<a href="#expose-via-object-assignment">å¯¹è±¡åˆ†é…ç« èŠ‚</a>ã€‚ä¾‹å¦‚ï¼š</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    libraryTarget<span class="token operator">:</span> <span class="token string">'umd'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p> <pre><code class="hljs language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">webpackUniversalModuleDefinition</span><span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> factory</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&#x26;&#x26;</span> <span class="token keyword">typeof</span> module <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span>
    module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> define <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">&#x26;&#x26;</span> define<span class="token punctuation">.</span>amd<span class="token punctuation">)</span>
    <span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> factory<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">factory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> a<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> exports <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">?</span> exports <span class="token operator">:</span> root<span class="token punctuation">)</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> self <span class="token operator">!==</span> <span class="token string">'undefined'</span> <span class="token operator">?</span> self <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> _entry_return_<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>ä» webpack 3.1.0 å¼€å§‹ï¼Œä½ å¯ä»¥å°† <code>library</code> æŒ‡å®šä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œç”¨äºç»™æ¯ä¸ª target èµ·ä¸åŒçš„åç§°ï¼š</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    library<span class="token operator">:</span> <span class="token punctuation">{</span>
      root<span class="token operator">:</span> <span class="token string">'MyLibrary'</span><span class="token punctuation">,</span>
      amd<span class="token operator">:</span> <span class="token string">'my-library'</span><span class="token punctuation">,</span>
      commonjs<span class="token operator">:</span> <span class="token string">'my-common-library'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    libraryTarget<span class="token operator">:</span> <span class="token string">'umd'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><code>libraryTarget: 'system'</code> â€”â€” è¿™å°†æš´éœ²ä½ çš„ library ä½œä¸ºä¸€ä¸ªç”± <a href="javascript:if(confirm('https://github.com/systemjs/systemjs/blob/master/docs/system-register.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/systemjs/systemjs/blob/master/docs/system-register.md'" tppabs="https://github.com/systemjs/systemjs/blob/master/docs/system-register.md"><code>System.register</code></a> çš„æ¨¡å—ã€‚æ­¤ç‰¹æ€§é¦–æ¬¡å‘å¸ƒäº <a href="javascript:if(confirm('https://github.com/webpack/webpack/releases/tag/v4.30.0  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/releases/tag/v4.30.0'" tppabs="https://github.com/webpack/webpack/releases/tag/v4.30.0">webpack 4.30.0</a>ã€‚</p> <p>å½“ webpack bundle è¢«æ‰§è¡Œæ—¶ï¼Œç³»ç»Ÿæ¨¡å—ä¾èµ–å…¨å±€çš„å˜é‡ <code>System</code>ã€‚ç¼–è¯‘ä¸º <code>System.register</code> å½¢å¼åï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>System.import('/bundle.js')</code> è€Œæ— éœ€é¢å¤–é…ç½®ï¼Œå¹¶ä¼šå°†ä½ çš„ webpack bundle åŒ…åŠ è½½åˆ°ç³»ç»Ÿæ¨¡å—æ³¨å†Œè¡¨ä¸­ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    libraryTarget<span class="token operator">:</span> <span class="token string">'system'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Output:</p> <pre><code class="hljs language-javascript">System<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">_export</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    setters<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function-variable function">execute</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>é™¤äº†å°† <code>output.libraryTarget</code> è®¾ç½®ä¸º <code>system</code> ä¹‹å¤–ï¼Œè¿˜å¯å°† <code>output.library</code> æ·»åŠ åˆ°é…ç½®ä¸­ï¼Œè¾“å‡º bundle çš„ library åå°†ä½œä¸º <code>System.register</code> çš„å‚æ•°ï¼š</p> <pre><code class="hljs language-javascript">System<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'my-library'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">_export</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    setters<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function-variable function">execute</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>ä½ å¯ä»¥é€šè¿‡ <a href="javascript:if(confirm('https://github.com/systemjs/systemjs/blob/master/docs/system-register.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/systemjs/systemjs/blob/master/docs/system-register.md#format-definition'" tppabs="https://github.com/systemjs/systemjs/blob/master/docs/system-register.md#format-definition">SystemJS context</a> å‡­å€Ÿ <code>__system_context__</code>:</p> <pre><code class="hljs language-javascript"><span class="token comment">// è®°å½•å½“å‰ç³»ç»Ÿæ¨¡å—çš„ URL</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>__system_context__<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¯¼å…¥ä¸€ä¸ªç³»ç»Ÿæ¨¡å—ï¼Œé€šè¿‡å°†å½“å‰çš„ç³»ç»Ÿæ¨¡å—çš„ url ä½œä¸º parentUrl</span>
__system_context__<span class="token punctuation">.</span><span class="token function">import</span><span class="token punctuation">(</span><span class="token string">'./other-file.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">m</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="other-targets">å…¶ä»– Targets <a href="#other-targets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>libraryTarget: 'jsonp'</code> - è¿™å°†æŠŠå…¥å£èµ·ç‚¹çš„è¿”å›å€¼ï¼ŒåŒ…è£¹åˆ°ä¸€ä¸ª jsonp åŒ…è£…å®¹å™¨ä¸­</p> <pre><code class="hljs language-javascript"><span class="token function">MyLibrary</span><span class="token punctuation">(</span>_entry_return_<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>ä½ çš„ library çš„ä¾èµ–å°†ç”± <a href="../externals/index.htm" tppabs="https://webpack.docschina.org/configuration/externals/"><code>externals</code></a> é…ç½®å®šä¹‰ã€‚</p> <h2 id="outputimportfunctionname"><code>output.importFunctionName</code> <a href="#outputimportfunctionname" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = 'import'</code></p> <p>å†…éƒ¨ <code>import()</code> å‡½æ•°çš„åç§°. å¯ç”¨äº polyfilling, ä¾‹å¦‚ é€šè¿‡ <a href="javascript:if(confirm('https://github.com/GoogleChromeLabs/dynamic-import-polyfill  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/GoogleChromeLabs/dynamic-import-polyfill'" tppabs="https://github.com/GoogleChromeLabs/dynamic-import-polyfill"><code>dynamic-import-polyfill</code></a>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    importFunctionName<span class="token operator">:</span> <span class="token string">'__import__'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="outputpath"><code>output.path</code> <a href="#outputpath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = path.join(process.cwd(), 'dist')</code></p> <p>output ç›®å½•å¯¹åº”ä¸€ä¸ª__ç»å¯¹è·¯å¾„__ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist/assets'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æ³¨æ„ï¼Œ<code>[fullhash]</code> åœ¨å‚æ•°ä¸­è¢«æ›¿æ¢ä¸ºç¼–è¯‘è¿‡ç¨‹(compilation)çš„ hashã€‚è¯¦ç»†ä¿¡æ¯è¯·æŸ¥çœ‹<a href="../../guides/caching/index.htm" tppabs="https://webpack.docschina.org/guides/caching/">æŒ‡å— - ç¼“å­˜</a>ã€‚</p> <h2 id="outputpathinfo"><code>output.pathinfo</code> <a href="#outputpathinfo" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean=true</code> <code>string: 'verbose'</code></p> <p>å‘ŠçŸ¥ webpack åœ¨ bundle ä¸­å¼•å…¥ã€Œæ‰€åŒ…å«æ¨¡å—ä¿¡æ¯ã€çš„ç›¸å…³æ³¨é‡Šã€‚æ­¤é€‰é¡¹åœ¨ <code>development</code> <a href="../mode/index.htm" tppabs="https://webpack.docschina.org/configuration/mode/">æ¨¡å¼</a>æ—¶çš„é»˜è®¤å€¼ä¸º <code>true</code>ï¼Œè€Œåœ¨ <code>production</code> <a href="../mode/index.htm" tppabs="https://webpack.docschina.org/configuration/mode/">æ¨¡å¼</a>æ—¶çš„é»˜è®¤å€¼ä¸º <code>false</code>ã€‚å½“å€¼ä¸º <code>'verbose'</code> æ—¶ï¼Œä¼šæ˜¾ç¤ºæ›´å¤šä¿¡æ¯ï¼Œå¦‚ exportï¼Œè¿è¡Œæ—¶ä¾èµ–ä»¥åŠ bailoutsã€‚</p> <blockquote class="warning"> <p>å¯¹äºåœ¨å¼€å‘ç¯å¢ƒ(development)ä¸‹é˜…è¯»ç”Ÿæˆä»£ç æ—¶ï¼Œè™½ç„¶é€šè¿‡è¿™äº›æ³¨é‡Šå¯ä»¥æä¾›æœ‰ç”¨çš„æ•°æ®ä¿¡æ¯ï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒ(production)ä¸‹ï¼Œ__ä¸åº”è¯¥__ä½¿ç”¨ã€‚</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    pathinfo<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p>è¿™äº›æ³¨é‡Šä¹Ÿä¼šè¢«æ·»åŠ è‡³ç»è¿‡ tree shaking åç”Ÿæˆçš„ bundle ä¸­ã€‚</p> </blockquote> <h2 id="outputpublicpath"><code>output.publicPath</code> <a href="#outputpublicpath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code> <code>function</code></p> <p>å¯¹äºæŒ‰éœ€åŠ è½½(on-demand-load)æˆ–åŠ è½½å¤–éƒ¨èµ„æº(external resources)ï¼ˆå¦‚å›¾ç‰‡ã€æ–‡ä»¶ç­‰ï¼‰æ¥è¯´ï¼Œoutput.publicPath æ˜¯å¾ˆé‡è¦çš„é€‰é¡¹ã€‚å¦‚æœæŒ‡å®šäº†ä¸€ä¸ªé”™è¯¯çš„å€¼ï¼Œåˆ™åœ¨åŠ è½½è¿™äº›èµ„æºæ—¶ä¼šæ”¶åˆ° 404 é”™è¯¯ã€‚</p> <p>æ­¤é€‰é¡¹æŒ‡å®šåœ¨æµè§ˆå™¨ä¸­æ‰€å¼•ç”¨çš„ã€Œæ­¤è¾“å‡ºç›®å½•å¯¹åº”çš„__å…¬å¼€ URL__ã€ã€‚ç›¸å¯¹ URL(relative URL) ä¼šè¢«ç›¸å¯¹äº HTML é¡µé¢ï¼ˆæˆ– <code>&#x3C;base></code> æ ‡ç­¾ï¼‰è§£æã€‚ç›¸å¯¹äºæœåŠ¡çš„ URL(Server-relative URL)ï¼Œç›¸å¯¹äºåè®®çš„ URL(protocol-relative URL) æˆ–ç»å¯¹ URL(absolute URL) ä¹Ÿå¯æ˜¯å¯èƒ½ç”¨åˆ°çš„ï¼Œæˆ–è€…æœ‰æ—¶å¿…é¡»ç”¨åˆ°ï¼Œä¾‹å¦‚ï¼šå½“å°†èµ„æºæ‰˜ç®¡åˆ° CDN æ—¶ã€‚</p> <p>è¯¥é€‰é¡¹çš„å€¼æ˜¯ä»¥ runtime(è¿è¡Œæ—¶) æˆ– loader(è½½å…¥æ—¶) æ‰€åˆ›å»ºçš„æ¯ä¸ª URL ä¸ºå‰ç¼€ã€‚å› æ­¤ï¼Œåœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œ<strong>æ­¤é€‰é¡¹çš„å€¼éƒ½ä¼šä»¥ <code>/</code> ç»“æŸ</strong>ã€‚</p> <p>ç®€å•è§„åˆ™å¦‚ä¸‹ï¼š<a href="#outputpath"><code>output.path</code></a> ä¸­çš„ URL ä»¥ HTML é¡µé¢ä¸ºåŸºå‡†ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public/assets'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    publicPath<span class="token operator">:</span> <span class="token string">'https://cdn.example.com/assets/'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å¯¹äºè¿™ä¸ªé…ç½®ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    publicPath<span class="token operator">:</span> <span class="token string">'/assets/'</span><span class="token punctuation">,</span>
    chunkFilename<span class="token operator">:</span> <span class="token string">'[id].chunk.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å¯¹äºä¸€ä¸ª chunk è¯·æ±‚ï¼Œçœ‹èµ·æ¥åƒè¿™æ · <code>/assets/4.chunk.js</code>ã€‚</p> <p>å¯¹äºä¸€ä¸ªè¾“å‡º HTML çš„ loader å¯èƒ½ä¼šåƒè¿™æ ·è¾“å‡ºï¼š</p> <pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/assets/spinner.gif<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code></pre> <p>æˆ–è€…åœ¨åŠ è½½ CSS çš„ä¸€ä¸ªå›¾ç‰‡æ—¶ï¼š</p> <pre><code class="hljs language-css"><span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>/assets/spinner.gif<span class="token punctuation">)</span></span><span class="token punctuation">;</span></code></pre> <p>webpack-dev-server ä¹Ÿä¼šé»˜è®¤ä» <code>publicPath</code> ä¸ºåŸºå‡†ï¼Œä½¿ç”¨å®ƒæ¥å†³å®šåœ¨å“ªä¸ªç›®å½•ä¸‹å¯ç”¨æœåŠ¡ï¼Œæ¥è®¿é—® webpack è¾“å‡ºçš„æ–‡ä»¶ã€‚</p> <p>æ³¨æ„ï¼Œå‚æ•°ä¸­çš„ <code>[fullhash]</code> å°†ä¼šè¢«æ›¿æ¢ä¸ºç¼–è¯‘è¿‡ç¨‹(compilation) çš„ hashã€‚è¯¦ç»†ä¿¡æ¯è¯·æŸ¥çœ‹<a href="../../guides/caching.htm" tppabs="https://webpack.docschina.org/guides/caching">æŒ‡å— - ç¼“å­˜</a>ã€‚</p> <p>ç¤ºä¾‹ï¼š</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// One of the below</span>
    publicPath<span class="token operator">:</span> <span class="token string">'https://cdn.example.com/assets/'</span><span class="token punctuation">,</span> <span class="token comment">// CDNï¼ˆæ€»æ˜¯ HTTPS åè®®ï¼‰</span>
    publicPath<span class="token operator">:</span> <span class="token string">'//cdn.example.com/assets/'</span><span class="token punctuation">,</span> <span class="token comment">// CDNï¼ˆåè®®ç›¸åŒï¼‰</span>
    publicPath<span class="token operator">:</span> <span class="token string">'/assets/'</span><span class="token punctuation">,</span> <span class="token comment">// ç›¸å¯¹äºæœåŠ¡(server-relative)</span>
    publicPath<span class="token operator">:</span> <span class="token string">'assets/'</span><span class="token punctuation">,</span> <span class="token comment">// ç›¸å¯¹äº HTML é¡µé¢</span>
    publicPath<span class="token operator">:</span> <span class="token string">'../assets/'</span><span class="token punctuation">,</span> <span class="token comment">// ç›¸å¯¹äº HTML é¡µé¢</span>
    publicPath<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// ç›¸å¯¹äº HTML é¡µé¢ï¼ˆç›®å½•ç›¸åŒï¼‰</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>åœ¨ç¼–è¯‘æ—¶(compile time)æ— æ³•çŸ¥é“è¾“å‡ºæ–‡ä»¶çš„ <code>publicPath</code> çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç•™ç©ºï¼Œç„¶ååœ¨å…¥å£æ–‡ä»¶(entry file)å¤„ä½¿ç”¨<a href="javascript:if(confirm('https://stackoverflow.com/questions/12934929/what-are-free-variables  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://stackoverflow.com/questions/12934929/what-are-free-variables'" tppabs="https://stackoverflow.com/questions/12934929/what-are-free-variables">è‡ªç”±å˜é‡(free variable)</a> <code>__webpack_public_path__</code>ï¼Œä»¥ä¾¿åœ¨è¿è¡Œæ—¶(runtime)è¿›è¡ŒåŠ¨æ€è®¾ç½®ã€‚</p> <pre><code class="hljs language-javascript">__webpack_public_path__ <span class="token operator">=</span> myRuntimePublicPath<span class="token punctuation">;</span>

<span class="token comment">// åº”ç”¨ç¨‹åºå…¥å£çš„å…¶ä»–éƒ¨åˆ†</span></code></pre> <p>æœ‰å…³ <code>__webpack_public_path__</code> çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹<a href="javascript:if(confirm('https://github.com/webpack/webpack/issues/2776  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/issues/2776#issuecomment-233208623'" tppabs="https://github.com/webpack/webpack/issues/2776#issuecomment-233208623">æ­¤è®¨è®º</a>ã€‚</p> <h2 id="outputsourcemapfilename"><code>output.sourceMapFilename</code> <a href="#outputsourcemapfilename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = '[file].map[query]'</code></p> <p>ä»…åœ¨ <a href="../devtool/index.htm" tppabs="https://webpack.docschina.org/configuration/devtool/"><code>devtool</code></a> è®¾ç½®ä¸º <code>'source-map'</code> æ—¶æœ‰æ•ˆï¼Œæ­¤é€‰é¡¹ä¼šå‘ç¡¬ç›˜å†™å…¥ä¸€ä¸ªè¾“å‡ºæ–‡ä»¶ã€‚</p> <p>å¯ä»¥ä½¿ç”¨ <a href="#output-filename">#output-filename</a> ä¸­çš„ <code>[name]</code>, <code>[id]</code>, <code>[hash]</code> å’Œ <code>[chunkhash]</code> æ›¿æ¢ç¬¦å·ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ <a href="../output/index.htm#template-strings" tppabs="https://webpack.docschina.org/configuration/output/#template-strings">Template strings</a> åœ¨ Filename-level ä¸‹æ›¿æ¢ã€‚</p> <h2 id="outputsourceprefix"><code>output.sourcePrefix</code> <a href="#outputsourceprefix" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = ''</code></p> <p>ä¿®æ”¹è¾“å‡º bundle ä¸­æ¯è¡Œçš„å‰ç¼€ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    sourcePrefix<span class="token operator">:</span> <span class="token string">'\t'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p>ä½¿ç”¨ä¸€äº›ç¼©è¿›ä¼šä½¿ bundle çœ‹èµ·æ¥æ›´ç¾è§‚ï¼Œä½†ä¼šå¯¼è‡´å¤šè¡Œå­—ç¬¦ä¸²çš„é—®é¢˜ã€‚</p> </blockquote> <blockquote class="tip"> <p>é€šå¸¸ï¼Œä½ ä¸éœ€è¦ä¿®æ”¹ <code>output.sourcePrefix</code>ã€‚</p> </blockquote> <h2 id="outputstrictmoduleexceptionhandling"><code>output.strictModuleExceptionHandling</code> <a href="#outputstrictmoduleexceptionhandling" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code></p> <p>å¦‚æœä¸€ä¸ªæ¨¡å—æ˜¯åœ¨ <code>require</code> æ—¶æŠ›å‡ºå¼‚å¸¸ï¼Œå‘Šè¯‰ webpack ä»æ¨¡å—å®ä¾‹ç¼“å­˜(<code>require.cache</code>)ä¸­åˆ é™¤è¿™ä¸ªæ¨¡å—ã€‚</p> <p>å‡ºäºæ€§èƒ½åŸå› ï¼Œé»˜è®¤ä¸º <code>false</code>ã€‚</p> <p>å½“è®¾ç½®ä¸º <code>false</code> æ—¶ï¼Œè¯¥æ¨¡å—ä¸ä¼šä»ç¼“å­˜ä¸­åˆ é™¤ï¼Œè¿™å°†é€ æˆä»…åœ¨ç¬¬ä¸€æ¬¡ <code>require</code> è°ƒç”¨æ—¶æŠ›å‡ºå¼‚å¸¸ï¼ˆä¼šå¯¼è‡´ä¸ node.js ä¸å…¼å®¹ï¼‰ã€‚</p> <p>ä¾‹å¦‚ï¼Œè®¾æƒ³ä¸€ä¸‹ <code>module.js</code>ï¼š</p> <pre><code class="hljs language-javascript"><span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>å°† <code>strictModuleExceptionHandling</code> è®¾ç½®ä¸º <code>false</code>ï¼Œåªæœ‰ç¬¬ä¸€ä¸ª <code>require</code> æŠ›å‡ºå¼‚å¸¸ï¼š</p> <pre><code class="hljs language-javascript"><span class="token comment">// with strictModuleExceptionHandling = false</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'module'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x3C;- æŠ›å‡º</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'module'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x3C;- ä¸æŠ›å‡º</span></code></pre> <p>ç›¸åï¼Œå°† <code>strictModuleExceptionHandling</code> è®¾ç½®ä¸º <code>true</code>ï¼Œè¿™ä¸ªæ¨¡å—æ‰€æœ‰çš„ <code>require</code> éƒ½æŠ›å‡ºå¼‚å¸¸ï¼š</p> <pre><code class="hljs language-javascript"><span class="token comment">// with strictModuleExceptionHandling = true</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'module'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x3C;- æŠ›å‡º</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'module'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x3C;- ä»ç„¶æŠ›å‡º</span></code></pre> <h2 id="outputumdnameddefine"><code>output.umdNamedDefine</code> <a href="#outputumdnameddefine" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <p>å½“ä½¿ç”¨ <code>libraryTarget: "umd"</code> æ—¶ï¼Œè®¾ç½® <code>output.umdNamedDefine</code> ä¸º <code>true</code> å°†å‘½åç”± UMD æ„å»ºçš„ AMD æ¨¡å—ã€‚å¦åˆ™å°†ä½¿ç”¨ä¸€ä¸ªåŒ¿åçš„ <code>define</code>ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    umdNamedDefine<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="outputworkerchunkloading"><code>output.workerChunkLoading</code> <a href="#outputworkerchunkloading" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string: 'require' | 'import-scripts' | 'async-node' | 'import' | 'universal'</code> <code>boolean: false</code></p> <p>æ–°é€‰é¡¹ <code>workerChunkLoading</code> ç”¨äºæ§åˆ¶ workder çš„ chunk åŠ è½½ã€‚</p> <blockquote class="tip"> <p>æ­¤é€‰é¡¹é»˜è®¤å€¼å–å†³äº <code>target</code> çš„è®¾ç½®ã€‚æ¬²äº†è§£æ›´å¤šè¯¦æƒ…ï¼Œè¯·åœ¨ <a href="../../../github.com/webpack/webpack/blob/master/lib/config/defaults.js" tppabs="https://github.com/webpack/webpack/blob/master/lib/config/defaults.js">webpack é»˜è®¤å€¼æ–‡ä»¶ä¸­æœç´¢</a> <code>"workerChunkLoading"</code>ã€‚</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    workerChunkLoading<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="outputenabledLibraryTypes"><code>output.enabledLibraryTypes</code><a href="#outputenabledLibraryTypes" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>[string]</code></p> <p>å…¥å£ç‚¹å¯ç”¨çš„ library ç±»å‹åˆ—è¡¨.</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    enabledLibraryTypes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'module'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="outputfutureemitassets"><code>output.futureEmitAssets</code> <a href="#outputfutureemitassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code></p> <p>å‘Šè¯‰ webpack ä½¿ç”¨æœªæ¥ç‰ˆæœ¬çš„èµ„æºæ–‡ä»¶ emit é€»è¾‘ï¼Œå…è®¸åœ¨ emit åé‡Šæ”¾èµ„æºæ–‡ä»¶çš„å†…å­˜ã€‚è¿™å¯èƒ½ä¼šç ´åé‚£äº›è®¤ä¸ºèµ„æºæ–‡ä»¶ emit åä»ç„¶å¯è¯»çš„æ’ä»¶ã€‚</p> <blockquote class="warning"> <p>åœ¨ webpack v5.0.0 ä¸­ <code>output.futureEmitAssets</code> é€‰é¡¹è¢«ç§»é™¤å¹¶ä¸”è¿™ç§è¡Œä¸ºå°†è¢«é»˜è®¤æ”¯æŒã€‚</p> </blockquote> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    futureEmitAssets<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="outputenvironment"><code>output.environment</code> <a href="#outputenvironment" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>å‘Šè¯‰ webpack åœ¨ç”Ÿæˆçš„è¿è¡Œæ—¶ä»£ç ä¸­å¯ä»¥ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„ ES ç‰¹æ€§ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    environment<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// The environment supports arrow functions ('() => { ... }').</span>
      arrowFunction<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// The environment supports BigInt as literal (123n).</span>
      bigIntLiteral<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// The environment supports const and let for variable declarations.</span>
      <span class="token keyword">const</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// The environment supports destructuring ('{ a, b } = obj').</span>
      destructuring<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// The environment supports an async import() function to import EcmaScript modules.</span>
      dynamicImport<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// The environment supports 'for of' iteration ('for (const x of array) { ... }').</span>
      forOf<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token comment">// The environment supports ECMAScript Module syntax to import ECMAScript modules (import ... from '...').</span>
      module<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="outputcomparebeforeemit"><code>output.compareBeforeEmit</code> <a href="#outputcomparebeforeemit" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = true</code></p> <p>å‘Šè¯‰ webpack åœ¨å†™å…¥è¾“å‡ºæ–‡ä»¶ç³»ç»Ÿï¼ˆoutput file systemï¼‰ä¹‹å‰æ£€æŸ¥è¦å‘å‡ºçš„æ–‡ä»¶æ˜¯å¦å·²ç»å­˜åœ¨å¹¶ä¸”å…·æœ‰ç›¸åŒçš„å†…å®¹ã€‚</p> <blockquote class="warning"> <p>å½“æ–‡ä»¶å­˜åœ¨å¹¶ä¸”å†…å®¹æ²¡æœ‰å˜æ›´æ—¶ï¼Œwebpack ä¸ä¼šè¾“å‡ºè¯¥æ–‡ä»¶ã€‚</p> </blockquote> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    compareBeforeEmit<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="output-wasm-loading"><code>output.wasmLoading</code> <a href="#output-wasm-loading" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code> <code>string</code></p> <p>æ­¤é€‰é¡¹ç”¨äºè®¾ç½®åŠ è½½ WebAssembly æ¨¡å—çš„æ–¹å¼ã€‚é»˜è®¤å¯ä½¿ç”¨çš„æ–¹å¼æœ‰ <code>'fetch'</code>ï¼ˆweb/WebWorkerï¼‰ï¼Œ<code>'async-node'</code>ï¼ˆNode.jsï¼‰ï¼Œå…¶ä»–é¢å¤–æ–¹å¼å¯ç”±æ’ä»¶æä¾›ã€‚</p> <p>å…¶é»˜è®¤å€¼ä¼šæ ¹æ® <a href="../target/index.htm" tppabs="https://webpack.docschina.org/configuration/target/"><code>target</code></a> çš„å˜åŒ–è€Œå˜åŒ–ï¼š</p> <ul> <li>å¦‚æœ <a href="../target/index.htm" tppabs="https://webpack.docschina.org/configuration/target/"><code>target</code></a> è®¾ç½®ä¸º <code>'web'</code>ï¼Œ<code>'webworker'</code>ï¼Œ<code>'electron-renderer'</code> æˆ– <code>'node-webkit'</code> å…¶ä¸­ä¹‹ä¸€ï¼Œå…¶é»˜è®¤å€¼ä¸º <code>'fetch'</code>ã€‚</li> <li>å¦‚æœ <a href="../target/index.htm" tppabs="https://webpack.docschina.org/configuration/target/"><code>target</code></a> è®¾ç½®ä¸º <code>'node'</code>ï¼Œ<code>'async-node'</code>ï¼Œ<code>'electron-main'</code> æˆ– <code>'electron-preload'</code>ï¼Œå…¶é»˜è®¤å€¼ä¸º <code>'async-node'</code>ã€‚</li> </ul> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    wasmLoading<span class="token operator">:</span> <span class="token string">'fetch'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="output-enabled-wasm-loading-types"><code>output.enabledWasmLoadingTypes</code> <a href="#output-enabled-wasm-loading-types" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>[string]</code></p> <p>ç”¨äºè®¾ç½®å…¥å£æ”¯æŒçš„ wasm åŠ è½½ç±»å‹çš„åˆ—è¡¨ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    enabledWasmLoadingTypes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'fetch'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="output-iife"><code>output.iife</code> <a href="#output-iife" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = true</code></p> <p>å‘Šè¯‰ webpack æ·»åŠ  <a href="javascript:if(confirm('https://developer.mozilla.org/en-US/docs/Glossary/IIFE  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://developer.mozilla.org/en-US/docs/Glossary/IIFE'" tppabs="https://developer.mozilla.org/en-US/docs/Glossary/IIFE">IIFE</a> å¤–å±‚åŒ…è£¹ç”Ÿæˆçš„ä»£ç .</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    iife<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="outputmodule"><code>output.module</code> <a href="#outputmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = true</code></p> <p>å…è®¸è¾“å‡ºçš„ JavaScript æ–‡ä»¶ä½œä¸ºæ¨¡å—ç±»å‹ã€‚ è®¾ç½® <code>output.iife</code> ä¸º <code>false</code>, <code>output.libraryTarget</code> ä¸º <code>'module'</code>, <code>output.scriptType</code> ä¸º <code>'module'</code> å’Œ <code>terserOptions.module</code> ä¸º <code>true</code></p> <blockquote class="warning"> <p><code>output.module</code> æ˜¯ä¸€ä¸ªå®éªŒæ€§çš„åŠŸèƒ½ï¼Œ æƒ³è¦ä½¿ç”¨çš„è¯ï¼Œé€šè¿‡è®¾ç½® <a href="../experiments/index.htm#experiments" tppabs="https://webpack.docschina.org/configuration/experiments/#experiments"><code>experiments.outputModule</code></a> ä¸º <code>true</code>.</p> </blockquote> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    module<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h1 id="æ¨¡å—ï¼ˆModuleï¼‰">æ¨¡å—ï¼ˆModuleï¼‰<a href="#%E6%A8%A1%E5%9D%97%EF%BC%88Module%EF%BC%89" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>è¿™äº›é€‰é¡¹å†³å®šäº†å¦‚ä½•å¤„ç†é¡¹ç›®ä¸­çš„<a href="../../concepts/modules.htm" tppabs="https://webpack.docschina.org/concepts/modules">ä¸åŒç±»å‹çš„æ¨¡å—</a>ã€‚</p> <h2 id="modulenoparse"><code>module.noParse</code> <a href="#modulenoparse" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>RegExp</code> <code>[RegExp]</code> <code>function(resource)</code> <code>string</code> <code>[string]</code></p> <p>é˜²æ­¢ webpack è§£æé‚£äº›ä»»ä½•ä¸ç»™å®šæ­£åˆ™è¡¨è¾¾å¼ç›¸åŒ¹é…çš„æ–‡ä»¶ã€‚å¿½ç•¥çš„æ–‡ä»¶ä¸­ <strong>ä¸åº”è¯¥å«æœ‰</strong> <code>import</code>, <code>require</code>, <code>define</code> çš„è°ƒç”¨ï¼Œæˆ–ä»»ä½•å…¶ä»–å¯¼å…¥æœºåˆ¶ã€‚å¿½ç•¥å¤§å‹çš„ library å¯ä»¥æé«˜æ„å»ºæ€§èƒ½ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    noParse<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">jquery|lodash</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">noParse</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">content</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">jquery|lodash</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="moduleunsafecache"><code>module.unsafeCache</code> <a href="#moduleunsafecache" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code> <code>function (module)</code></p> <p>ç¼“å­˜æ¨¡å—è¯·æ±‚çš„è§£æã€‚<code>module.unsafeCache</code> åŒ…å«å¦‚ä¸‹å‡ ä¸ªé»˜è®¤å€¼ï¼š</p> <ul> <li>å¦‚æœ <a href="../other-options/index.htm#cache" tppabs="https://webpack.docschina.org/configuration/other-options/#cache"><code>cache</code></a> æœªè¢«å¯ç”¨ï¼Œåˆ™é»˜è®¤å€¼ä¸º <code>false</code>ã€‚</li> <li>å¦‚æœ <a href="../other-options/index.htm#cache" tppabs="https://webpack.docschina.org/configuration/other-options/#cache"><code>cache</code></a> è¢«å¯ç”¨ï¼Œå¹¶ä¸”æ­¤æ¨¡å—çš„æ¥è‡ª node_modulesï¼Œåˆ™å€¼ä¸º <code>true</code>ï¼Œå¦åˆ™ä¸º <code>false</code>ã€‚</li> </ul> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    unsafeCache<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p>åœ¨ webpack 4 ä¸­å…¶é»˜è®¤å€¼ä¸º <code>true</code>ã€‚</p> </blockquote> <h2 id="modulerules"><code>module.rules</code> <a href="#modulerules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>[Rule]</code></p> <p>åˆ›å»ºæ¨¡å—æ—¶ï¼ŒåŒ¹é…è¯·æ±‚çš„<a href="#rule">è§„åˆ™</a>æ•°ç»„ã€‚è¿™äº›è§„åˆ™èƒ½å¤Ÿä¿®æ”¹æ¨¡å—çš„åˆ›å»ºæ–¹å¼ã€‚ è¿™äº›è§„åˆ™èƒ½å¤Ÿå¯¹æ¨¡å—(module)åº”ç”¨ loaderï¼Œæˆ–è€…ä¿®æ”¹è§£æå™¨(parser)ã€‚</p> <h2 id="rule">Rule <a href="#rule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object</code></p> <p>æ¯ä¸ªè§„åˆ™å¯ä»¥åˆ†ä¸ºä¸‰éƒ¨åˆ† - æ¡ä»¶(condition)ï¼Œç»“æœ(result)å’ŒåµŒå¥—è§„åˆ™(nested rule)ã€‚</p> <h3 id="rule-conditions">Rule æ¡ä»¶ <a href="#rule-conditions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>æ¡ä»¶æœ‰ä¸¤ç§è¾“å…¥å€¼ï¼š</p> <ol> <li> <p>resourceï¼šèµ„æºæ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚å®ƒå·²ç»æ ¹æ® <a href="../resolve.htm" tppabs="https://webpack.docschina.org/configuration/resolve"><code>resolve</code> è§„åˆ™</a>è§£æã€‚</p> </li> <li> <p>issuer: è¯·æ±‚è€…çš„æ–‡ä»¶ç»å¯¹è·¯å¾„ã€‚æ˜¯å¯¼å…¥æ—¶çš„ä½ç½®ã€‚</p> </li> </ol> <p><strong>ä¾‹å¦‚:</strong> ä» <code>app.js</code> <code>å¯¼å…¥ './style.css'</code>ï¼Œresource æ˜¯ <code>/path/to/style.css</code>. issuer æ˜¯ <code>/path/to/app.js</code>ã€‚</p> <p>åœ¨è§„åˆ™ä¸­ï¼Œå±æ€§ <a href="#rule-test"><code>test</code></a>, <a href="#rule-include"><code>include</code></a>, <a href="#rule-exclude"><code>exclude</code></a> å’Œ <a href="#rule-resource"><code>resource</code></a> å¯¹ resource åŒ¹é…ï¼Œå¹¶ä¸”å±æ€§ <a href="#rule-issuer"><code>issuer</code></a> å¯¹ issuer åŒ¹é…ã€‚</p> <p>å½“ä½¿ç”¨å¤šä¸ªæ¡ä»¶æ—¶ï¼Œæ‰€æœ‰æ¡ä»¶éƒ½åŒ¹é…ã€‚</p> <blockquote class="warning"> <p>å°å¿ƒï¼resource æ˜¯æ–‡ä»¶çš„ <em>è§£æ</em> è·¯å¾„ï¼Œè¿™æ„å‘³ç€ç¬¦å·é“¾æ¥çš„èµ„æºæ˜¯çœŸæ­£çš„è·¯å¾„ï¼Œ<em>è€Œä¸æ˜¯</em> ç¬¦å·é“¾æ¥ä½ç½®ã€‚ åœ¨ä½¿ç”¨å·¥å…·æ¥ç¬¦å·é“¾æ¥åŒ…çš„æ—¶å€™ï¼ˆå¦‚ <code>npm link</code>ï¼‰æ¯”è¾ƒå¥½è®°ï¼Œåƒ <code>/node_modules/</code> ç­‰å¸¸è§æ¡ä»¶å¯èƒ½ä¼šä¸å°å¿ƒé”™è¿‡ç¬¦å·é“¾æ¥çš„æ–‡ä»¶ã€‚ æ³¨æ„ï¼Œå¯ä»¥é€šè¿‡ <a href="../resolve.htm#resolve-symlinks" tppabs="https://webpack.docschina.org/configuration/resolve#resolve-symlinks"><code>resolve.symlinks</code></a> å…³é—­ç¬¦å·é“¾æ¥è§£æï¼ˆä»¥ä¾¿å°†èµ„æºè§£æä¸ºç¬¦å·é“¾æ¥è·¯å¾„ï¼‰ã€‚</p> </blockquote> <h3 id="rule-results">Rule ç»“æœ <a href="#rule-results" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>è§„åˆ™ç»“æœåªåœ¨è§„åˆ™æ¡ä»¶åŒ¹é…æ—¶ä½¿ç”¨ã€‚</p> <p>è§„åˆ™æœ‰ä¸¤ç§è¾“å…¥å€¼ï¼š</p> <ol> <li>åº”ç”¨çš„ loaderï¼šåº”ç”¨åœ¨ resource ä¸Šçš„ loader æ•°ç»„ã€‚</li> <li>Parser é€‰é¡¹ï¼šç”¨äºä¸ºæ¨¡å—åˆ›å»ºè§£æå™¨çš„é€‰é¡¹å¯¹è±¡ã€‚</li> </ol> <p>è¿™äº›å±æ€§ä¼šå½±å“ loaderï¼š<a href="#rule-loader"><code>loader</code></a>, <a href="#rule-options-rule-query"><code>options</code></a>, <a href="#rule-use"><code>use</code></a>ã€‚</p> <p>ä¹Ÿå…¼å®¹è¿™äº›å±æ€§ï¼š<a href="#rule-options-rule-query"><code>query</code></a>, <a href="#rule-loaders"><code>loaders</code></a>ã€‚</p> <p><a href="#rule-enforce"><code>enforce</code></a> å±æ€§ä¼šå½±å“ loader ç§ç±»ã€‚ä¸è®ºæ˜¯æ™®é€šçš„ï¼Œå‰ç½®çš„ï¼Œåç½®çš„ loaderã€‚</p> <p><a href="#rule-parser"><code>parser</code></a> å±æ€§ä¼šå½±å“ parser é€‰é¡¹ã€‚</p> <h2 id="nested-rules">åµŒå¥—çš„ Rule <a href="#nested-rules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>å¯ä»¥ä½¿ç”¨å±æ€§ <a href="#rule-rules"><code>rules</code></a> å’Œ <a href="#rule-oneof"><code>oneOf</code></a> æŒ‡å®šåµŒå¥—è§„åˆ™ã€‚</p> <p>è¿™äº›è§„åˆ™ç”¨äºåœ¨è§„åˆ™æ¡ä»¶(rule condition)åŒ¹é…æ—¶è¿›è¡Œå–å€¼ã€‚æ¯ä¸ªåµŒå¥—è§„åˆ™åŒ…å«å®ƒè‡ªå·±çš„æ¡ä»¶ã€‚</p> <p>è¢«è§£æçš„é¡ºåºåŸºäºä»¥ä¸‹è§„åˆ™ï¼š</p> <ol> <li>çˆ¶è§„åˆ™</li> <li><a href="#rulerules"><code>rules</code></a></li> <li><a href="#ruleoneof"><code>oneOf</code></a></li> </ol> <h2 id="ruleenforce"><code>Rule.enforce</code> <a href="#ruleenforce" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code></p> <p>å¯èƒ½çš„å€¼æœ‰ï¼š<code>"pre" | "post"</code></p> <p>æŒ‡å®š loader ç§ç±»ã€‚æ²¡æœ‰å€¼è¡¨ç¤ºæ˜¯æ™®é€š loaderã€‚</p> <p>è¿˜æœ‰ä¸€ä¸ªé¢å¤–çš„ç§ç±»"è¡Œå†… loader"ï¼Œloader è¢«åº”ç”¨åœ¨ import/require è¡Œå†…ã€‚</p> <p>æ‰€æœ‰ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°è¿›å…¥çš„ loaderï¼Œéƒ½æœ‰ä¸¤ä¸ªé˜¶æ®µï¼š</p> <ol> <li><strong>Pitching</strong> é˜¶æ®µ: loader ä¸Šçš„ pitch æ–¹æ³•ï¼ŒæŒ‰ç…§ <code>åç½®(post)ã€è¡Œå†…(normal)ã€æ™®é€š(inline)ã€å‰ç½®(pre)</code> çš„é¡ºåºè°ƒç”¨ã€‚æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ <a href="../../api/loaders/index.htm#pitching-loader" tppabs="https://webpack.docschina.org/api/loaders/#pitching-loader">Pitching Loader</a>ã€‚</li> <li><strong>Normal</strong> é˜¶æ®µ: loader ä¸Šçš„ å¸¸è§„æ–¹æ³•ï¼ŒæŒ‰ç…§ <code>å‰ç½®(pre)ã€è¡Œå†…(normal)ã€æ™®é€š(inline)ã€åç½®(post)</code> çš„é¡ºåºè°ƒç”¨ã€‚æ¨¡å—æºç çš„è½¬æ¢ï¼Œ</li> </ol> <p>å‘ç”Ÿåœ¨è¿™ä¸ªé˜¶æ®µã€‚</p> <p>æ‰€æœ‰æ™®é€š loader å¯ä»¥é€šè¿‡åœ¨è¯·æ±‚ä¸­åŠ ä¸Š <code>!</code> å‰ç¼€æ¥å¿½ç•¥ï¼ˆè¦†ç›–ï¼‰ã€‚</p> <p>æ‰€æœ‰æ™®é€šå’Œå‰ç½® loader å¯ä»¥é€šè¿‡åœ¨è¯·æ±‚ä¸­åŠ ä¸Š <code>-!</code> å‰ç¼€æ¥å¿½ç•¥ï¼ˆè¦†ç›–ï¼‰ã€‚</p> <p>æ‰€æœ‰æ™®é€šï¼Œåç½®å’Œå‰ç½® loader å¯ä»¥é€šè¿‡åœ¨è¯·æ±‚ä¸­åŠ ä¸Š <code>!!</code> å‰ç¼€æ¥å¿½ç•¥ï¼ˆè¦†ç›–ï¼‰ã€‚</p> <pre><code class="hljs language-javascript"><span class="token comment">// ç¦ç”¨æ™®é€š loaders</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> a <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'!./file1.js'</span><span class="token punctuation">;</span>

<span class="token comment">// ç¦ç”¨å‰ç½®å’Œæ™®é€š loaders</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> b <span class="token punctuation">}</span> <span class="token keyword">from</span>  <span class="token string">'-!./file2.js'</span><span class="token punctuation">;</span>

<span class="token comment">// ç¦ç”¨æ‰€æœ‰çš„ laoders</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> c <span class="token punctuation">}</span> <span class="token keyword">from</span>  <span class="token string">'!!./file3.js'</span><span class="token punctuation">;</span></code></pre> <p>Inline loaders and <code>!</code> prefixes should not be used as they are non-standard. They may be use by loader generated code.</p> <h2 id="ruleexclude"><code>Rule.exclude</code> <a href="#ruleexclude" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>æ’é™¤æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ¨¡å—ã€‚å¦‚æœä½ æä¾›äº† <code>Rule.exclude</code> é€‰é¡¹ï¼Œå°±ä¸èƒ½å†æä¾› <code>Rule.resource</code>ã€‚è¯¦ç»†è¯·æŸ¥çœ‹ <a href="#rule-resource"><code>Rule.resource</code></a> å’Œ <a href="#condition"><code>Condition.exclude</code></a>ã€‚</p> <h2 id="ruleinclude"><code>Rule.include</code> <a href="#ruleinclude" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>å¼•å…¥ç¬¦åˆä»¥ä¸‹ä»»ä½•æ¡ä»¶çš„æ¨¡å—ã€‚å¦‚æœä½ æä¾›äº† <code>Rule.include</code> é€‰é¡¹ï¼Œå°±ä¸èƒ½å†æä¾› <code>Rule.resource</code>ã€‚è¯¦ç»†è¯·æŸ¥çœ‹ <a href="#rule-resource"><code>Rule.resource</code></a> å’Œ <a href="#condition"><code>Condition.include</code></a>ã€‚</p> <h2 id="ruleissuer"><code>Rule.issuer</code> <a href="#ruleissuer" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>ä¸€ä¸ª<a href="#condition"><code>æ¡ä»¶</code></a>ï¼Œç”¨æ¥ä¸è¢«å‘å‡ºçš„ request å¯¹åº”çš„æ¨¡å—é¡¹åŒ¹é…ã€‚åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œ<code>a.js</code> request çš„<code>å‘å‡ºè€…(issuer)</code> æ˜¯ index.js æ–‡ä»¶çš„è·¯å¾„ã€‚</p> <p><strong>index.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">import</span> <span class="token constant">A</span> <span class="token keyword">from</span> <span class="token string">'./a.js'</span><span class="token punctuation">;</span></code></pre> <p>è¿™ä¸ªé€‰é¡¹å¯ä»¥ç”¨æ¥å°† loader åº”ç”¨åˆ°ä¸€ä¸ªç‰¹å®šæ¨¡å—æˆ–ä¸€ç»„æ¨¡å—çš„ä¾èµ–ä¸­ã€‚</p> <h2 id="ruleloader"><code>Rule.loader</code> <a href="#ruleloader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>Rule.loader</code> æ˜¯ <code>Rule.use: [ { loader } ]</code> çš„ç®€å†™ã€‚è¯¦ç»†è¯·æŸ¥çœ‹ <a href="#rule-use"><code>Rule.use</code></a> å’Œ <a href="#useentry"><code>UseEntry.loader</code></a>ã€‚</p> <h2 id="ruleloaders"><code>Rule.loaders</code> <a href="#ruleloaders" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <blockquote class="warning"> <p> ç”±äºéœ€è¦æ”¯æŒ <code>Rule.use</code>ï¼Œæ­¤é€‰é¡¹ <strong>å·²åºŸå¼ƒ</strong>ã€‚</p> </blockquote> <p><code>Rule.loaders</code> æ˜¯ <code>Rule.use</code> çš„åˆ«åã€‚è¯¦ç»†è¯·æŸ¥çœ‹ <a href="#rule-use"><code>Rule.use</code></a>ã€‚</p> <h2 id="rulemimetype"><code>Rule.mimetype</code> <a href="#rulemimetype" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>ä½ å¯ä»¥ä½¿ç”¨ <code>mimetype</code> ä½¿ rules é…ç½®ä¸ data çš„ uri è¿›è¡ŒåŒ¹é…ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        mimetype<span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'json'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>mimetype å·²é»˜è®¤åŒ…å«äº† <code>application/json</code>ï¼Œ<code>text/javascript</code>ï¼Œ<code>application/javascript</code>ï¼Œ<code>application/node</code> ä»¥åŠ <code>application/wasm</code>ã€‚</p> <h2 id="ruleoneof"><code>Rule.oneOf</code> <a href="#ruleoneof" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="#rule"><code>è§„åˆ™</code></a>æ•°ç»„ï¼Œå½“è§„åˆ™åŒ¹é…æ—¶ï¼Œåªä½¿ç”¨ç¬¬ä¸€ä¸ªåŒ¹é…è§„åˆ™ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        oneOf<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            resourceQuery<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">inline</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// foo.css?inline</span>
            use<span class="token operator">:</span> <span class="token string">'url-loader'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            resourceQuery<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">external</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// foo.css?external</span>
            use<span class="token operator">:</span> <span class="token string">'file-loader'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p>è¯¦æƒ…è¯·å‚é˜… <a href="#nested-rules"><code>åµŒå¥—è§„åˆ™</code></a>ã€‚</p> </blockquote> <h2 id="ruleoptions--rulequery"><code>Rule.options</code> / <code>Rule.query</code> <a href="#ruleoptions--rulequery" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>Rule.options</code> å’Œ <code>Rule.query</code> æ˜¯ <code>Rule.use: [ { options } ]</code> çš„ç®€å†™ã€‚è¯¦ç»†è¯·æŸ¥çœ‹ <a href="#rule-use"><code>Rule.use</code></a> å’Œ <a href="#useentry"><code>UseEntry.options</code></a>ã€‚</p> <blockquote class="warning"> <p>ç”±äºéœ€è¦æ”¯æŒ <code>Rule.options</code>ï¼Œ<code>UseEntry.options</code> ä»¥åŠ <code>Rule.use</code>ï¼Œå› æ­¤ <code>Rule.query</code> å·²åºŸå¼ƒã€‚</p> </blockquote> <h2 id="ruleparser"><code>Rule.parser</code> <a href="#ruleparser" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>è§£æé€‰é¡¹å¯¹è±¡ã€‚æ‰€æœ‰åº”ç”¨çš„è§£æé€‰é¡¹éƒ½å°†åˆå¹¶ã€‚</p> <p>è§£æå™¨(parser)å¯ä»¥æŸ¥é˜…è¿™äº›é€‰é¡¹ï¼Œå¹¶ç›¸åº”åœ°ç¦ç”¨æˆ–é‡æ–°é…ç½®ã€‚å¤§å¤šæ•°é»˜è®¤æ’ä»¶ï¼Œ ä¼šå¦‚ä¸‹è§£é‡Šå€¼ï¼š</p> <ul> <li>å°†é€‰é¡¹è®¾ç½®ä¸º <code>false</code>ï¼Œå°†ç¦ç”¨è§£æå™¨ã€‚</li> <li>å°†é€‰é¡¹è®¾ç½®ä¸º <code>true</code>ï¼Œæˆ–ä¸ä¿®æ”¹å°†å…¶ä¿ç•™ä¸º <code>undefined</code>ï¼Œå¯ä»¥å¯ç”¨è§£æå™¨ã€‚</li> </ul> <p>ç„¶è€Œï¼Œä¸€äº›è§£æå™¨(parser)æ’ä»¶å¯èƒ½ä¸å…‰åªæ¥æ”¶ä¸€ä¸ªå¸ƒå°”å€¼ã€‚ä¾‹å¦‚ï¼Œå†…éƒ¨çš„ <code>NodeStuffPlugin</code> æ’ä»¶ï¼Œå¯ä»¥æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯ <code>true</code>ï¼Œ æ¥ä¸ºç‰¹å®šçš„è§„åˆ™æ·»åŠ é¢å¤–çš„é€‰é¡¹ã€‚</p> <p><strong>ç¤ºä¾‹</strong>ï¼ˆé»˜è®¤çš„æ’ä»¶è§£æå™¨é€‰é¡¹ï¼‰ï¼š</p> <pre><code class="hljs language-js-with-links">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        parser<span class="token operator">:</span> <span class="token punctuation">{</span>
          amd<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ AMD</span>
          commonjs<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ CommonJS</span>
          system<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ SystemJS</span>
          harmony<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ ES2015 Harmony import/export</span>
          requireInclude<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ require.include</span>
          requireEnsure<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ require.ensure</span>
          requireContext<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ require.context</span>
          browserify<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ç‰¹æ®Šå¤„ç†çš„ browserify bundle</span>
          requireJs<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ requirejs.*</span>
          node<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¦ç”¨ __dirname, __filename, module, require.extensions, require.main, ç­‰ã€‚</span>
          node<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// åœ¨æ¨¡å—çº§åˆ«(module level)ä¸Šé‡æ–°é…ç½® [node](/configuration/node) å±‚(layer)</span>
          worker<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"default from web-worker"</span><span class="token punctuation">,</span> <span class="token string">"..."</span><span class="token punctuation">]</span> <span class="token comment">// è‡ªå®šä¹‰ WebWorker å¯¹ JavaScript çš„å¤„ç†ï¼Œå…¶ä¸­ "..." ä¸ºé»˜è®¤å€¼ã€‚</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <p>å¦‚æœ <code>Rule.type</code> çš„å€¼ä¸º <code>asset</code>ï¼Œé‚£ä¹ˆ <code>Rules.parser</code> é€‰é¡¹å¯èƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä½œç”¨å¯èƒ½æ˜¯å°†æ–‡ä»¶å†…å®¹ç¼–ç ä¸º Base64ï¼Œè¿˜å¯èƒ½æ˜¯å°†å…¶å½“åšå•ç‹¬æ–‡ä»¶ emit åˆ°è¾“å‡ºç›®å½•ã€‚</p> <p>å¦‚æœ <code>Rule.type</code> çš„å€¼ä¸º <code>asset</code> æˆ– <code>asset/inline</code>ï¼Œé‚£ä¹ˆ <code>Rule.generator</code> é€‰é¡¹å¯èƒ½æ˜¯ä¸€ä¸ªæè¿°æ¨¡å—æºç¼–ç æ–¹å¼çš„å¯¹è±¡ï¼Œè¿˜å¯èƒ½æ˜¯ä¸€ä¸ªé€šè¿‡è‡ªå®šä¹‰ç®—æ³•å¯¹æ¨¡å—æºä»£ç è¿›è¡Œç¼–ç çš„å‡½æ•°ã€‚</p> <p>æ›´å¤šä¿¡æ¯åŠç”¨ä¾‹è¯·æŸ¥é˜… <a href="../../guides/asset-modules/index.htm" tppabs="https://webpack.docschina.org/guides/asset-modules/">Asset æ¨¡å—æŒ‡å—</a>ã€‚</p> <h2 id="ruleparserdataurlcondition"><code>Rule.parser.dataUrlCondition</code> <a href="#ruleparserdataurlcondition" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object = { maxSize number = 8096 }</code> <code>function (source, { filename, module }) => boolean</code></p> <p>å¦‚æœä¸€ä¸ªæ¨¡å—æºç å¤§å°å°äº <code>maxSize</code>ï¼Œé‚£ä¹ˆæ¨¡å—ä¼šè¢«ä½œä¸ºä¸€ä¸ª Base64 ç¼–ç çš„å­—ç¬¦ä¸²æ³¨å…¥åˆ°åŒ…ä¸­ï¼Œ å¦åˆ™æ¨¡å—æ–‡ä»¶ä¼šè¢«ç”Ÿæˆåˆ°è¾“å‡ºçš„ç›®æ ‡ç›®å½•ä¸­ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        parser<span class="token operator">:</span> <span class="token punctuation">{</span>
          dataUrlCondition<span class="token operator">:</span> <span class="token punctuation">{</span>
            maxSize<span class="token operator">:</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">1024</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å½“æä¾›å‡½æ•°æ—¶ï¼Œè¿”å› <code>true</code> å€¼æ—¶å‘ŠçŸ¥ webpack å°†æ¨¡å—ä½œä¸ºä¸€ä¸ª Base64 ç¼–ç çš„å­—ç¬¦ä¸²æ³¨å…¥åˆ°åŒ…ä¸­ï¼Œ å¦åˆ™æ¨¡å—æ–‡ä»¶ä¼šè¢«ç”Ÿæˆåˆ°è¾“å‡ºçš„ç›®æ ‡ç›®å½•ä¸­ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        parser<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function-variable function">dataUrlCondition</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">source<span class="token punctuation">,</span> <span class="token punctuation">{</span> filename<span class="token punctuation">,</span> module <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> content <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> content<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'some marker'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="rulegeneratordataurl"><code>Rule.generator.dataUrl</code> <a href="#rulegeneratordataurl" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object = { encoding string = 'base64' | false, mimetype string = undefined | false }</code> <code>function (content, { filename, module }) => string</code></p> <p>å½“ <code>Rule.generator.dataUrl</code> è¢«ç”¨ä½œä¸€ä¸ªå¯¹è±¡ï¼Œä½ å¯ä»¥é…ç½®ä¸¤ä¸ªå±æ€§ï¼š</p> <ul> <li>encoding: å½“è¢«è®¾ç½®ä¸º<code>'base64'</code>ï¼Œæ¨¡å—æºç ä¼šç”¨ Baes64ç®—æ³• ç¼–ç ã€‚è®¾ç½® <code>encoding</code> ä¸º falseï¼Œä¼šç¦ç”¨ç¼–ç ã€‚</li> <li>mimetype: ä¸ºæ•°æ®é“¾æ¥(data URI)è®¾ç½®çš„ä¸€ä¸ª mimetype å€¼ã€‚é»˜è®¤æ ¹æ®æ¨¡å—èµ„æºåç¼€è®¾ç½®ã€‚</li> </ul> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        generator<span class="token operator">:</span> <span class="token punctuation">{</span>
          encoding<span class="token operator">:</span> <span class="token string">'base64'</span><span class="token punctuation">,</span>
          mimetype<span class="token operator">:</span> <span class="token string">'mimetype/png'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å½“è¢«ä½œä¸ºä¸€ä¸ªå‡½æ•°ä½¿ç”¨ï¼Œå®ƒå¿…é¡»ä¸ºæ¯ä¸ªæ¨¡å—æ‰§è¡Œä¸”å¹¶é¡»è¿”å›ä¸€ä¸ªæ•°æ®é“¾æ¥(data URI)å­—ç¬¦ä¸²ã€‚</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        generator<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function-variable function">dataUrl</span><span class="token operator">:</span> <span class="token parameter">content</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> svgToMiniDataURI <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-svg-data-uri'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> content <span class="token operator">!==</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              content <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token function">svgToMiniDataURI</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="rulegeneratorfilename"><code>Rule.generator.filename</code> <a href="#rulegeneratorfilename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>å¯¹æŸäº›ç‰¹å®šçš„è§„åˆ™è€Œè¨€ä¸ <a href="../output/index.htm#outputassetmodulefilename" tppabs="https://webpack.docschina.org/configuration/output/#outputassetmodulefilename"><code>output.assetModuleFilename</code></a> ç›¸åŒ. è¦†ç›–äº† <code>output.assetModuleFilename</code> é€‰é¡¹å¹¶ä¸”ä»…ä¸ <code>asset</code> å’Œ <code>asset/resource</code> æ¨¡å—ç±»å‹ä¸€åŒèµ·ä½œç”¨ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    assetModuleFilename<span class="token operator">:</span> <span class="token string">'images/[hash][ext][query]'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.png</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'asset/resource'</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.html</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'asset/resource'</span><span class="token punctuation">,</span>
        generator<span class="token operator">:</span> <span class="token punctuation">{</span>
          filename<span class="token operator">:</span> <span class="token string">'static/[hash][ext]'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="ruleresource"><code>Rule.resource</code> <a href="#ruleresource" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="#%E6%9D%A1%E4%BB%B6"><code>æ¡ä»¶</code></a>ä¼šåŒ¹é… resourceã€‚åœ¨ <a href="#rule-conditions"><code>Rule</code> æ¡ä»¶</a> ä¸­æŸ¥é˜…è¯¦æƒ…ã€‚</p> <h2 id="ruleresourcequery"><code>Rule.resourceQuery</code> <a href="#ruleresourcequery" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>A <a href="#condition"><code>Condition</code></a> matched with the resource query. This option is used to test against the query section of a request string (i.e. from the question mark onwards). If you were to <code>import Foo from './foo.css?inline'</code>, the following condition would match:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        resourceQuery<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">inline</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token string">'url-loader'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="ruleparserparse"><code>Rule.parser.parse</code> <a href="#ruleparserparse" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>function(input) => string | object</code></p> <p>å¦‚æœ <code>Rule.type</code> è¢«è®¾ç½®æˆ <code>'json'</code>ï¼Œé‚£ä¹ˆ <code>Rules.parser.parse</code> é€‰æ‹©å¯èƒ½ä¼šæ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œè¯¥æ–¹æ³•å®ç°è‡ªå®šä¹‰çš„é€»è¾‘ï¼Œä»¥è§£ææ¨¡å—çš„æºå’Œå¹¶å°†å®ƒè½¬æ¢æˆ JavaScript <code>å¯¹è±¡</code>ã€‚ å®ƒå¯èƒ½åœ¨æ²¡æœ‰ç‰¹å®šåŠ è½½å™¨çš„æ—¶å€™ï¼Œå¯¹å°† <code>toml</code>, <code>yaml</code> å’Œå…¶å®ƒéJSONæ–‡ä»¶å¯¼å…¥æˆå¯¼å…¥éå¸¸æœ‰ç”¨ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> toml <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'toml'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.toml</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'json'</span><span class="token punctuation">,</span>
        parser<span class="token operator">:</span> <span class="token punctuation">{</span>
          parse<span class="token operator">:</span> toml<span class="token punctuation">.</span>parse
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="rulerules"><code>Rule.rules</code> <a href="#rulerules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="#rule"><code>è§„åˆ™</code></a>æ•°ç»„ï¼Œå½“è§„åˆ™åŒ¹é…æ—¶ä½¿ç”¨ã€‚</p> <blockquote class="tip"> <p>è¯¦æƒ…å‚é˜… <a href="#nested-rules"><code>åµŒå¥—è§„åˆ™</code></a> ã€‚</p> </blockquote> <h2 id="rulesideeffects"><code>Rule.sideEffects</code> <a href="#rulesideeffects" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>bool</code></p> <p>è¡¨æ˜æ¨¡å—çš„å“ªä¸€éƒ¨ä»½åŒ…å«å‰¯ä½œç”¨ã€‚è¯¦æƒ…å‚é˜… <a href="../../guides/tree-shaking/index.htm#mark-the-file-as-side-effect-free" tppabs="https://webpack.docschina.org/guides/tree-shaking/#mark-the-file-as-side-effect-free">Tree Shaking</a>ã€‚</p> <h2 id="ruletest"><code>Rule.test</code> <a href="#ruletest" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>å¼•å…¥æ‰€æœ‰é€šè¿‡æ–­è¨€æµ‹è¯•çš„æ¨¡å—ã€‚å¦‚æœä½ æä¾›äº†ä¸€ä¸ª <code>Rule.test</code> é€‰é¡¹ï¼Œå°±ä¸èƒ½å†æä¾› <code>Rule.resource</code>ã€‚è¯¦ç»†è¯·æŸ¥çœ‹ <a href="#rule-resource"><code>Rule.resource</code></a> å’Œ <a href="#condition"><code>Condition.test</code></a>ã€‚</p> <h2 id="ruletype"><code>Rule.type</code> <a href="#ruletype" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code></p> <p>å¯è®¾ç½®å€¼: <code>'javascript/auto' | 'javascript/dynamic' | 'javascript/esm' | 'json' | 'webassembly/sync' | 'webassembly/async' | 'asset' | 'asset/source' | 'asset/resource' | 'asset/inline'</code></p> <p><code>Rule.type</code> è®¾ç½®ç±»å‹ç”¨äºåŒ¹é…æ¨¡å—ã€‚å®ƒé˜²æ­¢äº† <code>defaultRules</code> å’Œå®ƒä»¬çš„é»˜è®¤å¯¼å…¥è¡Œä¸ºå‘ç”Ÿã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³ é€šè¿‡è‡ªå®šä¹‰ loader åŠ è½½ä¸€ä¸ª <code>.json</code> æ–‡ä»¶ï¼Œä½ ä¼šéœ€è¦å°† <code>type</code> è®¾ç½®ä¸º <code>javascript/auto</code> ä»¥ç»•è¿‡ webpack å†…ç½®çš„ json å¯¼å…¥ã€‚ ï¼ˆè¯¦å‚<a href="javascript:if(confirm('https://github.com/webpack/webpack/releases/tag/v4.0.0  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/releases/tag/v4.0.0'" tppabs="https://github.com/webpack/webpack/releases/tag/v4.0.0">v4.0 æ›´æ–°æ—¥å¿—</a>ï¼‰</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">//...</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.json$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">'javascript/auto'</span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">'custom-json-loader'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote> <p>å…³äº <code>asset*</code> ç±»å‹è¯¦å‚ <a href="../../guides/asset-modules/index.htm" tppabs="https://webpack.docschina.org/guides/asset-modules/">èµ„æºæ¨¡å—æŒ‡å—</a> ã€‚</p> </blockquote> <h2 id="ruleuse"><code>Rule.use</code> <a href="#ruleuse" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>[UseEntry]</code> <code>function(info)</code></p> <p><strong><code>[UseEntry]</code></strong></p> <p><code>Rule.use</code> å¯ä»¥æ˜¯ä¸€ä¸ªåº”ç”¨äºæ¨¡å—çš„ <a href="#useentry">UseEntries</a> æ•°ç»„ã€‚æ¯ä¸ªå…¥å£(entry)æŒ‡å®šä½¿ç”¨ä¸€ä¸ª loaderã€‚</p> <p>ä¼ é€’å­—ç¬¦ä¸²ï¼ˆå¦‚ï¼š<code>use: [ 'style-loader' ]</code>ï¼‰æ˜¯ loader å±æ€§çš„ç®€å†™æ–¹å¼ï¼ˆå¦‚ï¼š<code>use: [ { loader: 'style-loader'} ]</code>ï¼‰ã€‚</p> <p>Loaders å¯ä»¥é€šè¿‡ä¼ å…¥å¤šä¸ª loaders ä»¥è¾¾åˆ°é“¾å¼è°ƒç”¨çš„æ•ˆæœï¼Œå®ƒä»¬ä¼šä»å³åˆ°å·¦è¢«åº”ç”¨ï¼ˆä»æœ€ååˆ°æœ€å…ˆé…ç½®ï¼‰ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              importLoaders<span class="token operator">:</span> <span class="token number">1</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              noIeCompat<span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong><code>function(info)</code></strong></p> <p><code>Rule.use</code> ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—å¯¹è±¡å‚æ•°ï¼Œæè¿°è¢«åŠ è½½çš„æ¨¡å—ï¼Œè€Œä¸”å¿…é¡» è¿”å› <code>UseEntry</code> å…ƒç´ çš„æ•°ç»„ã€‚</p> <p><code>info</code> å¯¹è±¡å‚æ•°æœ‰ä»¥ä¸‹çš„å­—æ®µï¼š</p> <ul> <li><code>compiler</code>: å½“å‰ webpack çš„ç¼–è¯‘å™¨ï¼ˆå¯ä»¥æ˜¯ undefined å€¼ï¼‰</li> <li><code>issuer</code>: æ¨¡å—çš„è·¯å¾„ï¼Œè¯¥å…ƒç´ æ­£åœ¨å¯¼å…¥ä¸€ä¸ªè¢«åŠ è½½çš„æ¨¡å—(resource)</li> <li><code>realResource</code>: æ€»ä¼šæ˜¯è¢«åŠ è½½æ¨¡å—çš„è·¯å¾„</li> <li><code>resource</code>: è¢«åŠ è½½çš„æ¨¡å—è·¯å¾„ï¼Œå®ƒå¸¸å¸¸ä¸ <code>realResource</code> ç›¸ç­‰ï¼Œåªæœ‰å½“èµ„æºåç§°è¢« request å­—ç¬¦ä¸²ä¸­çš„ <code>!=!</code> è¦†ç›–æ—¶æ‰ä¸ç›¸ç­‰</li> </ul> <p>ç›¸åŒçš„ä½œä¸ºæ•°ç»„çš„å¿«æ·æ–¹å¼å¯ä»¥ç”¨ä½œè¿”å›å€¼ï¼ˆå¦‚ <code>use: [ 'style-loader' ]</code>ï¼‰ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token function-variable function">use</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'custom-svg-loader'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'svgo-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                cleanupIDs<span class="token operator">:</span> <span class="token punctuation">{</span> prefix<span class="token operator">:</span> <span class="token function">basename</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>resource<span class="token punctuation">)</span> <span class="token punctuation">}</span>
              <span class="token punctuation">}</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å‚å‚ <a href="#useentry">UseEntry</a>ã€‚</p> <h2 id="ruleresolve"><code>Rule.resolve</code> <a href="#ruleresolve" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <blockquote class="warning"> <p><code>Rule.resolve</code> ä» webpack 4.36.1 èµ·å¯ç”¨</p> </blockquote> <p>æ¨¡å—è§£æå¯ä»¥åœ¨æ¨¡å—å±‚è¢«é…ç½®ã€‚<a href="../resolve/index.htm#resolve" tppabs="https://webpack.docschina.org/configuration/resolve/#resolve">resolve é…ç½®é¡µé¢</a>å¯æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„é…ç½®ã€‚ æ‰€æœ‰è¢«åº”ç”¨çš„ resolve é€‰é¡¹è¢«æ›´é«˜å±‚çº§çš„<a href="../resolve/index.htm#resolve" tppabs="https://webpack.docschina.org/configuration/resolve/#resolve">resolve</a>é…ç½®åˆå¹¶ã€‚</p> <p>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå…¥å£æ–‡ä»¶åœ¨ <code>./src/index.js</code>, <code>./src/footer/default.js</code> å’Œä¸€ä¸ª <code>./src/footer/overridden.js</code>ï¼Œ ç”¨ä»¥è®ºè¯æ¨¡å—å±‚çº§çš„è§£æã€‚</p> <p><strong>./src/index.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">import</span> footer <span class="token keyword">from</span> <span class="token string">'footer'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>footer<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><strong>./src/footer/default.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token string">'default footer'</span><span class="token punctuation">;</span></code></pre> <p><strong>./src/footer/overridden.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token string">'overridden footer'</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.js.org</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'footer'</span><span class="token operator">:</span> <span class="token string">'./footer/default.js'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å½“ç”¨è¯¥é…ç½®åˆ›å»ºä¸€ä¸ªåŒ…ï¼Œ<code>console.log(footer)</code> ä¼šè¾“å‡º 'default footer'ã€‚è®©æˆ‘ä»¬ä¸º <code>.js</code> æ–‡ä»¶è®¾ç½® <code>Rule.resolve</code>ï¼Œä»¥åŠ <code>footer</code> ä½œä¸º <code>overridden.js</code> çš„åˆ«åã€‚</p> <p><strong>webpack.js.org</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'footer'</span><span class="token operator">:</span> <span class="token string">'./footer/default.js'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
          alias<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'footer'</span><span class="token operator">:</span> <span class="token string">'./footer/overridden.js'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å½“ç”¨è¯¥é…ç½®åˆ›å»ºä¸€ä¸ªåŒ…ï¼Œ<code>console.log(footer)</code> ä¼šè¾“å‡º 'overridden footer'ã€‚</p> <h3 id="resolve-fully-specified"><code>resolve.fullySpecified</code> <a href="#resolve-fully-specified" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å¯ç”¨åï¼Œä½ è‹¥åœ¨ <code>.mjs</code> æ–‡ä»¶æˆ–å…¶ä»– <code>.js</code> æ–‡ä»¶ä¸­å¯¼å…¥æ¨¡å—ï¼Œå¹¶ä¸”å®ƒä»¬æœ€è¿‘çš„ <code>package.json</code> ä¸­åŒ…å« <code>"type"</code> å­—æ®µï¼Œå…¶å€¼ä¸º <code>"module"</code>æ—¶ï¼Œä½ åº”ä¸ºæ­¤æ–‡ä»¶æä¾›æ‰©å±•åï¼Œå¦åˆ™ webpack ä¼šæç¤º <code>Module not found</code> çš„é”™è¯¯ä¸”ç¼–è¯‘å¤±è´¥ã€‚å¹¶ä¸” webpack ä¸ä¼šè§£æ <a href="../resolve/index.htm#resolvemainfiles" tppabs="https://webpack.docschina.org/configuration/resolve/#resolvemainfiles"><code>resolve.mainFiles</code></a> ä¸­å®šä¹‰çš„æ–‡ä»¶ç›®å½•ï¼Œä½ å¿…é¡»è‡ªå·±æŒ‡å®šæ–‡ä»¶åã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.m?js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
          fullySpecified<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// disable the behaviour</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p><code>resolve.fullySpecified</code> ä¸å½±å“æ¥è‡ª <a href="../resolve/index.htm#resolvemainfields" tppabs="https://webpack.docschina.org/configuration/resolve/#resolvemainfields">mainFields</a>ï¼Œ<a href="../resolve/index.htm#resolvealiasfields" tppabs="https://webpack.docschina.org/configuration/resolve/#resolvealiasfields">aliasFields</a> æˆ– <a href="../resolve/index.htm#resolvealias" tppabs="https://webpack.docschina.org/configuration/resolve/#resolvealias">aliases</a> çš„è¯·æ±‚ã€‚</p> </blockquote> <h2 id="condition"><code>æ¡ä»¶</code> <a href="#condition" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>æ¡ä»¶å¯ä»¥æ˜¯è¿™äº›ä¹‹ä¸€ï¼š</p> <ul> <li>å­—ç¬¦ä¸²ï¼šåŒ¹é…è¾“å…¥å¿…é¡»ä»¥æä¾›çš„å­—ç¬¦ä¸²å¼€å§‹ã€‚æ˜¯çš„ã€‚ç›®å½•ç»å¯¹è·¯å¾„æˆ–æ–‡ä»¶ç»å¯¹è·¯å¾„ã€‚</li> <li>æ­£åˆ™è¡¨è¾¾å¼ï¼štest è¾“å…¥å€¼ã€‚</li> <li>å‡½æ•°ï¼šè°ƒç”¨è¾“å…¥çš„å‡½æ•°ï¼Œå¿…é¡»è¿”å›ä¸€ä¸ªçœŸå€¼(truthy value)ä»¥åŒ¹é…ã€‚</li> <li>æ¡ä»¶æ•°ç»„ï¼šè‡³å°‘ä¸€ä¸ªåŒ¹é…æ¡ä»¶ã€‚</li> <li>å¯¹è±¡ï¼šåŒ¹é…æ‰€æœ‰å±æ€§ã€‚æ¯ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªå®šä¹‰è¡Œä¸ºã€‚</li> </ul> <p><code>{ and: [Condition] }</code>ï¼šå¿…é¡»åŒ¹é…æ•°ç»„ä¸­çš„æ‰€æœ‰æ¡ä»¶</p> <p><code>{ or: [Condition] }</code>ï¼šåŒ¹é…æ•°ç»„ä¸­ä»»ä½•ä¸€ä¸ªæ¡ä»¶</p> <p><code>{ not: [Condition] }</code>ï¼šå¿…é¡»æ’é™¤è¿™ä¸ªæ¡ä»¶</p> <p><strong>ç¤ºä¾‹:</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        include<span class="token operator">:</span> <span class="token punctuation">[</span>
          path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'app/styles'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'vendor/styles'</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="useentry"><code>UseEntry</code> <a href="#useentry" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object</code> <code>function(info)</code></p> <p><strong><code>object</code></strong></p> <p>å¿…é¡»æœ‰ä¸€ä¸ª <code>loader</code> å±æ€§æ˜¯å­—ç¬¦ä¸²ã€‚å®ƒä½¿ç”¨ loader è§£æé€‰é¡¹ï¼ˆ<a href="../resolve.htm#resolveloader" tppabs="https://webpack.docschina.org/configuration/resolve#resolveloader">resolveLoader</a>ï¼‰ï¼Œç›¸å¯¹äºé…ç½®ä¸­çš„ <a href="../entry-context.htm#context" tppabs="https://webpack.docschina.org/configuration/entry-context#context"><code>context</code></a> æ¥è§£æã€‚</p> <p>å¯ä»¥æœ‰ä¸€ä¸ª <code>options</code> å±æ€§ä¸ºå­—ç¬¦ä¸²æˆ–å¯¹è±¡ã€‚å€¼å¯ä»¥ä¼ é€’åˆ° loader ä¸­ï¼Œå°†å…¶ç†è§£ä¸º loader é€‰é¡¹ã€‚</p> <p>ç”±äºå…¼å®¹æ€§åŸå› ï¼Œä¹Ÿå¯èƒ½æœ‰ <code>query</code> å±æ€§ï¼Œå®ƒæ˜¯ <code>options</code> å±æ€§çš„åˆ«åã€‚ä½¿ç”¨ <code>options</code> å±æ€§æ›¿ä»£ã€‚</p> <p>æ³¨æ„ï¼Œwebpack éœ€è¦ç”Ÿæˆèµ„æºå’Œæ‰€æœ‰ loader çš„ç‹¬ç«‹æ¨¡å—æ ‡è¯†ï¼ŒåŒ…æ‹¬é€‰é¡¹ã€‚ å®ƒå°è¯•å¯¹é€‰é¡¹å¯¹è±¡ä½¿ç”¨ <code>JSON.stringify</code>ã€‚è¿™åœ¨ 99.9% çš„æƒ…å†µä¸‹æ˜¯å¯ä»¥çš„ï¼Œ ä½†æ˜¯å¦‚æœå°†ç›¸åŒçš„ loader åº”ç”¨äºç›¸åŒèµ„æºçš„ä¸åŒé€‰é¡¹ï¼Œå¹¶ä¸”é€‰é¡¹å…·æœ‰ä¸€äº›å¸¦å­—ç¬¦çš„å€¼ï¼Œåˆ™å¯èƒ½ä¸æ˜¯å”¯ä¸€çš„ã€‚</p> <p>å¦‚æœé€‰é¡¹å¯¹è±¡ä¸è¢«å­—ç¬¦åŒ–ï¼ˆä¾‹å¦‚å¾ªç¯ JSONï¼‰ï¼Œå®ƒä¹Ÿä¼šä¸­æ–­ã€‚å› æ­¤ï¼Œä½ å¯ä»¥åœ¨é€‰é¡¹å¯¹è±¡ä½¿ç”¨ <code>ident</code> å±æ€§ï¼Œ ä½œä¸ºå”¯ä¸€æ ‡è¯†ç¬¦ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          modules<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong><code>function(info)</code></strong></p> <p><code>UseEntry</code> ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—å¯¹è±¡å‚æ•°ï¼Œæè¿°è¢«åŠ è½½çš„æ¨¡å—ï¼Œè€Œä¸”å¿…é¡»è¿”å›ä¸€ä¸ªå‚æ•°å¯¹è±¡ã€‚ è¿™å¯ç”¨äºæŒ‰æ¨¡å—æ›´æ”¹ loader é€‰é¡¹ã€‚</p> <p><code>info</code> å¯¹è±¡å‚æ•°æœ‰ä»¥ä¸‹çš„å­—æ®µï¼š</p> <ul> <li><code>compiler</code>: å½“å‰ webpack çš„ç¼–è¯‘å™¨ï¼ˆå¯ä»¥æ˜¯ undefined å€¼ï¼‰</li> <li><code>issuer</code>: æ¨¡å—çš„è·¯å¾„ï¼Œè¯¥å…ƒç´ æ­£åœ¨å¯¼å…¥ä¸€ä¸ªè¢«åŠ è½½çš„æ¨¡å—(resource)</li> <li><code>realResource</code>: æ€»ä¼šæ˜¯è¢«åŠ è½½æ¨¡å—çš„è·¯å¾„</li> <li><code>resource</code>: è¢«åŠ è½½çš„æ¨¡å—è·¯å¾„ï¼Œå®ƒå¸¸å¸¸ä¸ <code>realResource</code> ç›¸ç­‰ï¼Œåªæœ‰å½“èµ„æºåç§°è¢« request å­—ç¬¦ä¸²ä¸­çš„ <code>!=!</code> è¦†ç›–æ—¶æ‰ä¸ç›¸ç­‰</li> </ul> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        loader<span class="token operator">:</span> <span class="token string">'file-loader'</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          outputPath<span class="token operator">:</span> <span class="token string">'svgs'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        loader<span class="token operator">:</span> <span class="token string">'svgo-loader'</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            cleanupIDs<span class="token operator">:</span> <span class="token punctuation">{</span> prefix<span class="token operator">:</span> <span class="token function">basename</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>resource<span class="token punctuation">)</span> <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="module-contexts">æ¨¡å—ä¸Šä¸‹æ–‡(Module Contexts) <a href="#module-contexts" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <blockquote> <p>é¿å…ä½¿ç”¨è¿™äº›é€‰é¡¹ï¼Œå› ä¸ºå®ƒä»¬ <strong>å·²åºŸå¼ƒ</strong>ï¼Œå¹¶å°†å¾ˆå¿«åˆ é™¤ã€‚</p> </blockquote> <p>è¿™äº›é€‰é¡¹æè¿°äº†å½“é‡åˆ°åŠ¨æ€ä¾èµ–æ—¶ï¼Œåˆ›å»ºä¸Šä¸‹æ–‡çš„é»˜è®¤è®¾ç½®ã€‚</p> <p>ä¾‹å¦‚ï¼Œ<code>æœªçŸ¥çš„(unknown)</code> åŠ¨æ€ä¾èµ–ï¼š<code>require</code>ã€‚</p> <p>ä¾‹å¦‚ï¼Œ<code>è¡¨è¾¾å¼(expr)</code> åŠ¨æ€ä¾èµ–ï¼š<code>require(expr)</code>ã€‚</p> <p>ä¾‹å¦‚ï¼Œ<code>åŒ…è£¹çš„(wrapped)</code> åŠ¨æ€ä¾èµ–ï¼š<code>require('./templates/' + expr)</code>ã€‚</p> <p>ä»¥ä¸‹æ˜¯å…¶<a href="../../../github.com/webpack/webpack/blob/master/lib/config/defaults.js" tppabs="https://github.com/webpack/webpack/blob/master/lib/config/defaults.js">é»˜è®¤å€¼</a>çš„å¯ç”¨é€‰é¡¹</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    exprContextCritical<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    exprContextRecursive<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    exprContextRegExp<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    exprContextRequest<span class="token operator">:</span> <span class="token string">'.'</span><span class="token punctuation">,</span>
    unknownContextCritical<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    unknownContextRecursive<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    unknownContextRegExp<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    unknownContextRequest<span class="token operator">:</span> <span class="token string">'.'</span><span class="token punctuation">,</span>
    wrappedContextCritical<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    wrappedContextRecursive<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    wrappedContextRegExp<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    strictExportPresence<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// since webpack 2.3.0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p>ä½ å¯ä»¥ä½¿ç”¨ <code>ContextReplacementPlugin</code> æ¥ä¿®æ”¹è¿™äº›å•ä¸ªä¾èµ–çš„å€¼ã€‚è¿™ä¹Ÿä¼šåˆ é™¤è­¦å‘Šã€‚</p> </blockquote> <p>å‡ ä¸ªç”¨ä¾‹ï¼š</p> <ul> <li>åŠ¨æ€ä¾èµ–çš„è­¦å‘Šï¼š<code>wrappedContextCritical: true</code>ã€‚</li> <li><code>require(expr)</code> åº”è¯¥åŒ…å«æ•´ä¸ªç›®å½•ï¼š<code>exprContextRegExp: /^\.\//</code></li> <li><code>require("./templates/" + expr)</code> ä¸åº”è¯¥åŒ…å«é»˜è®¤å­ç›®å½•ï¼š<code>wrappedContextRecursive: false</code></li> <li><code>strictExportPresence</code> å°†ç¼ºå¤±çš„å¯¼å‡ºæç¤ºæˆé”™è¯¯è€Œä¸æ˜¯è­¦å‘Š</li> <li>ä¸ºéƒ¨åˆ†åŠ¨æ€ä¾èµ–é¡¹è®¾ç½®å†…éƒ¨æ­£åˆ™è¡¨è¾¾å¼ï¼š<code>wrappedContextRegExp: /\\.\\*/</code></li> </ul> <h1 id="è§£æResolve">è§£æ(Resolve)<a href="#%E8%A7%A3%E6%9E%90Resolve" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>è¿™äº›é€‰é¡¹èƒ½è®¾ç½®æ¨¡å—å¦‚ä½•è¢«è§£æã€‚webpack æä¾›åˆç†çš„é»˜è®¤å€¼ï¼Œä½†æ˜¯è¿˜æ˜¯å¯èƒ½ä¼šä¿®æ”¹ä¸€äº›è§£æçš„ç»†èŠ‚ã€‚ å…³äº resolver å…·ä½“å¦‚ä½•å·¥ä½œçš„æ›´å¤šè§£é‡Šè¯´æ˜ï¼Œè¯·æŸ¥çœ‹<a href="../../concepts/module-resolution.htm" tppabs="https://webpack.docschina.org/concepts/module-resolution">æ¨¡å—è§£æ</a>ã€‚</p> <h2 id="resolve"><code>resolve</code> <a href="#resolve" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object</code></p> <p>é…ç½®æ¨¡å—å¦‚ä½•è§£æã€‚ä¾‹å¦‚ï¼Œå½“åœ¨ ES2015 ä¸­è°ƒç”¨ <code>import 'lodash'</code>ï¼Œ<code>resolve</code> é€‰é¡¹èƒ½å¤Ÿå¯¹ webpack æŸ¥æ‰¾ <code>'lodash'</code> çš„æ–¹å¼å»åšä¿®æ”¹ï¼ˆæŸ¥çœ‹<a href="#resolve-modules"><code>æ¨¡å—</code></a>ï¼‰ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// configuration options</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="resolvealias"><code>resolve.alias</code> <a href="#resolvealias" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>object</code></p> <p>åˆ›å»º <code>import</code> æˆ– <code>require</code> çš„åˆ«åï¼Œæ¥ç¡®ä¿æ¨¡å—å¼•å…¥å˜å¾—æ›´ç®€å•ã€‚ä¾‹å¦‚ï¼Œä¸€äº›ä½äº <code>src/</code> æ–‡ä»¶å¤¹ä¸‹çš„å¸¸ç”¨æ¨¡å—ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      Utilities<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/utilities/'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      Templates<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/templates/'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ç°åœ¨ï¼Œæ›¿æ¢â€œåœ¨å¯¼å…¥æ—¶ä½¿ç”¨ç›¸å¯¹è·¯å¾„â€è¿™ç§æ–¹å¼ï¼Œå°±åƒè¿™æ ·ï¼š</p> <pre><code class="hljs language-js"><span class="token keyword">import</span> Utility <span class="token keyword">from</span> <span class="token string">'../../utilities/utility'</span><span class="token punctuation">;</span></code></pre> <p>ä½ å¯ä»¥è¿™æ ·ä½¿ç”¨åˆ«åï¼š</p> <pre><code class="hljs language-js"><span class="token keyword">import</span> Utility <span class="token keyword">from</span> <span class="token string">'Utilities/utility'</span><span class="token punctuation">;</span></code></pre> <p>ä¹Ÿå¯ä»¥åœ¨ç»™å®šå¯¹è±¡çš„é”®åçš„æœ«å°¾æ·»åŠ  <code>$</code>ï¼Œä»¥è¡¨ç¤ºç²¾å‡†åŒ¹é…ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      xyz$<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'path/to/file.js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>è¿™å°†äº§ç”Ÿä»¥ä¸‹ç»“æœï¼š</p> <pre><code class="hljs language-js"><span class="token keyword">import</span> Test1 <span class="token keyword">from</span> <span class="token string">'xyz'</span><span class="token punctuation">;</span> <span class="token comment">// ç²¾ç¡®åŒ¹é…ï¼Œæ‰€ä»¥ path/to/file.js è¢«è§£æå’Œå¯¼å…¥</span>
<span class="token keyword">import</span> Test2 <span class="token keyword">from</span> <span class="token string">'xyz/file.js'</span><span class="token punctuation">;</span> <span class="token comment">// éç²¾ç¡®åŒ¹é…ï¼Œè§¦å‘æ™®é€šè§£æ</span></code></pre> <p>ä¸‹é¢çš„è¡¨æ ¼å±•ç¤ºäº†ä¸€äº›å…¶ä»–æƒ…å†µï¼š</p> <table> <thead> <tr> <th><code>alias:</code></th> <th><code>import 'xyz'</code></th> <th><code>import 'xyz/file.js'</code></th> </tr> </thead> <tbody> <tr> <td data-th="alias:"><span><code>{}</code></span></td> <td data-th="import &#x27;xyz&#x27;"><span><code>/abc/node_modules/xyz/index.js</code></span></td> <td data-th="import &#x27;xyz/file.js&#x27;"><span><code>/abc/node_modules/xyz/file.js</code></span></td> </tr> <tr> <td data-th="alias:"><span><code>{ xyz: '/abc/path/to/file.js' }</code></span></td> <td data-th="import &#x27;xyz&#x27;"><span><code>/abc/path/to/file.js</code></span></td> <td data-th="import &#x27;xyz/file.js&#x27;"><span>error</span></td> </tr> <tr> <td data-th="alias:"><span><code>{ xyz$: '/abc/path/to/file.js' }</code></span></td> <td data-th="import &#x27;xyz&#x27;"><span><code>/abc/path/to/file.js</code></span></td> <td data-th="import &#x27;xyz/file.js&#x27;"><span><code>/abc/node_modules/xyz/file.js</code></span></td> </tr> <tr> <td data-th="alias:"><span><code>{ xyz: './dir/file.js' }</code></span></td> <td data-th="import &#x27;xyz&#x27;"><span><code>/abc/dir/file.js</code></span></td> <td data-th="import &#x27;xyz/file.js&#x27;"><span>error</span></td> </tr> <tr> <td data-th="alias:"><span><code>{ xyz$: './dir/file.js' }</code></span></td> <td data-th="import &#x27;xyz&#x27;"><span><code>/abc/dir/file.js</code></span></td> <td data-th="import &#x27;xyz/file.js&#x27;"><span><code>/abc/node_modules/xyz/file.js</code></span></td> </tr> <tr> <td data-th="alias:"><span><code>{ xyz: '/some/dir' }</code></span></td> <td data-th="import &#x27;xyz&#x27;"><span><code>/some/dir/index.js</code></span></td> <td data-th="import &#x27;xyz/file.js&#x27;"><span><code>/some/dir/file.js</code></span></td> </tr> <tr> <td data-th="alias:"><span><code>{ xyz$: '/some/dir' }</code></span></td> <td data-th="import &#x27;xyz&#x27;"><span><code>/some/dir/index.js</code></span></td> <td data-th="import &#x27;xyz/file.js&#x27;"><span><code>/abc/node_modules/xyz/file.js</code></span></td> </tr> <tr> <td data-th="alias:"><span><code>{ xyz: './dir' }</code></span></td> <td data-th="import &#x27;xyz&#x27;"><span><code>/abc/dir/index.js</code></span></td> <td data-th="import &#x27;xyz/file.js&#x27;"><span><code>/abc/dir/file.js</code></span></td> </tr> <tr> <td data-th="alias:"><span><code>{ xyz: 'modu' }</code></span></td> <td data-th="import &#x27;xyz&#x27;"><span><code>/abc/node_modules/modu/index.js</code></span></td> <td data-th="import &#x27;xyz/file.js&#x27;"><span><code>/abc/node_modules/modu/file.js</code></span></td> </tr> <tr> <td data-th="alias:"><span><code>{ xyz$: 'modu' }</code></span></td> <td data-th="import &#x27;xyz&#x27;"><span><code>/abc/node_modules/modu/index.js</code></span></td> <td data-th="import &#x27;xyz/file.js&#x27;"><span><code>/abc/node_modules/xyz/file.js</code></span></td> </tr> <tr> <td data-th="alias:"><span><code>{ xyz: 'modu/some/file.js' }</code></span></td> <td data-th="import &#x27;xyz&#x27;"><span><code>/abc/node_modules/modu/some/file.js</code></span></td> <td data-th="import &#x27;xyz/file.js&#x27;"><span>error</span></td> </tr> <tr> <td data-th="alias:"><span><code>{ xyz: 'modu/dir' }</code></span></td> <td data-th="import &#x27;xyz&#x27;"><span><code>/abc/node_modules/modu/dir/index.js</code></span></td> <td data-th="import &#x27;xyz/file.js&#x27;"><span><code>/abc/node_modules/modu/dir/file.js</code></span></td> </tr> <tr> <td data-th="alias:"><span><code>{ xyz$: 'modu/dir' }</code></span></td> <td data-th="import &#x27;xyz&#x27;"><span><code>/abc/node_modules/modu/dir/index.js</code></span></td> <td data-th="import &#x27;xyz/file.js&#x27;"><span><code>/abc/node_modules/xyz/file.js</code></span></td> </tr> </tbody> </table> <p>å¦‚æœåœ¨ <code>package.json</code> ä¸­å®šä¹‰ï¼Œ<code>index.js</code> å¯èƒ½ä¼šè¢«è§£æä¸ºå¦ä¸€ä¸ªæ–‡ä»¶ã€‚</p> <p><code>/abc/node_modules</code> ä¹Ÿå¯èƒ½åœ¨ <code>/node_modules</code> ä¸­è§£æã€‚</p> <blockquote class="warning"> <p><code>resolve.alias</code> ä¼˜å…ˆçº§é«˜äºå…¶å®ƒæ¨¡å—è§£ææ–¹å¼ã€‚</p> </blockquote> <blockquote class="warning"> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/null-loader  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/null-loader'" tppabs="https://github.com/webpack-contrib/null-loader"><code>null-loader</code></a> åœ¨webpack5ä¸­è¢«åºŸå¼ƒã€‚ä½¿ç”¨ <code>alias: { xyz$: false }</code> æˆ–ç»å¯¹è·¯å¾„ <code>alias: {[path.resolve(__dirname, './path/to/module')]: false }</code></p> </blockquote> <blockquote class="warning"> <p><code>[string]</code> å­—ç¬¦ä¸²å€¼åœ¨ webapck 5 ä¸­è¢«æ”¯æŒã€‚</p> </blockquote> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      _<span class="token operator">:</span> <span class="token punctuation">[</span>
        path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/utilities/'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/templates/'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å°† <code>resolve.alias</code> è®¾ç½®ä¸º <code>false</code> å°†å‘ŠçŸ¥ webpack å¿½ç•¥æ¨¡å—ã€‚</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'ignored-module'</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token string">'./ignored-module'</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="resolvealiasfields"><code>resolve.aliasFields</code> <a href="#resolvealiasfields" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>[string]: ['browser']</code></p> <p>æŒ‡å®šä¸€ä¸ªå­—æ®µï¼Œä¾‹å¦‚ <code>browser</code>ï¼Œæ ¹æ® <a href="javascript:if(confirm('https://github.com/defunctzombie/package-browser-field-spec  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/defunctzombie/package-browser-field-spec'" tppabs="https://github.com/defunctzombie/package-browser-field-spec">æ­¤è§„èŒƒ</a>è¿›è¡Œè§£æã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    aliasFields<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'browser'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="resolvecachewithcontext"><code>resolve.cacheWithContext</code> <a href="#resolvecachewithcontext" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean</code> (ä» webpack 3.1.0èµ·æ”¯æŒ)</p> <p>å¦‚æœå¯ç”¨äº†ä¸å®‰å…¨ç¼“å­˜ï¼Œè¯·åœ¨ç¼“å­˜é”®(cache key)ä¸­å¼•å…¥ <code>request.context</code>ã€‚è¿™ä¸ªé€‰é¡¹è¢« <a href="javascript:if(confirm('https://github.com/webpack/enhanced-resolve/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/enhanced-resolve/'" tppabs="https://github.com/webpack/enhanced-resolve/"><code>enhanced-resolve</code></a> æ¨¡å—è€ƒè™‘åœ¨å†…ã€‚ä» webpack 3.1.0 å¼€å§‹ï¼Œåœ¨é…ç½®äº† resolve æˆ– resolveLoader æ’ä»¶æ—¶ï¼Œè§£æç¼“å­˜(resolve caching)ä¸­çš„ä¸Šä¸‹æ–‡(context)ä¼šè¢«å¿½ç•¥ã€‚ è¿™è§£å†³äº†æ€§èƒ½è¡°é€€çš„é—®é¢˜ã€‚</p> <h3 id="resolvedescriptionfiles"><code>resolve.descriptionFiles</code> <a href="#resolvedescriptionfiles" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>[string] = ['package.json']</code></p> <p>ç”¨äºæè¿°çš„ JSON æ–‡ä»¶ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    descriptionFiles<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'package.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="resolveenforceextension"><code>resolve.enforceExtension</code> <a href="#resolveenforceextension" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = false</code></p> <p>å¦‚æœæ˜¯ <code>true</code>ï¼Œå°†ä¸å…è®¸æ— æ‰©å±•åæ–‡ä»¶ã€‚é»˜è®¤å¦‚æœ <code>./foo</code> æœ‰ <code>.js</code> æ‰©å±•ï¼Œ<code>require('./foo')</code> å¯ä»¥æ­£å¸¸è¿è¡Œã€‚ä½†å¦‚æœå¯ç”¨æ­¤é€‰é¡¹ï¼Œåªæœ‰ <code>require('./foo.js')</code> èƒ½å¤Ÿæ­£å¸¸å·¥ä½œã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    enforceExtension<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="resolveenforcemoduleextension"><code>resolve.enforceModuleExtension</code> <a href="#resolveenforcemoduleextension" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = false</code></p> <blockquote class="warning"> <p>åœ¨ webpack 5 ä¸­è¢«åºŸå¼ƒ</p> </blockquote> <p>å‘ŠçŸ¥ webpack æ˜¯å¦è¦æ±‚æ¨¡å—ä½¿ç”¨åç¼€ï¼ˆä¾‹å¦‚åŠ è½½å™¨ loadersï¼‰ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    enforceModuleExtension<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="resolveextensions"><code>resolve.extensions</code> <a href="#resolveextensions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>[string] = ['.wasm', '.mjs', '.js', '.json']</code></p> <p>å°è¯•æŒ‰é¡ºåºè§£æè¿™äº›åç¼€åã€‚</p> <blockquote class="warning"> <p>å¦‚æœæœ‰å¤šä¸ªæ–‡ä»¶æœ‰ç›¸åŒçš„åå­—ï¼Œä½†åç¼€åä¸åŒï¼Œwebpack ä¼šè§£æåˆ—åœ¨æ•°ç»„é¦–ä½çš„åç¼€çš„æ–‡ä»¶ å¹¶è·³è¿‡å…¶ä½™çš„åç¼€ã€‚</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.wasm'</span><span class="token punctuation">,</span> <span class="token string">'.mjs'</span><span class="token punctuation">,</span> <span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>èƒ½å¤Ÿä½¿ç”¨æˆ·åœ¨å¼•å…¥æ¨¡å—æ—¶ä¸å¸¦æ‰©å±•ï¼š</p> <pre><code class="hljs language-js"><span class="token keyword">import</span> File <span class="token keyword">from</span> <span class="token string">'../path/to/file'</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p>ä½¿ç”¨æ­¤é€‰é¡¹ä¼š <strong>è¦†ç›–é»˜è®¤æ•°ç»„</strong>ï¼Œè¿™å°±æ„å‘³ç€ webpack å°†ä¸å†å°è¯•ä½¿ç”¨é»˜è®¤æ‰©å±•æ¥è§£ææ¨¡å—ã€‚</p> </blockquote> <h3 id="resolvemainfields"><code>resolve.mainFields</code> <a href="#resolvemainfields" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>[string]</code></p> <p>å½“ä» npm åŒ…ä¸­å¯¼å…¥æ¨¡å—æ—¶ï¼ˆä¾‹å¦‚ï¼Œ<code>import * as D3 from 'd3'</code>ï¼‰ï¼Œæ­¤é€‰é¡¹å°†å†³å®šåœ¨ <code>package.json</code> ä¸­ä½¿ç”¨å“ªä¸ªå­—æ®µå¯¼å…¥æ¨¡å—ã€‚æ ¹æ® webpack é…ç½®ä¸­æŒ‡å®šçš„ <a href="../../concepts/targets.htm" tppabs="https://webpack.docschina.org/concepts/targets"><code>target</code></a> ä¸åŒï¼Œé»˜è®¤å€¼ä¹Ÿä¼šæœ‰æ‰€ä¸åŒã€‚</p> <p>å½“ <code>target</code> å±æ€§è®¾ç½®ä¸º <code>webworker</code>, <code>web</code> æˆ–è€…æ²¡æœ‰æŒ‡å®šï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    mainFields<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'browser'</span><span class="token punctuation">,</span> <span class="token string">'module'</span><span class="token punctuation">,</span> <span class="token string">'main'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å¯¹äºå…¶ä»–ä»»æ„çš„ targetï¼ˆåŒ…æ‹¬ <code>node</code>ï¼‰ï¼Œé»˜è®¤å€¼ä¸ºï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    mainFields<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'module'</span><span class="token punctuation">,</span> <span class="token string">'main'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ä¾‹å¦‚ï¼Œè€ƒè™‘ä»»æ„ä¸€ä¸ªåä¸º <code>upstream</code> çš„ç±»åº“ <code>package.json</code> åŒ…å«ä»¥ä¸‹å­—æ®µï¼š</p> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"browser"</span><span class="token operator">:</span> <span class="token string">"build/upstream.js"</span><span class="token punctuation">,</span>
  <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"index"</span>
<span class="token punctuation">}</span></code></pre> <p>åœ¨æˆ‘ä»¬ <code>import * as Upstream from 'upstream'</code> æ—¶ï¼Œè¿™å®é™…ä¸Šä¼šä» <code>browser</code> å±æ€§è§£ææ–‡ä»¶ã€‚ åœ¨è¿™é‡Œ <code>browser</code> å±æ€§æ˜¯æœ€ä¼˜å…ˆé€‰æ‹©çš„ï¼Œå› ä¸ºå®ƒæ˜¯ <code>mainFields</code> çš„ç¬¬ä¸€é¡¹ã€‚åŒæ—¶ï¼Œç”± webpack æ‰“åŒ…çš„ Node.js åº”ç”¨ç¨‹åºé¦–å…ˆä¼šå°è¯• ä» <code>module</code> å­—æ®µä¸­è§£ææ–‡ä»¶ã€‚</p> <h3 id="resolvemainfiles"><code>resolve.mainFiles</code> <a href="#resolvemainfiles" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>[string] = ['index']</code></p> <p>è§£æç›®å½•æ—¶è¦ä½¿ç”¨çš„æ–‡ä»¶åã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    mainFiles<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'index'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="resolveexportsfields"><code>resolve.exportsFields</code> <a href="#resolveexportsfields" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>[string] = ['exports']</code></p> <p>åœ¨ package.json ä¸­ç”¨äºè§£ææ¨¡å—è¯·æ±‚çš„å­—æ®µã€‚æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥é˜… <a href="../../guides/package-exports/index.htm" tppabs="https://webpack.docschina.org/guides/package-exports/">package-exports guideline</a> æ–‡æ¡£ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    exportsFields<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'exports'</span><span class="token punctuation">,</span> <span class="token string">'myCompanyExports'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="resolvemodules"><code>resolve.modules</code> <a href="#resolvemodules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>[string] = ['node_modules']</code></p> <p>å‘Šè¯‰ webpack è§£ææ¨¡å—æ—¶åº”è¯¥æœç´¢çš„ç›®å½•ã€‚</p> <p>ç»å¯¹è·¯å¾„å’Œç›¸å¯¹è·¯å¾„éƒ½èƒ½ä½¿ç”¨ï¼Œä½†æ˜¯è¦çŸ¥é“å®ƒä»¬ä¹‹é—´æœ‰ä¸€ç‚¹å·®å¼‚ã€‚</p> <p>é€šè¿‡æŸ¥çœ‹å½“å‰ç›®å½•ä»¥åŠç¥–å…ˆè·¯å¾„ï¼ˆå³ <code>./node_modules</code>, <code>../node_modules</code> ç­‰ç­‰ï¼‰ï¼Œ ç›¸å¯¹è·¯å¾„å°†ç±»ä¼¼äº Node æŸ¥æ‰¾ 'node_modules' çš„æ–¹å¼è¿›è¡ŒæŸ¥æ‰¾ã€‚</p> <p>ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œå°†åªåœ¨ç»™å®šç›®å½•ä¸­æœç´¢ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    modules<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'node_modules'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å¦‚æœä½ æƒ³è¦æ·»åŠ ä¸€ä¸ªç›®å½•åˆ°æ¨¡å—æœç´¢ç›®å½•ï¼Œæ­¤ç›®å½•ä¼˜å…ˆäº <code>node_modules/</code> æœç´¢ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    modules<span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'node_modules'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="resolveunsafecache"><code>resolve.unsafeCache</code> <a href="#resolveunsafecache" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>RegExp</code> <code>[RegExp]</code> <code>boolean: true</code></p> <p>å¯ç”¨ï¼Œä¼šä¸»åŠ¨ç¼“å­˜æ¨¡å—ï¼Œä½†å¹¶ <strong>ä¸å®‰å…¨</strong>ã€‚ä¼ é€’ <code>true</code> å°†ç¼“å­˜ä¸€åˆ‡ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    unsafeCache<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ–æ­£åˆ™è¡¨è¾¾å¼æ•°ç»„ï¼Œå¯ä»¥ç”¨äºåŒ¹é…æ–‡ä»¶è·¯å¾„æˆ–åªç¼“å­˜æŸäº›æ¨¡å—ã€‚ ä¾‹å¦‚ï¼Œåªç¼“å­˜ utilities æ¨¡å—ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    unsafeCache<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">src\/utilities</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p>ä¿®æ”¹ç¼“å­˜è·¯å¾„å¯èƒ½åœ¨æå°‘æ•°æƒ…å†µä¸‹å¯¼è‡´å¤±è´¥ã€‚</p> </blockquote> <h3 id="resolveplugins"><code>resolve.plugins</code> <a href="#resolveplugins" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><a href="../../plugins/index.htm" tppabs="https://webpack.docschina.org/plugins/"><code>[Plugin]</code></a></p> <p>åº”è¯¥ä½¿ç”¨çš„é¢å¤–çš„è§£ææ’ä»¶åˆ—è¡¨ã€‚ å®ƒå…è®¸æ’ä»¶ï¼Œå¦‚ <a href="javascript:if(confirm('https://www.npmjs.com/package/directory-named-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.npmjs.com/package/directory-named-webpack-plugin'" tppabs="https://www.npmjs.com/package/directory-named-webpack-plugin"><code>DirectoryNamedWebpackPlugin</code></a>ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">DirectoryNamedWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="resolvepreferrelative"><code>resolve.preferRelative</code> <a href="#resolvepreferrelative" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean</code></p> <p>å½“å¯ç”¨æ­¤é€‰é¡¹æ—¶ï¼Œwebpack æ›´å€¾å‘äºå°†æ¨¡å—è¯·æ±‚è§£æä¸ºç›¸å¯¹è¯·æ±‚ï¼Œè€Œä¸ä½¿ç”¨æ¥è‡ª <code>node_modules</code> ç›®å½•ä¸‹çš„æ¨¡å—ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    preferRelative<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>src/index.js</strong></p> <pre><code class="hljs language-js"><span class="token comment">// let's say `src/logo.svg` exists</span>
<span class="token keyword">import</span> logo1 <span class="token keyword">from</span> <span class="token string">'logo.svg'</span><span class="token punctuation">;</span> <span class="token comment">// this is viable when `preferRelative` enabled</span>
<span class="token keyword">import</span> logo2 <span class="token keyword">from</span> <span class="token string">'./logo.svg'</span><span class="token punctuation">;</span> <span class="token comment">// otherwise you can only use relative path to resolve logo.svg</span>

<span class="token comment">// `preferRelative` is enabled by default for `new URL()` case</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span><span class="token string">'module/path'</span><span class="token punctuation">,</span> <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span><span class="token string">'./module/path'</span><span class="token punctuation">,</span> <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="resolvesymlinks"><code>resolve.symlinks</code> <a href="#resolvesymlinks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>æ˜¯å¦å°†ç¬¦å·é“¾æ¥(symlink)è§£æåˆ°å®ƒä»¬çš„ç¬¦å·é“¾æ¥ä½ç½®(symlink location)ã€‚</p> <p>å¯ç”¨æ—¶ï¼Œç¬¦å·é“¾æ¥(symlink)çš„èµ„æºï¼Œå°†è§£æä¸ºå…¶ <em>çœŸå®</em> è·¯å¾„ï¼Œè€Œä¸æ˜¯å…¶ç¬¦å·é“¾æ¥(symlink)çš„ä½ç½®ã€‚æ³¨æ„ï¼Œå½“ä½¿ç”¨åˆ›å»ºç¬¦å·é“¾æ¥åŒ…çš„å·¥å…·ï¼ˆå¦‚ <code>npm link</code>ï¼‰æ—¶ï¼Œè¿™ç§æ–¹å¼å¯èƒ½ä¼šå¯¼è‡´æ¨¡å—è§£æå¤±è´¥ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    symlinks<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="resolvecachepredicate"><code>resolve.cachePredicate</code> <a href="#resolvecachepredicate" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function(module) => boolean</code></p> <p>å†³å®šè¯·æ±‚æ˜¯å¦åº”è¯¥è¢«ç¼“å­˜çš„å‡½æ•°ã€‚å‡½æ•°ä¼ å…¥ä¸€ä¸ªå¸¦æœ‰ <code>path</code> å’Œ <code>request</code> å±æ€§çš„å¯¹è±¡ã€‚ å¿…é¡»è¿”å›ä¸€ä¸ª boolean å€¼ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">cachePredicate</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token comment">// additional logic</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="resolverestrictions"><code>resolve.restrictions</code> <a href="#resolverestrictions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>[string, RegExp]</code></p> <p>è§£æé™åˆ¶åˆ—è¡¨ï¼Œç”¨äºé™åˆ¶å¯ä»¥è§£æè¯·æ±‚çš„è·¯å¾„ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    restrictions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(sass|scss|css)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="resolveroots"><code>resolve.roots</code> <a href="#resolveroots" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>[string]</code></p> <p>A list of directories where requests of server-relative URLs (starting with '/') are resolved, defaults to <a href="../entry-context/index.htm#context" tppabs="https://webpack.docschina.org/configuration/entry-context/#context"><code>context</code> configuration option</a>. On non-Windows systems these requests are resolved as an absolute path first.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> fixtures <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'fixtures'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    roots<span class="token operator">:</span> <span class="token punctuation">[</span>__dirname<span class="token punctuation">,</span> fixtures<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="resolveimportsFields"><code>resolve.importsFields</code><a href="#resolveimportsFields" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>[string]</code></p> <p>Fields from <code>package.json</code> which are used to provide the internal requests of a package (requests starting with <code>#</code> are considered internal).</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    importsFields<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'browser'</span><span class="token punctuation">,</span> <span class="token string">'module'</span><span class="token punctuation">,</span> <span class="token string">'main'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="resolvefallback"><code>resolve.fallback</code><a href="#resolvefallback" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean</code></p> <p>Redirect module requests when normal resolving fails.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    fallback<span class="token operator">:</span> <span class="token punctuation">{</span>
      xyz<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'path/to/file.js'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="resolveloader"><code>resolveLoader</code> <a href="#resolveloader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object { modules [string] = ['node_modules'], extensions [string] = ['.js', '.json'], mainFields [string] = ['loader', 'main']}</code></p> <p>è¿™ç»„é€‰é¡¹ä¸ä¸Šé¢çš„ <code>resolve</code> å¯¹è±¡çš„å±æ€§é›†åˆç›¸åŒï¼Œ ä½†ä»…ç”¨äºè§£æ webpack çš„ <a href="../../concepts/loaders.htm" tppabs="https://webpack.docschina.org/concepts/loaders">loader</a> åŒ…ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolveLoader<span class="token operator">:</span> <span class="token punctuation">{</span>
    modules<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'node_modules'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    mainFields<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'loader'</span><span class="token punctuation">,</span> <span class="token string">'main'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p>æ³¨æ„ï¼Œè¿™é‡Œä½ å¯ä»¥ä½¿ç”¨åˆ«åï¼Œå¹¶ä¸”å…¶ä»–ç‰¹æ€§ç±»ä¼¼äº resolve å¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œ<code>{ txt: 'raw-loader' }</code> ä¼šä½¿ç”¨ <code>raw-loader</code> å» shim(å¡«å……) <code>txt!templates/demo.txt</code>ã€‚</p> </blockquote> <h3 id="resolveloadermoduleextensions"><code>resolveLoader.moduleExtensions</code> <a href="#resolveloadermoduleextensions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>[string]</code></p> <blockquote class="warning"> <p>åœ¨ webpack 5 ä¸­è¢«åºŸå¼ƒ</p> </blockquote> <p>è§£æ loader æ—¶ï¼Œç”¨åˆ°æ‰©å±•å(extensions)/åç¼€(suffixes)ã€‚ä» webpack 2 å¼€å§‹ï¼Œæˆ‘ä»¬ <a href="../../migrate/3/index.htm#automatic-loader-module-name-extension-removed" tppabs="https://webpack.docschina.org/migrate/3/#automatic-loader-module-name-extension-removed">å¼ºçƒˆå»ºè®®</a> ä½¿ç”¨å…¨åï¼Œä¾‹å¦‚ <code>example-loader</code>ï¼Œä»¥å°½å¯èƒ½æ¸…æ™°ã€‚ç„¶è€Œï¼Œå¦‚æœä½ ç¡®å®æƒ³çœç•¥ <code>-loader</code>ï¼Œä¹Ÿå°±æ˜¯è¯´åªä½¿ç”¨ <code>example</code>ï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ­¤é€‰é¡¹æ¥å®ç°ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  resolveLoader<span class="token operator">:</span> <span class="token punctuation">{</span>
    moduleExtensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h1 id="ä¼˜åŒ–Optimization">ä¼˜åŒ–(Optimization)<a href="#%E4%BC%98%E5%8C%96Optimization" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>ä» webpack 4 å¼€å§‹ï¼Œä¼šæ ¹æ®ä½ é€‰æ‹©çš„ <a href="../../concepts/mode/index.htm" tppabs="https://webpack.docschina.org/concepts/mode/"><code>mode</code></a> æ¥æ‰§è¡Œä¸åŒçš„ä¼˜åŒ–ï¼Œ ä¸è¿‡æ‰€æœ‰çš„ä¼˜åŒ–è¿˜æ˜¯å¯ä»¥æ‰‹åŠ¨é…ç½®å’Œé‡å†™ã€‚</p> <h2 id="optimizationminimize"><code>optimization.minimize</code> <a href="#optimizationminimize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ webpack ä½¿ç”¨ <a href="../../plugins/terser-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/">TerserPlugin</a> æˆ–å…¶å®ƒåœ¨ <a href="#optimizationminimizer"><code>optimization.minimizer</code></a> å®šä¹‰çš„æ’ä»¶å‹ç¼© bundleã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p>äº†è§£ <a href="../../concepts/mode/index.htm" tppabs="https://webpack.docschina.org/concepts/mode/">mode</a> å·¥ä½œæœºåˆ¶ã€‚</p> </blockquote> <h2 id="optimizationminimizer"><code>optimization.minimizer</code> <a href="#optimizationminimizer" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>[TerserPlugin]</code> æˆ– <code>[function (compiler)]</code></p> <p>å…è®¸ä½ é€šè¿‡æä¾›ä¸€ä¸ªæˆ–å¤šä¸ªå®šåˆ¶è¿‡çš„ <a href="../../plugins/terser-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/">TerserPlugin</a> å®ä¾‹ï¼Œ è¦†ç›–é»˜è®¤å‹ç¼©å·¥å…·(minimizer)ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> TerserPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'terser-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        cache<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        parallel<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å¦‚æœåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ source-mapsï¼Œå¿…é¡»è®¾ç½®ä¸º true</span>
        terserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// https://github.com/webpack-contrib/terser-webpack-plugin#terseroptions</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æˆ–ï¼Œä½¿ç”¨å‡½æ•°çš„å½¢å¼ï¼š</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> TerserPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'terser-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">/* ä½ çš„é€‰é¡¹ */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>compiler<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>åœ¨ <code>optimization.minimizer</code> ä¸­å¯ä»¥ä½¿ç”¨ <code>'...'</code> æ¥è®¿é—®é»˜è®¤å€¼ã€‚</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">CssMinimizer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'...'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="optimizationsplitchunks"><code>optimization.splitChunks</code> <a href="#optimizationsplitchunks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object</code></p> <p>å¯¹äºåŠ¨æ€å¯¼å…¥æ¨¡å—ï¼Œé»˜è®¤ä½¿ç”¨ webpack v4+ æä¾›çš„å…¨æ–°çš„é€šç”¨åˆ†å—ç­–ç•¥(common chunk strategy)ã€‚è¯·åœ¨ <a href="../../plugins/split-chunks-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/">SplitChunksPlugin</a> é¡µé¢ä¸­æŸ¥çœ‹é…ç½®å…¶è¡Œä¸ºçš„å¯ç”¨é€‰é¡¹ã€‚</p> <h2 id="optimizationruntimechunk"><code>optimization.runtimeChunk</code> <a href="#optimizationruntimechunk" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object</code> <code>string</code> <code>boolean</code></p> <p>å°† <code>optimization.runtimeChunk</code> è®¾ç½®ä¸º <code>true</code> æˆ– <code>'multiple'</code>ï¼Œä¼šä¸ºæ¯ä¸ªåªå«æœ‰ runtime çš„å…¥å£æ·»åŠ ä¸€ä¸ªé¢å¤– chunkã€‚æ­¤é…ç½®çš„åˆ«åå¦‚ä¸‹ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    runtimeChunk<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">name</span><span class="token operator">:</span> <span class="token parameter">entrypoint</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">runtime~</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>entrypoint<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å€¼ <code>"single"</code> ä¼šåˆ›å»ºä¸€ä¸ªåœ¨æ‰€æœ‰ç”Ÿæˆ chunk ä¹‹é—´å…±äº«çš„è¿è¡Œæ—¶æ–‡ä»¶ã€‚æ­¤è®¾ç½®æ˜¯å¦‚ä¸‹è®¾ç½®çš„åˆ«åï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    runtimeChunk<span class="token operator">:</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'runtime'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å°† <code>optimization.runtimeChunk</code> è®¾ç½®ä¸º <code>object</code>ï¼Œå¯¹è±¡ä¸­å¯ä»¥è®¾ç½®åªæœ‰ <code>name</code> å±æ€§ï¼Œå…¶ä¸­å±æ€§å€¼å¯ä»¥æ˜¯åç§°æˆ–è€…è¿”å›åç§°çš„å‡½æ•°ï¼Œ ç”¨äºä¸º runtime chunks å‘½åã€‚</p> <p>é»˜è®¤å€¼æ˜¯ <code>false</code>ï¼šæ¯ä¸ªå…¥å£ chunk ä¸­ç›´æ¥åµŒå…¥ runtimeã€‚</p> <blockquote class="warning"> <p>å¯¹äºæ¯ä¸ª runtime chunkï¼Œå¯¼å…¥çš„æ¨¡å—ä¼šè¢«åˆ†åˆ«åˆå§‹åŒ–ï¼Œå› æ­¤å¦‚æœä½ åœ¨åŒä¸€ä¸ªé¡µé¢ä¸­å¼•ç”¨å¤šä¸ªå…¥å£èµ·ç‚¹ï¼Œè¯·æ³¨æ„æ­¤è¡Œä¸ºã€‚ä½ æˆ–è®¸åº”è¯¥å°†å…¶è®¾ç½®ä¸º <code>single</code>ï¼Œæˆ–è€…ä½¿ç”¨å…¶ä»–åªæœ‰ä¸€ä¸ª runtime å®ä¾‹çš„é…ç½®ã€‚</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    runtimeChunk<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">name</span><span class="token operator">:</span> <span class="token parameter">entrypoint</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">runtimechunk~</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>entrypoint<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="optimizationemitOnErrors"><code>optimization.emitOnErrors</code><a href="#optimizationemitOnErrors" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code></p> <p>ä½¿ç”¨ <code>optimization.emitOnErrors</code> åœ¨ç¼–è¯‘æ—¶æ¯å½“æœ‰é”™è¯¯æ—¶ï¼Œå°±ä¼š emit assetã€‚è¿™æ ·å¯ä»¥ç¡®ä¿å‡ºé”™çš„ asset è¢« emit å‡ºæ¥ã€‚å…³é”®é”™è¯¯ä¼šè¢« emit åˆ°ç”Ÿæˆçš„ä»£ç ä¸­ï¼Œå¹¶ä¼šåœ¨è¿è¡Œæ—¶æŠ¥é”™ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    emitOnErrors<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ webpack çš„ <a href="../../api/cli/index.htm" tppabs="https://webpack.docschina.org/api/cli/">CLI</a>ï¼Œå½“è¿™ä¸ªæ’ä»¶è¢«å¯ç”¨æ—¶ï¼Œwebpack è¿›ç¨‹ä¸ä¼šä»¥é”™è¯¯ä»£ç é€€å‡ºã€‚å¦‚æœä½ æƒ³è®© webpack åœ¨ä½¿ç”¨ CLI æ—¶ "fail"ï¼Œè¯·æŸ¥é˜… <a href="../../api/cli/index.htm#advanced-options" tppabs="https://webpack.docschina.org/api/cli/#advanced-options"><code>bail</code> é€‰é¡¹</a>ã€‚</p> </blockquote> <h2 id="optimizationmoduleids"><code>optimization.moduleIds</code> <a href="#optimizationmoduleids" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code> <code>string: 'natural' | 'named' | 'deterministic' | 'size'</code></p> <p>å‘ŠçŸ¥ webpack å½“é€‰æ‹©æ¨¡å— id æ—¶éœ€è¦ä½¿ç”¨å“ªç§ç®—æ³•ã€‚å°† <code>optimization.moduleIds</code> è®¾ç½®ä¸º <code>false</code> ä¼šå‘ŠçŸ¥ webpack æ²¡æœ‰ä»»ä½•å†…ç½®çš„ç®—æ³•ä¼šè¢«ä½¿ç”¨ï¼Œä½†è‡ªå®šä¹‰çš„ç®—æ³•ä¼šç”±æ’ä»¶æä¾›ã€‚<code>optimization.moduleIds</code> çš„é»˜è®¤å€¼æ˜¯ <code>false</code>ã€‚</p> <p>ä¸‹é¢çš„å­—ç¬¦ä¸²å€¼å‡è¢«æ”¯æŒï¼š</p> <table> <thead> <tr> <th>é€‰èå€¼</th> <th>æè¿°</th> </tr> </thead> <tbody> <tr> <td data-th="é€‰èå€¼"><span><code>natural</code></span></td> <td data-th="æè¿°"><span>æŒ‰ä½¿ç”¨é¡ºåºçš„æ•°å­— idã€‚</span></td> </tr> <tr> <td data-th="é€‰èå€¼"><span><code>named</code></span></td> <td data-th="æè¿°"><span>å¯¹è°ƒè¯•æ›´å‹å¥½çš„å¯è¯»çš„ idã€‚</span></td> </tr> <tr> <td data-th="é€‰èå€¼"><span><code>deterministic</code></span></td> <td data-th="æè¿°"><span>è¢«å“ˆå¸Œè½¬åŒ–æˆçš„å°ä½æ•°å€¼æ¨¡å—åã€‚</span></td> </tr> <tr> <td data-th="é€‰èå€¼"><span><code>size</code></span></td> <td data-th="æè¿°"><span>ä¸“æ³¨äºè®©åˆå§‹ä¸‹è½½åŒ…å¤§å°æ›´å°çš„æ•°å­— idã€‚</span></td> </tr> </tbody> </table> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    moduleIds<span class="token operator">:</span> <span class="token string">'deterministic'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><code>deterministic</code> é€‰é¡¹æœ‰ç›Šäºé•¿æœŸç¼“å­˜ï¼Œä½†å¯¹æ¯”äº <code>hashed</code> æ¥è¯´ï¼Œå®ƒä¼šå¯¼è‡´æ›´å°çš„æ–‡ä»¶ bundlesã€‚æ•°å­—å€¼çš„é•¿åº¦ä¼šè¢«é€‰ä½œç”¨äºå¡«æ»¡æœ€å¤š80%çš„idç©ºé—´ã€‚ å½“ <code>optimization.moduleIds</code> è¢«è®¾ç½®æˆ <code>deterministic</code>ï¼Œé»˜è®¤æœ€å°3ä½æ•°å­—ä¼šè¢«ä½¿ç”¨ã€‚ è¦è¦†ç›–é»˜è®¤è¡Œä¸ºï¼Œè¦å°† <code>optimization.moduleIds</code> è®¾ç½®æˆ <code>false</code>ï¼Œ å¹¶ä¸”è¦ä½¿ç”¨ <code>webpack.ids.DeterministicModuleIdsPlugin</code>ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    moduleIds<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ids<span class="token punctuation">.</span>DeterministicModuleIdsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      maxLength<span class="token operator">:</span> <span class="token number">5</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p><code>moduleIds: 'deterministic'</code> åœ¨ webpack 5 ä¸­è¢«æ·»åŠ ï¼Œè€Œä¸” <code>moduleIds: 'hashed'</code> ç›¸åº”åœ°ä¼šåœ¨ webpack 5 ä¸­åºŸå¼ƒã€‚</p> </blockquote> <blockquote class="warning"> <p><code>moduleIds: total-size</code> åœ¨ webpack 5 ä¸­è¢«åºŸå¼ƒã€‚</p> </blockquote> <h2 id="optimizationchunkids"><code>optimization.chunkIds</code> <a href="#optimizationchunkids" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code> <code>string: 'natural' | 'named' | 'size' | 'total-size' | 'deterministic' </code></p> <p>å‘ŠçŸ¥ webpack å½“é€‰æ‹©æ¨¡å— id æ—¶éœ€è¦ä½¿ç”¨å“ªç§ç®—æ³•ã€‚å°† <code>optimization.chunkIds</code> è®¾ç½®ä¸º <code>false</code> ä¼šå‘ŠçŸ¥ webpack æ²¡æœ‰ä»»ä½•å†…ç½®çš„ç®—æ³•ä¼šè¢«ä½¿ç”¨ï¼Œä½†è‡ªå®šä¹‰çš„ç®—æ³•ä¼šç”±æ’ä»¶æä¾›ã€‚<code>optimization.chunkIds</code> çš„é»˜è®¤å€¼æ˜¯ <code>false</code>ï¼š</p> <ul> <li>å¦‚æœç¯å¢ƒæ˜¯å¼€å‘ç¯å¢ƒï¼Œé‚£ä¹ˆ <code>optimization.chunkIds</code> ä¼šè¢«è®¾ç½®æˆ <code>'named'</code>,</li> </ul> <p>ä½†å½“åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ—¶ï¼Œå®ƒä¼šè¢«è®¾ç½®æˆ <code>'deterministic'</code></p> <ul> <li>å¦‚æœä¸Šè¿°çš„æ¡ä»¶éƒ½ä¸ç¬¦åˆ, <code>optimization.chunkIds</code> ä¼šè¢«é»˜è®¤è®¾ç½®ä¸º <code>'natural'</code></li> </ul> <p>ä¸‹è¿°é€‰é¡¹å­—ç¬¦ä¸²å€¼å‡ä¸ºè¢«æ”¯æŒ:</p> <table> <thead> <tr> <th>é€‰é¡¹å€¼</th> <th>æè¿°</th> </tr> </thead> <tbody> <tr> <td data-th="é€‰é¡¹å€¼"><span><code>'natural'</code></span></td> <td data-th="æè¿°"><span>æŒ‰ä½¿ç”¨é¡ºåºçš„æ•°å­— idã€‚</span></td> </tr> <tr> <td data-th="é€‰é¡¹å€¼"><span><code>'named'</code></span></td> <td data-th="æè¿°"><span>å¯¹è°ƒè¯•æ›´å‹å¥½çš„å¯è¯»çš„ idã€‚</span></td> </tr> <tr> <td data-th="é€‰é¡¹å€¼"><span><code>'deterministic'</code></span></td> <td data-th="æè¿°"><span>åœ¨ä¸åŒçš„ç¼–è¯‘ä¸­ä¸å˜çš„çŸ­æ•°å­— idã€‚æœ‰ç›Šäºé•¿æœŸç¼“å­˜ã€‚</span></td> </tr> <tr> <td data-th="é€‰é¡¹å€¼"><span>åœ¨ç”Ÿäº§æ¨¡å¼ä¸­ä¼šé»˜è®¤å¼€å¯ã€‚</span></td> <td></td> </tr> <tr> <td data-th="é€‰é¡¹å€¼"><span><code>'size'</code></span></td> <td data-th="æè¿°"><span>ä¸“æ³¨äºè®©åˆå§‹ä¸‹è½½åŒ…å¤§å°æ›´å°çš„æ•°å­— idã€‚</span></td> </tr> <tr> <td data-th="é€‰é¡¹å€¼"><span><code>'total-size'</code></span></td> <td data-th="æè¿°"><span>ä¸“æ³¨äºè®©æ€»ä¸‹è½½åŒ…å¤§å°æ›´å°çš„æ•°å­— idã€‚</span></td> </tr> </tbody> </table> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    chunkIds<span class="token operator">:</span> <span class="token string">'named'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é»˜è®¤åœ°ï¼Œå½“ <code>optimization.chunkIds</code> è¢«è®¾ç½®ä¸º <code>'deterministic'</code> æ—¶ï¼Œæœ€å°‘3ä½æ•°å­—ä¼šè¢«ä½¿ç”¨ã€‚è¦è¦†ç›–é»˜è®¤çš„è¡Œä¸ºï¼Œ è¦å°† <code>optimization.chunkIds</code> è®¾ç½®ä¸º <code>false</code>ï¼ŒåŒæ—¶è¦ä½¿ç”¨ <code>webpack.ids.DeterministicChunkIdsPlugin</code>ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    chunkIds<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ids<span class="token punctuation">.</span>DeterministicChunkIdsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      maxLength<span class="token operator">:</span> <span class="token number">5</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="optimizationnodeenv"><code>optimization.nodeEnv</code> <a href="#optimizationnodeenv" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code> <code>string</code></p> <p>å‘ŠçŸ¥ webpack å°† <code>process.env.NODE_ENV</code> è®¾ç½®ä¸ºä¸€ä¸ªç»™å®šå­—ç¬¦ä¸²ã€‚å¦‚æœ <code>optimization.nodeEnv</code> ä¸æ˜¯ <code>false</code>ï¼Œåˆ™ä¼šä½¿ç”¨ <a href="../../plugins/define-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/define-plugin/">DefinePlugin</a>ï¼Œ<code>optimization.nodeEnv</code> __é»˜è®¤å€¼__å–å†³äº <a href="../../concepts/mode/index.htm" tppabs="https://webpack.docschina.org/concepts/mode/">mode</a>ï¼Œå¦‚æœä¸º falsy å€¼ï¼Œåˆ™ä¼šå›é€€åˆ° <code>"production"</code>ã€‚</p> <p>å¯èƒ½çš„å€¼æœ‰ï¼š</p> <ul> <li>ä»»ä½•å­—ç¬¦ä¸²ï¼šç”¨äºè®¾ç½® <code>process.env.NODE_ENV</code> çš„å€¼ã€‚</li> <li>falseï¼šä¸ä¿®æ”¹/è®¾ç½® <code>process.env.NODE_ENV</code>çš„å€¼ã€‚</li> </ul> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    nodeEnv<span class="token operator">:</span> <span class="token string">'production'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p>å½“ <a href="../mode/index.htm" tppabs="https://webpack.docschina.org/configuration/mode/">mode</a> è®¾ç½®ä¸º <code>'none'</code> æ—¶ï¼Œ<code>optimization.nodeEnv</code> çš„é»˜è®¤å€¼ä¸º <code>false</code>ã€‚</p> </blockquote> <h2 id="optimizationmanglewasmimports"><code>optimization.mangleWasmImports</code> <a href="#optimizationmanglewasmimports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code></p> <p>åœ¨è®¾ç½®ä¸º <code>true</code> æ—¶ï¼Œå‘ŠçŸ¥ webpack é€šè¿‡å°†å¯¼å…¥ä¿®æ”¹ä¸ºæ›´çŸ­çš„å­—ç¬¦ä¸²ï¼Œæ¥å‡å°‘ WASM å¤§å°ã€‚è¿™ä¼šç ´åæ¨¡å—å’Œå¯¼å‡ºåç§°ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    mangleWasmImports<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="optimizationremoveavailablemodules"><code>optimization.removeAvailableModules</code> <a href="#optimizationremoveavailablemodules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code></p> <p>å¦‚æœæ¨¡å—å·²ç»åŒ…å«åœ¨æ‰€æœ‰çˆ¶çº§æ¨¡å—ä¸­ï¼Œå‘ŠçŸ¥ webpack ä» chunk ä¸­æ£€æµ‹å‡ºè¿™äº›æ¨¡å—ï¼Œæˆ–ç§»é™¤è¿™äº›æ¨¡å—ã€‚å°† <code>optimization.removeAvailableModules</code> è®¾ç½®ä¸º <code>true</code> ä»¥å¯ç”¨è¿™é¡¹ä¼˜åŒ–ã€‚åœ¨ <a href="../mode/index.htm" tppabs="https://webpack.docschina.org/configuration/mode/"><code>ç”Ÿäº§</code> æ¨¡å¼</a> ä¸­é»˜è®¤ä¼šè¢«å¼€å¯ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    removeAvailableModules<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p><code>optimization.removeAvailableModules</code> ä¼šå‰Šå‡äº† webapck çš„æ€§èƒ½è¡¨ç°ï¼Œè€Œä¸”å°†ä¼šåœ¨ä¸‹ä¸€ä¸ªä¸»è¦å‘å¸ƒç‰ˆæœ¬ä¸­ï¼Œåœ¨ <code>ç”Ÿäº§</code> æ¨¡å¼ä¸‹ä¼šè¢«ç¦ç”¨ã€‚ å¦‚æœä½ æƒ³è·å¾—é¢å¤–çš„æ„å»ºæ€§èƒ½ï¼Œè¯·åœ¨ <code>ç”Ÿäº§</code> æ¨¡å¼ä¸­ç¦ç”¨å®ƒã€‚</p> </blockquote> <h2 id="optimizationremoveemptychunks"><code>optimization.removeEmptyChunks</code> <a href="#optimizationremoveemptychunks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = true</code></p> <p>å¦‚æœ chunk ä¸ºç©ºï¼Œå‘ŠçŸ¥ webpack æ£€æµ‹æˆ–ç§»é™¤è¿™äº› chunkã€‚å°† <code>optimization.removeEmptyChunks</code> è®¾ç½®ä¸º <code>false</code> ä»¥ç¦ç”¨è¿™é¡¹ä¼˜åŒ–ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    removeEmptyChunks<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="optimizationmergeduplicatechunks"><code>optimization.mergeDuplicateChunks</code> <a href="#optimizationmergeduplicatechunks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ webpack åˆå¹¶å«æœ‰ç›¸åŒæ¨¡å—çš„ chunkã€‚å°† <code>optimization.mergeDuplicateChunks</code> è®¾ç½®ä¸º <code>false</code> ä»¥ç¦ç”¨è¿™é¡¹ä¼˜åŒ–ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    mergeDuplicateChunks<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="optimizationflagincludedchunks"><code>optimization.flagIncludedChunks</code> <a href="#optimizationflagincludedchunks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <p>å‘ŠçŸ¥ webpack ç¡®å®šå’Œæ ‡è®°å‡ºä½œä¸ºå…¶ä»– chunk å­é›†çš„é‚£äº› chunkï¼Œå…¶æ–¹å¼æ˜¯åœ¨å·²ç»åŠ è½½è¿‡è¾ƒå¤§çš„ chunk ä¹‹åï¼Œå°±ä¸å†å»åŠ è½½è¿™äº› chunk å­é›†ã€‚<code>optimization.flagIncludedChunks</code> é»˜è®¤ä¼šåœ¨ <code>ç”Ÿäº§</code> <a href="../../concepts/mode/index.htm" tppabs="https://webpack.docschina.org/concepts/mode/">æ¨¡å¼</a> ä¸­å¯ç”¨ï¼Œå…¶ä»–æƒ…å†µç¦ç”¨ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    flagIncludedChunks<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="optimizationoccurrenceorder"><code>optimization.occurrenceOrder</code> <a href="#optimizationoccurrenceorder" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <p>å‘ŠçŸ¥ webpack å»ç¡®å®šé‚£äº›ä¼šå¼•è‡´æ›´å°çš„åˆå§‹åŒ–æ–‡ä»¶ bundle çš„æ¨¡å—é¡ºåºã€‚<code>optimization.occurrenceOrder</code> é»˜è®¤ä¼šåœ¨ <code>ç”Ÿäº§</code> <a href="../../concepts/mode/index.htm" tppabs="https://webpack.docschina.org/concepts/mode/">æ¨¡å¼</a> ä¸­å¯ç”¨ï¼Œå…¶ä»–æƒ…å†µç¦ç”¨ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    occurrenceOrder<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="optimizationprovidedexports"><code>optimization.providedExports</code> <a href="#optimizationprovidedexports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <p>å‘ŠçŸ¥ webpack å»ç¡®å®šé‚£äº›ç”±æ¨¡å—æä¾›çš„å¯¼å‡ºå†…å®¹ï¼Œä¸º <code>export * from ...</code> ç”Ÿæˆæ›´å¤šé«˜æ•ˆçš„ä»£ç ã€‚ é»˜è®¤ <code>optimization.providedExports</code> ä¼šè¢«å¯ç”¨ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    providedExports<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="optimizationusedexports"><code>optimization.usedExports</code> <a href="#optimizationusedexports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = true</code> <code>string: 'global'</code></p> <p>å‘ŠçŸ¥ webpack å»å†³å®šæ¯ä¸ªæ¨¡å—ä½¿ç”¨çš„å¯¼å‡ºå†…å®¹ã€‚è¿™å–å†³äº <a href="#optimizationoccurrenceorder"><code>optimization.providedExports</code></a> é€‰é¡¹ã€‚ç”± <code>optimization.usedExports</code> æ”¶é›†çš„ä¿¡æ¯ä¼šè¢«å…¶å®ƒä¼˜åŒ–æ‰‹æ®µæˆ–è€…ä»£ç ç”Ÿæˆä½¿ç”¨ï¼Œæ¯”å¦‚æœªä½¿ç”¨çš„å¯¼å‡ºå†…å®¹ä¸ä¼šè¢«ç”Ÿæˆï¼Œ å½“æ‰€æœ‰çš„ä½¿ç”¨éƒ½é€‚é…ï¼Œå¯¼å‡ºåç§°ä¼šè¢«å¤„ç†åšå•ä¸ªæ ‡è®°å­—ç¬¦ã€‚ åœ¨å‹ç¼©å·¥å…·ä¸­çš„æ— ç”¨ä»£ç æ¸…é™¤ä¼šå—ç›Šäºè¯¥é€‰é¡¹ï¼Œè€Œä¸”èƒ½å¤Ÿå»é™¤æœªä½¿ç”¨çš„å¯¼å‡ºå†…å®¹ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    usedExports<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€‰æ‹©é€€å‡ºæ¯æ¬¡è¿è¡Œæ—¶ä½¿ç”¨ export åˆ†äº«ï¼š</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    usedExports<span class="token operator">:</span> <span class="token string">'global'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="optimizationconcatenatemodules"><code>optimization.concatenateModules</code> <a href="#optimizationconcatenatemodules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <p>å‘ŠçŸ¥ webpack å»å¯»æ‰¾æ¨¡å—å›¾å½¢ä¸­çš„ç‰‡æ®µï¼Œå“ªäº›æ˜¯å¯ä»¥å®‰å…¨åœ°è¢«åˆå¹¶åˆ°å•ä¸€æ¨¡å—ä¸­ã€‚è¿™å–å†³äº <a href="#optimizationprovidedexports"><code>optimization.providedExports</code></a> å’Œ <a href="#optimizationusedexports"><code>optimization.usedExports</code></a>ã€‚ é»˜è®¤ <code>optimization.concatenateModules</code> åœ¨ <code>ç”Ÿäº§</code> <a href="../mode/index.htm" tppabs="https://webpack.docschina.org/configuration/mode/">æ¨¡å¼</a> ä¸‹è¢«å¯ç”¨ï¼Œè€Œåœ¨å…¶å®ƒæƒ…å†µä¸‹è¢«ç¦ç”¨ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    concatenateModules<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="optimizationsideeffects"><code>optimization.sideEffects</code> <a href="#optimizationsideeffects" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = true</code> <code>string: 'flag'</code></p> <p>å‘ŠçŸ¥ webpack å»è¾¨è¯† <code>package.json</code> ä¸­çš„ <a href="javascript:if(confirm('https://github.com/webpack/webpack/blob/master/examples/side-effects/README.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/blob/master/examples/side-effects/README.md'" tppabs="https://github.com/webpack/webpack/blob/master/examples/side-effects/README.md"><code>å‰¯ä½œç”¨</code></a> æ ‡è®°æˆ–è§„åˆ™ï¼Œä»¥è·³è¿‡é‚£äº›å½“å¯¼å‡ºä¸è¢«ä½¿ç”¨ä¸”è¢«æ ‡è®°ä¸åŒ…å«å‰¯ä½œç”¨çš„æ¨¡å—ã€‚</p> <p><strong>package.json</strong></p> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"awesome npm module"</span><span class="token punctuation">,</span>
  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>
  <span class="token property">"sideEffects"</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span></code></pre> <blockquote class="tip"> <p>è¯·æ³¨æ„çš„æ˜¯ <code>ï¼ˆå‰¯ä½œç”¨ï¼‰sideEffects</code> éœ€è¦åœ¨ npm æ¨¡å—çš„ <code>package.json</code> æ–‡ä»¶ä¸­ï¼Œä½†å¹¶ä¸æ„å‘³ç€ä½ éœ€è¦åœ¨ä½ è‡ªå·±çš„å¼•ç”¨é‚£ä¸ªå¤§æ¨¡å—çš„é¡¹ç›®ä¸­çš„ <code>package.json</code> ä¸­å°† <code>sideEffects</code> è®¾ç½®æˆ <code>false</code>ã€‚</p> </blockquote> <p><code>optimization.sideEffects</code> å–å†³äº <a href="#optimizationprovidedexports"><code>optimization.providedExports</code></a> è¢«è®¾ç½®æˆå¯ç”¨ã€‚è¿™ä¸ªä¾èµ–ä¼šæœ‰æ„å»ºæ—¶é—´çš„æŸè€—ï¼Œä½†å»æ‰æ¨¡å—ä¼šå¯¹æ€§èƒ½æœ‰æ­£é¢çš„å½±å“ï¼Œå› ä¸ºæ›´å°‘çš„ä»£ç è¢«ç”Ÿæˆã€‚è¯¥ä¼˜åŒ–çš„æ•ˆæœå–å†³äºä½ çš„ä»£ç åº“ï¼Œ å¯ä»¥å°è¯•è¿™ä¸ªç‰¹æ€§ä»¥è·å–ä¸€äº›å¯èƒ½çš„æ€§èƒ½ä¼˜åŒ–ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    sideEffects<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>åªä½¿ç”¨æ‰‹åŠ¨ flagï¼Œå¹¶ä¸”ä¸å¯¹æºç è¿›è¡Œåˆ†æï¼š</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    sideEffects<span class="token operator">:</span> <span class="token string">'flag'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æ­¤å¤„çš„ <code>'flag'</code> å€¼åœ¨éç”Ÿäº§ç¯å¢ƒé»˜è®¤ä½¿ç”¨ã€‚</p> <blockquote class="tip"> <p>è®¾ç½®ä¸º <code>optimization.sideEffects</code> æ—¶ï¼Œå½“æ¨¡å—åªåŒ…å«æ— å‰¯ä½œç”¨çš„è¯­å¥æ—¶ï¼Œæ­¤æ¨¡å—ä¹Ÿä¼šè¢«æ ‡è®°ä¸ºæ— å‰¯ä½œç”¨ã€‚</p> </blockquote> <h2 id="optimizationportablerecords"><code>optimization.portableRecords</code> <a href="#optimizationportablerecords" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <p><code>optimization.portableRecords</code> å‘ŠçŸ¥ webpack ç”Ÿæˆå¸¦æœ‰ç›¸å¯¹è·¯å¾„çš„è®°å½•(records)ä½¿å¾—å¯ä»¥ç§»åŠ¨ä¸Šä¸‹æ–‡ç›®å½•ã€‚</p> <p>é»˜è®¤ <code>optimization.portableRecords</code> è¢«ç¦ç”¨ã€‚å¦‚æœä¸‹åˆ—è‡³å°‘ä¸€ä¸ªé€‰é¡¹åœ¨ webpack ä¸­è¢«è®¾ç½®ï¼Œè¯¥é€‰é¡¹ä¹Ÿä¼šè‡ªåŠ¨å¯ç”¨ï¼š<a href="../other-options/index.htm#recordspath" tppabs="https://webpack.docschina.org/configuration/other-options/#recordspath"><code>recordsPath</code></a>, <a href="../other-options/index.htm#recordsinputpath" tppabs="https://webpack.docschina.org/configuration/other-options/#recordsinputpath"><code>recordsInputPath</code></a>, <a href="../other-options/index.htm#recordsoutputpath" tppabs="https://webpack.docschina.org/configuration/other-options/#recordsoutputpath"><code>recordsOutputPath</code></a>ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    portableRecords<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="optimizationmangleexports"><code>optimization.mangleExports</code> <a href="#optimizationmangleexports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code> <code>string: 'deterministic' | 'size'</code></p> <p><code>optimization.mangleExports</code> å…è®¸æ§åˆ¶å¯¼å‡ºå¤„ç†(export mangling)ã€‚</p> <p>é»˜è®¤ <code>optimization.mangleExports: 'deterministic'</code> ä¼šåœ¨ <code>production</code> <a href="../mode/index.htm" tppabs="https://webpack.docschina.org/configuration/mode/">æ¨¡å¼ä¸‹</a> å¯ç”¨è€Œå…¶å®ƒæƒ…å†µä¼šè¢«ç¦ç”¨ã€‚</p> <p>æ­¤é€‰é¡¹æ”¯æŒä»¥ä¸‹é€‰é¡¹ï¼š</p> <table> <thead> <tr> <th>é€‰é¡¹</th> <th>æè¿°</th> </tr> </thead> <tbody> <tr> <td data-th="é€‰é¡¹"><span><code>'size'</code></span></td> <td data-th="æè¿°"><span>ç®€å†™å½¢å¼ â€” é€šå¸¸åªæœ‰ä¸€ä¸ªå­—ç¬¦ â€” ä¸“æ³¨äºæœ€å°çš„ä¸‹è½½ sizeã€‚</span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>'deterministic'</code></span></td> <td data-th="æè¿°"><span>ç®€å†™å½¢å¼ - é€šå¸¸ä¸¤ä¸ªå­—ç¬¦ â€” åœ¨æ·»åŠ æˆ–ç§»é™¤ export æ—¶ä¸ä¼šæ”¹å˜ã€‚é€‚ç”¨äºé•¿æ•ˆç¼“å­˜ã€‚</span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>true</code></span></td> <td data-th="æè¿°"><span>ç­‰ä»·äº <code>'deterministic'</code></span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>false</code></span></td> <td data-th="æè¿°"><span>ä¿ç•™åŸåï¼Œæœ‰åˆ©äºé˜…è¯»å’Œè°ƒè¯•ã€‚</span></td> </tr> </tbody> </table> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    mangleExports<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="optimizationinnergraph"><code>optimization.innerGraph</code> <a href="#optimizationinnergraph" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = true</code></p> <p><code>optimization.innerGraph</code> å‘ŠçŸ¥ webpack æ˜¯å¦å¯¹æœªä½¿ç”¨çš„å¯¼å‡ºå†…å®¹ï¼Œå®æ–½å†…éƒ¨å›¾å½¢åˆ†æ(graph analysis)ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    innerGraph<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="optimizationrealContentHash"><code>optimization.realContentHash</code><a href="#optimizationrealContentHash" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = true</code></p> <p>Adds an additional hash compilation pass after the assets have been processed to get the correct asset content hashes. If <code>realContentHash</code> is set to <code>false</code>, internal data is used to calculate the hash and it can change when assets are identical.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    realContentHash<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h1 id="æ’ä»¶Plugins">æ’ä»¶(Plugins)<a href="#%E6%8F%92%E4%BB%B6Plugins" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><code>plugins</code> é€‰é¡¹ç”¨äºä»¥å„ç§æ–¹å¼è‡ªå®šä¹‰ webpack æ„å»ºè¿‡ç¨‹ã€‚webpack é™„å¸¦äº†å„ç§å†…ç½®æ’ä»¶ï¼Œå¯ä»¥é€šè¿‡ <code>webpack.[plugin-name]</code> è®¿é—®è¿™äº›æ’ä»¶ã€‚è¯·æŸ¥çœ‹ <a href="../../plugins.htm" tppabs="https://webpack.docschina.org/plugins">æ’ä»¶é¡µé¢</a> è·å–æ’ä»¶åˆ—è¡¨å’Œå¯¹åº”æ–‡æ¡£ï¼Œ ä½†è¯·æ³¨æ„è¿™åªæ˜¯å…¶ä¸­ä¸€éƒ¨åˆ†ï¼Œç¤¾åŒºä¸­è¿˜æœ‰è®¸å¤šæ’ä»¶ã€‚</p> <blockquote class="tip"> <p>æ³¨æ„ï¼šæœ¬é¡µé¢ä»…è®¨è®ºä½¿ç”¨æ’ä»¶ï¼Œå¦‚æœä½ æœ‰å…´è¶£ç¼–å†™è‡ªå·±çš„æ’ä»¶ï¼Œ è¯·è®¿é—® <a href="../../contribute/writing-a-plugin/index.htm" tppabs="https://webpack.docschina.org/contribute/writing-a-plugin/">ç¼–å†™ä¸€ä¸ªæ’ä»¶</a> é¡µé¢ã€‚</p> </blockquote> <h2 id="plugins"><code>plugins</code> <a href="#plugins" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="../../plugins/index.htm" tppabs="https://webpack.docschina.org/plugins/"><code>[Plugin]</code></a></p> <p>ä¸€ç»„ webpack æ’ä»¶ã€‚ä¾‹å¦‚ï¼Œ<a href="../../plugins/define-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/define-plugin/"><code>DefinePlugin</code></a> å…è®¸ä½ åˆ›å»ºå¯åœ¨ç¼–è¯‘æ—¶é…ç½®çš„å…¨å±€å¸¸é‡ã€‚è¿™å¯¹éœ€è¦å†å¼€å‘ç¯å¢ƒæ„å»ºå’Œç”Ÿäº§ç¯å¢ƒæ„å»ºä¹‹é—´äº§ç”Ÿä¸åŒè¡Œä¸ºæ¥è¯´éå¸¸æœ‰ç”¨ã€‚ An array of webpack plugins. For example, <a href="../../plugins/define-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/define-plugin/"><code>DefinePlugin</code></a> allows you to create global constants which can be configured at compile time. This can be useful for allowing different behavior between development builds and release builds.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// Definitions...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ä¸€ä¸ªå¤æ‚ç¤ºä¾‹ï¼Œä½¿ç”¨å¤šä¸ªæ’ä»¶ï¼Œå¯èƒ½çœ‹èµ·æ¥å°±åƒè¿™æ ·ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">var</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å¯¼å…¥é webpack è‡ªå¸¦é»˜è®¤æ’ä»¶</span>
<span class="token keyword">var</span> DashboardPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-dashboard/plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åœ¨é…ç½®ä¸­æ·»åŠ æ’ä»¶</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>IgnorePlugin</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\.\/locale$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">moment$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token comment">// ç¼–è¯‘æ—¶(compile time)æ’ä»¶</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token string">'process.env.NODE_ENV'</span><span class="token operator">:</span> <span class="token string">'"production"'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token comment">// webpack-dev-server å¼ºåŒ–æ’ä»¶</span>
    <span class="token keyword">new</span> <span class="token class-name">DashboardPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h1 id="å¼€å‘æœåŠ¡å™¨DevServer">å¼€å‘æœåŠ¡å™¨(DevServer)<a href="#%E5%BC%80%E5%8F%91%E6%9C%8D%E5%8A%A1%E5%99%A8DevServer" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="javascript:if(confirm('https://github.com/webpack/webpack-dev-server  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack-dev-server'" tppabs="https://github.com/webpack/webpack-dev-server">webpack-dev-server</a> å¯ç”¨äºå¿«é€Ÿå¼€å‘åº”ç”¨ç¨‹åºã€‚è¯·æŸ¥é˜… <a href="../../guides/development/index.htm" tppabs="https://webpack.docschina.org/guides/development/">å¼€å‘æŒ‡å—</a> å¼€å§‹ä½¿ç”¨ã€‚</p> <p>å½“å‰é¡µé¢è®°å½•äº†å½±å“ <code>webpack-dev-server</code> (ç®€å†™: <code>dev-server</code>)é…ç½®çš„é€‰é¡¹ã€‚</p> <blockquote class="tip"> <p>ä¸ <a href="javascript:if(confirm('https://github.com/webpack/webpack-dev-middleware  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack-dev-middleware'" tppabs="https://github.com/webpack/webpack-dev-middleware">webpack-dev-middleware</a> å…¼å®¹çš„é…ç½®é¡¹åé¢ ğŸ”‘ æ ‡è®°ã€‚</p> </blockquote> <h2 id="devserver">å¼€å‘æœåŠ¡å™¨(<code>devServer</code>) <a href="#devserver" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object</code></p> <p>é€šè¿‡ <a href="javascript:if(confirm('https://github.com/webpack/webpack-dev-server  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack-dev-server'" tppabs="https://github.com/webpack/webpack-dev-server">webpack-dev-server</a> çš„è¿™äº›é…ç½®ï¼Œèƒ½å¤Ÿä»¥å¤šç§æ–¹å¼æ”¹å˜å…¶è¡Œä¸ºã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œåˆ©ç”¨ <code>gzips</code> å‹ç¼© <code>dist/</code> ç›®å½•å½“ä¸­çš„æ‰€æœ‰å†…å®¹å¹¶æä¾›ä¸€ä¸ªæœ¬åœ°æœåŠ¡(serve)ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    compress<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    port<span class="token operator">:</span> <span class="token number">9000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å½“æœåŠ¡(<code>server</code>)å¯åŠ¨åï¼Œåœ¨è§£ææ¨¡å—åˆ—è¡¨ä¹‹å‰è¾“å‡ºä¸€æ¡æ¶ˆæ¯ï¼š</p> <pre><code class="hljs language-bash">http://localhost:9000/
webpack output is served from /build/
Content not from webpack is served from /path/to/dist/</code></pre> <p>è¿™é‡Œå°†ä¼šç»™å‡ºæœåŠ¡å¯åŠ¨ä½ç½®ä»¥åŠå†…å®¹çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ã€‚</p> <p>å¦‚æœä½ é€šè¿‡ Node.js API ä½¿ç”¨ dev-serverï¼Œåˆ™ <code>devServer</code> ä¸­çš„é…ç½®é€‰é¡¹å°†è¢«å¿½ç•¥ã€‚ä½†å¯ä»¥å°†é…ç½®é€‰é¡¹ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥ï¼š<code>new WebpackDevServer(compilerï¼Œ{...})</code>ã€‚<a href="javascript:if(confirm('https://github.com/webpack/webpack-dev-server/tree/master/examples/api/simple  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack-dev-server/tree/master/examples/api/simple'" tppabs="https://github.com/webpack/webpack-dev-server/tree/master/examples/api/simple">æ­¤ç¤ºä¾‹</a>å±•ç¤ºäº†å¦‚ä½•é€šè¿‡ Node.js API ä½¿ç”¨ webpack-dev-serverã€‚</p> <blockquote class="warning"> <p>ä½¿ç”¨ <code>WebpackDevServer</code> æ—¶ï¼Œä¸èƒ½ä½¿ç”¨ç¬¬äºŒä¸ª <code>compiler</code> å‚æ•°ï¼ˆä¸€ä¸ªå›è°ƒï¼‰ã€‚</p> </blockquote> <blockquote class="warning"> <p>è¯·æ³¨æ„ï¼Œå½“<a href="../configuration-types/index.htm#exporting-multiple-configurations" tppabs="https://webpack.docschina.org/configuration/configuration-types/#exporting-multiple-configurations">å¯¼å‡ºå¤šä¸ªé…ç½®å¯¹è±¡</a>æ—¶ï¼Œåªä¼šä½¿ç”¨ <code>devServer</code> çš„ç¬¬ä¸€ä¸ªé…ç½®é€‰é¡¹ï¼Œå¹¶å°†å…¶åº”ç”¨äºæ‰€æœ‰çš„é…ç½®å½“ä¸­ã€‚</p> </blockquote> <blockquote class="tip"> <p>å¦‚æœä½ ç¢°åˆ°äº†é—®é¢˜ï¼Œè¯·å°†è·¯ç”±å¯¼èˆªè‡³ <code>/webpack-dev-server</code> å°†ä¼šä¸ºä½ å±•ç¤ºæœåŠ¡æ–‡ä»¶çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼š <code>http://localhost:9000/webpack-dev-server</code>ã€‚</p> </blockquote> <blockquote class="tip"> <p>å¦‚æœä½ éœ€è¦è¦æ‰‹åŠ¨é‡æ–°ç¼–è¯‘ <code>bundle</code>ï¼Œå°†è·¯ç”±å¯¼èˆªè‡³ <code>/invalidate</code> ä½¿å½“å‰ç¼–è¯‘çš„ <code>bundle</code> æ— æ•ˆï¼Œå¹¶é€šè¿‡ <a href="javascript:if(confirm('https://github.com/webpack/webpack-dev-middleware  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack-dev-middleware#invalidate'" tppabs="https://github.com/webpack/webpack-dev-middleware#invalidate">webpack-dev-middleware</a> ä¸ºä½ é‡æ–°ç¼–è¯‘ã€‚æ ¹æ®ä½ çš„é…ç½®ï¼ŒURL å¯èƒ½çœ‹èµ·æ¥åƒ <code>http://localhost:9000/invalidate</code>ã€‚</p> </blockquote> <blockquote class="tip"> <p>å½“å¯åŠ¨æœ¬åœ°æœåŠ¡çš„æ—¶å€™ HTML æ¨¡æ¿æ˜¯å¿…é¡»æä¾›çš„ï¼Œé€šå¸¸æ˜¯ <code>index.html</code>ã€‚ç¡®ä¿å°†è„šæœ¬å¼•ç”¨æ·»åŠ åˆ° HTML ä¸­ï¼Œwebpack-dev-server ä¸ä¼šè‡ªåŠ¨æ³¨å…¥å®ƒä»¬ã€‚</p> </blockquote> <h2 id="devserverafter"><code>devServer.after</code> <a href="#devserverafter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>function (app, server, compiler)</code></p> <p>æä¾›è‡ªå®šä¹‰ä¸­é—´ä»¶ï¼Œå½“ <code>devServer</code> æœåŠ¡å™¨å†…éƒ¨çš„ æ‰€æœ‰ä¸­é—´ä»¶æ‰§è¡Œå®Œæˆä¹‹åæ‰§è¡Œ</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">after</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> server<span class="token punctuation">,</span> compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// do fancy stuff</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="devserverallowedhosts"><code>devServer.allowedHosts</code> <a href="#devserverallowedhosts" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>[string]</code></p> <p>è¯¥é€‰é¡¹å…è®¸å°†å…è®¸è®¿é—®å¼€å‘æœåŠ¡å™¨çš„æœåŠ¡åˆ—å…¥ç™½åå•ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    allowedHosts<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'host.com'</span><span class="token punctuation">,</span>
      <span class="token string">'subdomain.host.com'</span><span class="token punctuation">,</span>
      <span class="token string">'subdomain2.host.com'</span><span class="token punctuation">,</span>
      <span class="token string">'host2.com'</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æ¨¡ä»¿ django çš„<code>ALLOWED_HOSTS</code>ï¼Œç”¨ <code>.</code> ä½œä¸ºå­åŸŸé€šé…ç¬¦ã€‚<code>.host.com</code> ä¼šä¸ <code>host.com</code>ï¼Œ<code>www.host.com</code> ä»¥åŠ <code>host.com</code> ç­‰å…¶ä»–ä»»ä½•å…¶ä»–å­åŸŸåŒ¹é…ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// this achieves the same effect as the first example</span>
    <span class="token comment">// with the bonus of not having to update your config</span>
    <span class="token comment">// if new subdomains need to access the dev server</span>
    allowedHosts<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'.host.com'</span><span class="token punctuation">,</span>
      <span class="token string">'host2.com'</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>è¦å°†è¿™ä¸ªé€‰é¡¹ä¸ CLI ä¸€èµ·ä½¿ç”¨ï¼Œè¯·å°† <code>--allowed-hosts</code> çš„è½¬æ¢ä¸ºç”¨é€—å·åˆ†å‰²çš„å­—ç¬¦ä¸²å¹¶ä¼ å…¥ã€‚</p> <pre><code class="hljs language-bash">webpack serve --entry ./entry/file --output-path ./output/path --allowed-hosts .host.com,host2.com</code></pre> <h2 id="devserverbefore"><code>devServer.before</code> <a href="#devserverbefore" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>function (app, server, compiler)</code></p> <p>æä¾›äº†ä¸€ä¸ªåœ¨ <code>devServer</code> å†…éƒ¨çš„ æ‰€æœ‰ä¸­é—´ä»¶æ‰§è¡Œä¹‹å‰çš„è‡ªå®šä¹‰æ‰§è¡Œå‡½æ•°ã€‚ ä¾‹ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">before</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> server<span class="token punctuation">,</span> compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/some/path'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> custom<span class="token operator">:</span> <span class="token string">'response'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="devserverbonjour"><code>devServer.bonjour</code> <a href="#devserverbonjour" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code></p> <p>è¿™ä¸ªé…ç½®ç”¨äºåœ¨å¯åŠ¨æ—¶é€šè¿‡ <a href="javascript:if(confirm('http://www.zeroconf.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://www.zeroconf.org/'" tppabs="http://www.zeroconf.org/">ZeroConf</a> ç½‘ç»œå¹¿æ’­ä½ çš„å¼€å‘æœåŠ¡å™¨ï¼Œç”¨äºæœåŠ¡å‘ç°ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    bonjour<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --bonjour</code></pre> <h2 id="devserverclientloglevel"><code>devServer.clientLogLevel</code> <a href="#devserverclientloglevel" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = 'info': 'silent' | 'trace' | 'debug' | 'info' | 'warn' | 'error' | 'none' | 'warning'</code></p> <blockquote class="warning"> <p><code>none</code> å’Œ <code>warning</code> å°†åœ¨ä¸‹ä¸€ä¸ªä¸»è¦ç‰ˆæœ¬ä¸­å¼ƒç”¨ã€‚</p> </blockquote> <p>å½“ä½¿ç”¨ <em>inline mode</em> æ—¶ï¼Œ DevTools ä¼šè¾“å‡ºä¿¡æ¯ï¼Œä¾‹å¦‚ï¼šé‡æ–°åŠ è½½ä¹‹å‰ï¼Œå‡ºé”™ä¹‹å‰æˆ– <a href="../../concepts/hot-module-replacement/index.htm" tppabs="https://webpack.docschina.org/concepts/hot-module-replacement/">Hot Module Replacement</a> è¢«å¼€å¯æ—¶ã€‚</p> <p><code>devServer.clientLogLevel</code> å¯èƒ½ä¼šå¯¼è‡´æ—¥å¿—è¿‡äºå†—ä½™ï¼Œä½ å¯ä»¥é€šè¿‡å°†å…¶è®¾ç½®ä¸º <code>'silent'</code> æ¥å…³é—­æ—¥å¿—ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    clientLogLevel<span class="token operator">:</span> <span class="token string">'silent'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --client-log-level silent</code></pre> <h2 id="devservercompress"><code>devServer.compress</code> <a href="#devservercompress" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <p>ä¸ºæ¯ä¸ªé™æ€æ–‡ä»¶å¼€å¯ <a href="javascript:if(confirm('https://betterexplained.com/articles/how-to-optimize-your-site-with-gzip-compression/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://betterexplained.com/articles/how-to-optimize-your-site-with-gzip-compression/'" tppabs="https://betterexplained.com/articles/how-to-optimize-your-site-with-gzip-compression/">gzip compression</a>ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    compress<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --compress</code></pre> <h2 id="devservercontentbase"><code>devServer.contentBase</code> <a href="#devservercontentbase" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean: false</code> <code>string</code> <code>[string]</code> <code>number</code></p> <p>å‘Šè¯‰æœåŠ¡å™¨å†…å®¹çš„æ¥æºã€‚ä»…åœ¨éœ€è¦æä¾›é™æ€æ–‡ä»¶æ—¶æ‰è¿›è¡Œé…ç½®ã€‚<a href="#devserverpublicpath-"><code>devServer.publicPath</code></a> å°†ç”¨äºç¡®å®š bundle çš„æ¥æºï¼Œå¹¶å…·æœ‰ä¼˜å…ˆçº§é«˜äº contentBaseã€‚</p> <blockquote class="tip"> <p>å»ºè®®ä½¿ç”¨ç»å¯¹è·¯å¾„ã€‚</p> </blockquote> <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒå°†ä½¿ç”¨å½“å‰çš„å·¥ä½œç›®å½•æ¥æä¾›å†…å®¹ã€‚ è¦ç¦ç”¨ <code>contentBase</code> ï¼Œè¯·å°†å…¶è®¾ç½®ä¸º <code>false</code> ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å¦‚æœæƒ³ä½¿ç”¨ <a href="#devservercontentbasepublicpath"><code>contentBasePublicPath</code></a> åœ¨å¤šä¸ª URL ä¸Šæä¾›é™æ€å†…å®¹ï¼Œä¹Ÿå¯ä»¥ä»å¤šä¸ªç›®å½•æä¾›æœåŠ¡ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'assets'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --content-base ./path/to/content/dir</code></pre> <h2 id="devservercontentbasepublicpath"><code>devServer.contentBasePublicPath</code> <a href="#devservercontentbasepublicpath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = '/'</code> <code>[string]</code></p> <p>å‘Šè¯‰æœåŠ¡å™¨ä½¿ç”¨å“ªä¸ª URL æœåŠ¡ <code>devServer.contentBase</code> é™æ€å†…å®¹ã€‚å¦‚æœæœ‰ä¸€ä¸ªæ–‡ä»¶ <code>assets/manifest.json</code> ï¼Œå®ƒå°†åœ¨ <code>/serve-content-base-at-this-url/manifest.json</code> ä¸­æä¾›ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'assets'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    contentBasePublicPath<span class="token operator">:</span> <span class="token string">'/serve-content-base-at-this-url'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å¦‚æœåœ¨ <a href="#devservercontentbase"><code>contentBase</code></a> ä¸­è®¾ç½®äº†å¤šä¸ªé™æ€æ–‡ä»¶å¤¹ï¼Œè¯·æä¾›ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token operator">:</span> <span class="token punctuation">[</span>contentBasePublic<span class="token punctuation">,</span> contentBaseOther<span class="token punctuation">]</span><span class="token punctuation">,</span>
    contentBasePublicPath<span class="token operator">:</span> <span class="token punctuation">[</span>
      contentBasePublicPath<span class="token punctuation">,</span>
      contentBasePublicOtherPath
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="devserverdisablehostcheck"><code>devServer.disableHostCheck</code> <a href="#devserverdisablehostcheck" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <p>å½“å°†æ­¤é¡¹é…ç½®è®¾ç½®ä¸º <code>true</code> æ—¶ï¼Œå°†ä¼šè·³è¿‡ host æ£€æŸ¥. <strong>è¿™æ˜¯ä¸æ¨èçš„</strong> å› ä¸ºä¸æ£€æŸ¥hostçš„åº”ç”¨å®¹æ˜“å—åˆ°DNSé‡æ–°ç»‘å®šæ”»å‡»ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    disableHostCheck<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --disable-host-check</code></pre> <h2 id="devserverfilename-"><code>devServer.filename</code> ğŸ”‘ <a href="#devserverfilename-" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code></p> <p>æ­¤é€‰é¡¹å¯ä»¥å‡å°‘åœ¨ <a href="#devserverlazy-">lazy æ¨¡å¼</a>ä¸­çš„ç¼–è¯‘æ“ä½œã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨ <a href="#devserverlazy-">lazy æ¨¡å¼</a>ä¸­ï¼Œæ¯ä¸ªè¯·æ±‚éƒ½è§¦å‘æ–°çš„ç¼–è¯‘ã€‚ä½¿ç”¨ <code>filename</code> ä»…å½“è¯·æ±‚æŸä¸ªæ–‡ä»¶æ—¶æ‰å¯æ‰§è¡Œç¼–è¯‘ã€‚</p> <p>å¦‚æœ <a href="../output/index.htm#outputfilename" tppabs="https://webpack.docschina.org/configuration/output/#outputfilename"><code>output.filename</code></a> è®¾ç½®ä¸º<code>'bundle.js'</code>ï¼Œåˆ™ä½¿ç”¨ <code>devServer.filename</code> å¦‚ä¸‹ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    lazy<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ç°åœ¨å®ƒå°†ä»…åœ¨è¯·æ±‚ <code>/bundle.js</code> æ—¶ç¼–è¯‘è¯¥æ†ç»‘è½¯ä»¶ã€‚</p> <blockquote class="tip"> <p>å½“ä¸ä½¿ç”¨ <a href="#devserverlazy-">lazy æ¨¡å¼</a>æ—¶ï¼Œ<code>filename</code> ä¸ä¼šç”Ÿæ•ˆ.</p> </blockquote> <h2 id="devserverheaders-"><code>devServer.headers</code> ğŸ”‘ <a href="#devserverheaders-" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object</code></p> <p>ä¸ºæ‰€æœ‰è¯·æ±‚æ·»åŠ å“åº”æ ‡å¤´ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    headers<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'X-Custom-Foo'</span><span class="token operator">:</span> <span class="token string">'bar'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="devserverhistoryapifallback"><code>devServer.historyApiFallback</code> <a href="#devserverhistoryapifallback" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code> <code>object</code></p> <p>å½“ä½¿ç”¨ <a href="javascript:if(confirm('https://developer.mozilla.org/en-US/docs/Web/API/History  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://developer.mozilla.org/en-US/docs/Web/API/History'" tppabs="https://developer.mozilla.org/en-US/docs/Web/API/History">HTML5 History API</a> æ—¶, æ‰€æœ‰çš„ <code>404</code> è¯·æ±‚éƒ½ä¼šå“åº” <code>index.html</code> çš„å†…å®¹ã€‚ å°† <code>devServer.historyApiFallback</code> è®¾ä¸º <code>true</code>å¼€å¯ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    historyApiFallback<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡ä¼ é€’å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨é…ç½®é€‰é¡¹è¯¸å¦‚ <code>rewrites</code>:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    historyApiFallback<span class="token operator">:</span> <span class="token punctuation">{</span>
      rewrites<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> to<span class="token operator">:</span> <span class="token string">'/views/landing.html'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/subpage</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> to<span class="token operator">:</span> <span class="token string">'/views/subpage.html'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> to<span class="token operator">:</span> <span class="token string">'/views/404.html'</span> <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>åœ¨è·¯å¾„ä¸­ä½¿ç”¨ç‚¹æ—¶ï¼ˆä¸ Angular ç›¸åŒï¼‰ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨ <code>disableDotRule</code>ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    historyApiFallback<span class="token operator">:</span> <span class="token punctuation">{</span>
      disableDotRule<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --history-api-fallback</code></pre> <p>æœ‰å…³æ›´å¤šé€‰é¡¹å’Œä¿¡æ¯ï¼Œè¯·å‚è§ <a href="javascript:if(confirm('https://github.com/bripkens/connect-history-api-fallback  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/bripkens/connect-history-api-fallback'" tppabs="https://github.com/bripkens/connect-history-api-fallback">connect-history-api-fallback</a> æ–‡æ¡£ã€‚</p> <h2 id="devserverhost"><code>devServer.host</code> <a href="#devserverhost" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = 'localhost'</code></p> <p>æŒ‡å®šè¦ä½¿ç”¨çš„ hostã€‚å¦‚æœä½ å¸Œæœ›æœåŠ¡å™¨å¯ä»å¤–éƒ¨è®¿é—®ï¼Œè¯·æŒ‰ä»¥ä¸‹æ–¹å¼è¿›è¡Œé…ç½®ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    host<span class="token operator">:</span> <span class="token string">'0.0.0.0'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --host <span class="token number">0.0</span>.0.0</code></pre> <h2 id="devserverhot"><code>devServer.hot</code> <a href="#devserverhot" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <p>å¯ç”¨ webpack çš„ <a href="../../concepts/hot-module-replacement/index.htm" tppabs="https://webpack.docschina.org/concepts/hot-module-replacement/">Hot Module Replacement</a> åŠŸèƒ½ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    hot<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p>è¯·æ³¨æ„ï¼Œè¦å®Œå…¨å¯ç”¨ HMR ï¼Œéœ€è¦ <a href="../../plugins/hot-module-replacement-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/hot-module-replacement-plugin/"><code>webpack.HotModuleReplacementPlugin</code></a>ã€‚å¦‚æœä½¿ç”¨ --hot é€‰é¡¹å¯åŠ¨ <code>webpack</code> æˆ– <code>webpack-dev-server</code>ï¼Œè¯¥æ’ä»¶å°†è‡ªåŠ¨æ·»åŠ ï¼Œå› æ­¤ä½ å¯èƒ½ä¸éœ€è¦å°†å…¶æ·»åŠ åˆ° <code>webpack.config.js</code> ä¸­ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ <a href="../../concepts/hot-module-replacement/index.htm" tppabs="https://webpack.docschina.org/concepts/hot-module-replacement/">HMR æ¦‚è§ˆç« èŠ‚</a>ã€‚</p> </blockquote> <h2 id="devserverhotonly"><code>devServer.hotOnly</code> <a href="#devserverhotonly" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <p>å¯ç”¨çƒ­æ¨¡å—æ›¿æ¢ï¼ˆè¯·å‚è§ <a href="#devserverhot"><code>devServer.hot</code></a> ï¼‰ï¼Œè€Œæ— éœ€é¡µé¢åˆ·æ–°ä½œä¸ºæ„å»ºå¤±è´¥æ—¶çš„å›é€€ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    hotOnly<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --hot only</code></pre> <h2 id="devserverhttp2"><code>devServer.http2</code> <a href="#devserverhttp2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code></p> <p>ä½¿ç”¨ <a href="javascript:if(confirm('https://www.npmjs.com/package/spdy  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.npmjs.com/package/spdy'" tppabs="https://www.npmjs.com/package/spdy">spdy</a> æä¾› HTTP/2 æœåŠ¡ã€‚å¯¹äº Node 10.0.0 åŠæ›´é«˜ç‰ˆæœ¬ï¼Œæ­¤é€‰é¡¹å°†è¢«å¿½ç•¥ï¼Œå› ä¸º spdy åœ¨è¿™äº›ç‰ˆæœ¬ä¸­å·²è¢«ç ´åã€‚ä¸€æ—¦ <a href="javascript:if(confirm('https://expressjs.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://expressjs.com/'" tppabs="https://expressjs.com/">Express</a> æ”¯æŒï¼Œå¼€å‘æœåŠ¡å™¨å°†è¿ç§»åˆ° Node å†…ç½®çš„ HTTP/2ã€‚</p> <p>å¦‚æœæœªå°† <code>devServer.http2</code> æ˜¾å¼è®¾ç½®ä¸º false ï¼Œåˆ™åœ¨å¯ç”¨ <a href="#devserverhttps"><code>devServer.https</code></a> æ—¶å°†é»˜è®¤ä¸º true ã€‚ å¦‚æœå¯ç”¨ <code>devServer.http2</code>ï¼Œä½†æœåŠ¡å™¨æ— æ³•é€šè¿‡ HTTP/2 æä¾›æœåŠ¡ï¼Œåˆ™æœåŠ¡å™¨é»˜è®¤ä¸º HTTPSã€‚</p> <p>HTTP/2 å¸¦æœ‰è‡ªç­¾åè¯ä¹¦ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    http2<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡ <a href="#devserverhttps">https</a> é…ç½®ä½ è‡ªå·±çš„è¯ä¹¦æ–‡ä»¶:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    http2<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    https<span class="token operator">:</span> <span class="token punctuation">{</span>
      key<span class="token operator">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/server.key'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      cert<span class="token operator">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/server.crt'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      ca<span class="token operator">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/ca.pem'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --http2</code></pre> <p>è¦é€šè¿‡CLIä½¿ç”¨è‡ªå·±çš„è¯ä¹¦ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹é€‰é¡¹</p> <pre><code class="hljs language-bash">webpack serve --http2 --key ./path/to/server.key --cert ./path/to/server.crt --cacert ./path/to/ca.pem</code></pre> <h2 id="devserverhttps"><code>devServer.https</code> <a href="#devserverhttps" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code> <code>object</code></p> <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¼€å‘æœåŠ¡å™¨å°†é€šè¿‡HTTPæä¾›æœåŠ¡ã€‚å¯ä»¥é€‰æ‹©ä½¿ç”¨HTTPSé€šè¿‡HTTP/2æä¾›æœåŠ¡ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    https<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æ ¹æ®ä¸Šè¿°é…ç½®ï¼Œå°†ä½¿ç”¨è‡ªç­¾åè¯ä¹¦ï¼Œä½†æ˜¯ä½ ä¹Ÿå¯ä»¥æä¾›è‡ªå·±çš„è¯ä¹¦ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    https<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    key<span class="token operator">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/server.key'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    cert<span class="token operator">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/server.crt'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    ca<span class="token operator">:</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'/path/to/ca.pem'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>è¯¥å¯¹è±¡ç›´æ¥ä¼ é€’åˆ° Node.js HTTPS æ¨¡å—ï¼Œå› æ­¤è¯·å‚é˜… <a href="javascript:if(confirm('https://nodejs.org/api/https.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/api/https.html'" tppabs="https://nodejs.org/api/https.html">HTTPS documentation</a> ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚</p> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --https</code></pre> <p>è¦é€šè¿‡ CLI ä½¿ç”¨è‡ªå·±çš„è¯ä¹¦ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹é€‰é¡¹</p> <pre><code class="hljs language-bash">webpack serve --https --key ./path/to/server.key --cert ./path/to/server.crt --cacert ./path/to/ca.pem</code></pre> <h2 id="devserverindex"><code>devServer.index</code> <a href="#devserverindex" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code></p> <p>è®¾ç½® index æ–‡ä»¶çš„æ–‡ä»¶åã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    index<span class="token operator">:</span> <span class="token string">'index.html'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="devserverinfo---cli-only"><code>devServer.info</code> - CLI only <a href="#devserverinfo---cli-only" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <p>è¾“å‡º cli ä¿¡æ¯ã€‚é»˜è®¤æƒ…å†µä¸‹å¯ç”¨ã€‚</p> <pre><code class="hljs language-bash">webpack serve --info <span class="token boolean">false</span></code></pre> <h2 id="devserverinjectclient"><code>devServer.injectClient</code> <a href="#devserverinjectclient" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code> <code>function (compilerConfig) => boolean</code></p> <p>å‘ <code>devServer</code> æ³¨å…¥ä¸€ä¸ªå®¢æˆ·ç«¯ã€‚è®¾ç½® <code>devServer.injectClient</code> å€¼ä¸º <code>true</code> æ—¶ï¼Œä¼šå‘æœåŠ¡æ³¨å…¥å®¢æˆ·ç«¯ã€‚ä¹Ÿå¯ä»¥è®¾ç½®æ¡ä»¶æ³¨å…¥å‡½æ•°ï¼š</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">injectClient</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">compilerConfig</span><span class="token punctuation">)</span> <span class="token operator">=></span> compilerConfig<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'only-include'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="devserverinjecthot"><code>devServer.injectHot</code> <a href="#devserverinjecthot" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code> <code>function (compilerConfig) => boolean</code></p> <p>å‘Šè¯‰ <code>devServer</code> æ³¨å…¥çƒ­æ¨¡å—æ›¿æ¢ã€‚è®¾ç½® <code>devServer.injectHot</code> å€¼ä¸º <code>true</code> æ—¶ï¼Œä¼šå§‹ç»ˆæ³¨å…¥ã€‚ä¹Ÿå¯ä»¥è®¾ç½®æ¡ä»¶æ³¨å…¥å‡½æ•°ï¼š</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    hot<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">injectHot</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">compilerConfig</span><span class="token punctuation">)</span> <span class="token operator">=></span> compilerConfig<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'only-include'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p>ä½¿ç”¨å‰è¯·ç¡®ä¿ <a href="#devserverhot"><code>devServer.hot</code></a> çš„å€¼è®¾ç½®ä¸º <code>true</code>ï¼Œå› ä¸º <code>devServer.injectHot</code> ä»…é€‚ç”¨äº HMRã€‚</p> </blockquote> <h2 id="devserverinline"><code>devServer.inline</code> <a href="#devserverinline" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <p>åœ¨å¼€å‘æœåŠ¡å™¨çš„ä¸¤ç§ä¸åŒæ¨¡å¼ä¹‹é—´åˆ‡æ¢ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåº”ç”¨ç¨‹åºå°†å¯ç”¨ <strong>inlineæ¨¡å¼</strong>ã€‚è¿™æ„å‘³ç€å°†åœ¨ bundle ä¸­æ’å…¥è„šæœ¬ä»¥è¿›è¡Œå®æ—¶é‡æ–°åŠ è½½ï¼Œå¹¶ä¸”æ„å»ºæ¶ˆæ¯å°†å‡ºç°åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­ã€‚</p> <p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <strong>iframeæ¨¡å¼</strong>ï¼Œå®ƒåœ¨é€šçŸ¥æ ä¸‹ä½¿ç”¨å¸¦æœ‰æœ‰å…³æ„å»ºæ¶ˆæ¯çš„<code>&#x3C;iframe></code>ã€‚ åˆ‡æ¢åˆ° <strong>iframeæ¨¡å¼</strong>ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    inline<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --inline <span class="token boolean">false</span></code></pre> <blockquote class="tip"> <p>å¯¹äº <a href="../../plugins/hot-module-replacement-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/hot-module-replacement-plugin/">Hot Module Replacement</a> ï¼Œå»ºè®®ä½¿ç”¨ä¸²è”æ¨¡å¼ï¼Œå› ä¸ºå®ƒåŒ…å«æ¥è‡ª websocket çš„ HMR è§¦å‘å™¨ã€‚ è½®è¯¢æ¨¡å¼å¯ä»¥ç”¨ä½œæ›¿ä»£æ–¹æ³•ï¼Œä½†éœ€è¦é™„åŠ çš„å…¥å£ç‚¹<code>'webpack/hot/poll?1000'</code>ã€‚</p> </blockquote> <h2 id="devserverlazy-"><code>devServer.lazy</code> ğŸ”‘ <a href="#devserverlazy-" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <p>å¯ç”¨ <code>devServer.lazy</code> æ—¶ï¼Œå¼€å‘æœåŠ¡å™¨ä»…åœ¨æ”¶åˆ°è¯·æ±‚æ—¶æ‰ç¼–è¯‘æ†ç»‘è½¯ä»¶ã€‚ è¿™æ„å‘³ç€webpackå°†ä¸ä¼šç›‘è§†ä»»ä½•æ–‡ä»¶æ›´æ”¹ã€‚ æˆ‘ä»¬ç§°è¿™ç§æ–¹å¼ä¸ºâ€œæ‡’æƒ°æ¨¡å¼(<strong>lazy mode</strong>)â€ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    lazy<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --lazy</code></pre> <blockquote class="tip"> <p><a href="#devserverwatchoptions-"><code>watchOptions</code></a> ä¸ä¼šæœ‰ä»»ä½•å‰¯ä½œç”¨å½“ä½¿ç”¨ <strong>lazy mode</strong> æ—¶ã€‚</p> </blockquote> <blockquote class="tip"> <p>å¦‚æœæ˜¯é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨, è¯·ç¡®ä¿ <strong>inline mode</strong> å¤„äºç¦ç”¨çŠ¶æ€ã€‚</p> </blockquote> <h2 id="devserverlivereload"><code>devServer.liveReload</code> <a href="#devserverlivereload" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = true</code></p> <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ£€æµ‹åˆ°æ–‡ä»¶æ›´æ”¹æ—¶ï¼Œå¼€å‘æœåŠ¡å™¨å°†é‡æ–°åŠ è½½/åˆ·æ–°é¡µé¢ã€‚ å¿…é¡»ç¦ç”¨ <a href="#devserverhot"><code>devServer.hot</code></a> é€‰é¡¹æˆ–å¿…é¡»å¯ç”¨ <a href="#devserverwatchcontentbase"><code>devServer.watchContentBase</code></a> é€‰é¡¹ï¼Œæ‰èƒ½ä½¿ liveReload ç”Ÿæ•ˆã€‚ é€šè¿‡å°†å…¶è®¾ç½®ä¸º false æ¥ç¦ç”¨ devServer.liveReloadï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    liveReload<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --no-live-reload</code></pre> <h2 id="devservermimetypes-"><code>devServer.mimeTypes</code> ğŸ”‘ <a href="#devservermimetypes-" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object</code></p> <p>å…è®¸ dev-server æ³¨å†Œè‡ªå®šä¹‰çš„mimeç±»å‹ã€‚ è¯¥å¯¹è±¡è¢«ä¼ é€’åˆ°åº•å±‚çš„ <code>webpack-dev-middleware</code>ã€‚ æœ‰å…³ä½¿ç”¨è¯´æ˜ï¼Œè¯·å‚è§ <a href="javascript:if(confirm('https://github.com/webpack/webpack-dev-middleware  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack-dev-middleware#mimetypes'" tppabs="https://github.com/webpack/webpack-dev-middleware#mimetypes">documentation</a> ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    mimeTypes<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string">'text/html'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'phtml'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="devservernoinfo-"><code>devServer.noInfo</code> ğŸ”‘ <a href="#devservernoinfo-" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code></p> <p>å‘Šè¯‰å¼€å‘æœåŠ¡å™¨ç¦æ­¢æ˜¾ç¤ºè¯¸å¦‚ Webpack æ†ç»‘åŒ…ä¿¡æ¯ä¹‹ç±»çš„æ¶ˆæ¯ã€‚ é”™è¯¯å’Œè­¦å‘Šä»å°†æ˜¾ç¤ºã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    noInfo<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="devserveronlistening"><code>devServer.onListening</code> <a href="#devserveronlistening" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>function (server)</code></p> <p>æä¾›ä¸€ä¸ªé€‰é¡¹ï¼Œå½“ <code>webpack-dev-server</code> å¼€å§‹ç›‘å¬ç«¯å£ä¸Šçš„è¿æ¥æ—¶ï¼Œæ‰§è¡Œè‡ªå®šä¹‰åŠŸèƒ½ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">onListening</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">server</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> port <span class="token operator">=</span> server<span class="token punctuation">.</span>listeningApp<span class="token punctuation">.</span><span class="token function">address</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>port<span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Listening on port:'</span><span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="devserveropen"><code>devServer.open</code> <a href="#devserveropen" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code> <code>string</code> <code>object</code></p> <p>å‘Šè¯‰ dev-server åœ¨æœåŠ¡å™¨å¯åŠ¨åæ‰“å¼€æµè§ˆå™¨ã€‚ å°†å…¶è®¾ç½®ä¸º <code>true</code> ä»¥æ‰“å¼€é»˜è®¤æµè§ˆå™¨ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    open<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æä¾›è¦ä½¿ç”¨çš„æµè§ˆå™¨åç§°ï¼Œè€Œä¸æ˜¯é»˜è®¤åç§°ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    open<span class="token operator">:</span> <span class="token string">'Google Chrome'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å¦‚æœè¦åœ¨æ‰“å¼€æµè§ˆå™¨æ—¶ä½¿ç”¨æ ‡å¿—ï¼Œä¾‹å¦‚æ‰“å¼€éšèº«çª—å£ï¼ˆ <code>--incognito</code> æ ‡å¿—ï¼‰ï¼Œåˆ™å¯ä»¥å°† <code>open</code> è®¾ç½®ä¸ºå¯¹è±¡ã€‚ è¯¥å¯¹è±¡æ¥å—æ‰€æœ‰ <a href="javascript:if(confirm('https://www.npmjs.com/package/open  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.npmjs.com/package/open'" tppabs="https://www.npmjs.com/package/open">open</a> é€‰é¡¹ï¼Œ<code>app</code> å±æ€§å¿…é¡»æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚ æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¿…é¡»æ˜¯æµè§ˆå™¨åç§°ï¼Œå…¶ä»–åé¢çš„å…ƒç´ æ˜¯è¦ä½¿ç”¨çš„æ ‡å¿—ã€‚ ä¾‹å¦‚ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    open<span class="token operator">:</span> <span class="token punctuation">{</span>
      app<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Google Chrome'</span><span class="token punctuation">,</span> <span class="token string">'--incognito'</span><span class="token punctuation">,</span> <span class="token string">'--other-flag'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --open <span class="token string">'Google Chrome'</span></code></pre> <blockquote class="tip"> <p>æµè§ˆå™¨åº”ç”¨ç¨‹åºåç§°å–å†³äºå¹³å°ã€‚ ä¸è¦åœ¨å¯é‡ç”¨æ¨¡å—ä¸­å¯¹å…¶è¿›è¡Œç¡¬ç¼–ç ã€‚ ä¾‹å¦‚ï¼Œ<code>'Chrome'</code> åœ¨macOSä¸Šæ˜¯ <code>'Google Chrome'</code> ï¼Œåœ¨Linuxä¸Šæ˜¯ <code>'Google Chrome'</code> åœ¨Windowsä¸Šæ˜¯ <code>'Chrome'</code> ã€‚</p> </blockquote> <h2 id="devserveropenpage"><code>devServer.openPage</code> <a href="#devserveropenpage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code> <code>[string]</code></p> <p>æŒ‡å®šæ‰“å¼€æµè§ˆå™¨æ—¶è¦æµè§ˆçš„é¡µé¢ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    openPage<span class="token operator">:</span> <span class="token string">'/different/page'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --open-page /different/page</code></pre> <p>å¦‚æœå¸Œæœ›æŒ‡å®šå¤šä¸ªé¡µé¢åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    openPage<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'/different/page1'</span><span class="token punctuation">,</span> <span class="token string">'/different/page2'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --open-page /different/page1,/different/page2</code></pre> <h2 id="devserveroverlay"><code>devServer.overlay</code> <a href="#devserveroverlay" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code> <code>object: { errors boolean = false, warnings boolean = false }</code></p> <p>å‡ºç°ç¼–è¯‘å™¨é”™è¯¯æˆ–è­¦å‘Šæ—¶ï¼Œåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºå…¨å±è¦†ç›–ã€‚ å¦‚æœåªæƒ³æ˜¾ç¤ºç¼–è¯‘å™¨é”™è¯¯ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    overlay<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å¦‚æœè¦æ˜¾ç¤ºè­¦å‘Šå’Œé”™è¯¯ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    overlay<span class="token operator">:</span> <span class="token punctuation">{</span>
      warnings<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      errors<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="devserverpfx"><code>devServer.pfx</code> <a href="#devserverpfx" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code></p> <p>é€šè¿‡CLIä½¿ç”¨æ—¶ï¼Œæ˜¯SSL .pfxæ–‡ä»¶çš„è·¯å¾„ã€‚ å¦‚æœåœ¨é€‰é¡¹ä¸­ä½¿ç”¨ï¼Œåˆ™å®ƒåº”è¯¥æ˜¯.pfxæ–‡ä»¶çš„å­—èŠ‚æµã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    pfx<span class="token operator">:</span> <span class="token string">'./path/to/file.pfx'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --pfx ./path/to/file.pfx</code></pre> <h2 id="devserverpfxpassphrase"><code>devServer.pfxPassphrase</code> <a href="#devserverpfxpassphrase" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code></p> <p>å°†å¯†ç çŸ­è¯­è½¬æ¢ä¸ºSSL PFXæ–‡ä»¶ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    pfxPassphrase<span class="token operator">:</span> <span class="token string">'passphrase'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --pfx-passphrase passphrase</code></pre> <h2 id="devserverport"><code>devServer.port</code> <a href="#devserverport" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>number</code></p> <p>æŒ‡å®šç«¯å£å·ä»¥ä¾¦å¬ä»¥ä¸‹è¯·æ±‚ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    port<span class="token operator">:</span> <span class="token number">8080</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --port <span class="token number">8080</span></code></pre> <h2 id="devserverproxy"><code>devServer.proxy</code> <a href="#devserverproxy" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object</code> <code>[object, function]</code></p> <p>å½“æ‹¥æœ‰å•ç‹¬çš„APIåç«¯å¼€å‘æœåŠ¡å™¨å¹¶ä¸”å¸Œæœ›åœ¨åŒä¸€åŸŸä¸Šå‘é€APIè¯·æ±‚æ—¶ï¼Œä»£ç†æŸäº›URLå¯èƒ½ä¼šå¾ˆæœ‰ç”¨ã€‚</p> <p>å¼€å‘æœåŠ¡å™¨ä½¿ç”¨åŠŸèƒ½å¼ºå¤§çš„ <a href="javascript:if(confirm('https://github.com/chimurai/http-proxy-middleware  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/chimurai/http-proxy-middleware'" tppabs="https://github.com/chimurai/http-proxy-middleware">http-proxy-middleware</a> è½¯ä»¶åŒ…ã€‚ æŸ¥çœ‹å…¶ <a href="javascript:if(confirm('https://github.com/chimurai/http-proxy-middleware  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/chimurai/http-proxy-middleware#options'" tppabs="https://github.com/chimurai/http-proxy-middleware#options">documentation</a> äº†è§£æ›´å¤šé«˜çº§ç”¨æ³•ã€‚ è¯·æ³¨æ„ï¼Œ<code>http-proxy-middleware</code> çš„æŸäº›åŠŸèƒ½ä¸éœ€è¦<code>target</code>é”®ï¼Œä¾‹å¦‚ å®ƒçš„ <code>router</code> åŠŸèƒ½ï¼Œä½†æ˜¯ä»ç„¶éœ€è¦åœ¨æ­¤å¤„çš„é…ç½®ä¸­åŒ…å«<code>target</code>ï¼Œå¦åˆ™<code>webpack-dev-server</code> ä¸ä¼šå°†å…¶ä¼ é€’ç»™ <code>http-proxy-middleware</code>ï¼‰ã€‚</p> <p>ä½¿ç”¨åç«¯åœ¨ <code>localhost:3000</code> ä¸Šï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ¥å¯ç”¨ä»£ç†ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    proxy<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'/api'</span><span class="token operator">:</span> <span class="token string">'http://localhost:3000'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ç°åœ¨ï¼Œå¯¹ <code>/api/users</code> çš„è¯·æ±‚ä¼šå°†è¯·æ±‚ä»£ç†åˆ° <code>http://localhost:3000/api/users</code>ã€‚</p> <p>å¦‚æœä¸å¸Œæœ›ä¼ é€’<code>/api</code>ï¼Œåˆ™éœ€è¦é‡å†™è·¯å¾„ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    proxy<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'/api'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        target<span class="token operator">:</span> <span class="token string">'http://localhost:3000'</span><span class="token punctuation">,</span>
        pathRewrite<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string">'^/api'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå°†ä¸æ¥å—åœ¨ HTTPS ä¸Šè¿è¡Œä¸”è¯ä¹¦æ— æ•ˆçš„åç«¯æœåŠ¡å™¨ã€‚ å¦‚æœéœ€è¦ï¼Œå¯ä»¥è¿™æ ·ä¿®æ”¹é…ç½®ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    proxy<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'/api'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        target<span class="token operator">:</span> <span class="token string">'https://other-server.example.com'</span><span class="token punctuation">,</span>
        secure<span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æœ‰æ—¶ä¸æƒ³ä»£ç†æ‰€æœ‰å†…å®¹ã€‚ å¯ä»¥åŸºäºå‡½æ•°çš„è¿”å›å€¼ç»•è¿‡ä»£ç†ã€‚</p> <p>åœ¨è¯¥åŠŸèƒ½ä¸­ï¼Œå¯ä»¥è®¿é—®è¯·æ±‚ï¼Œå“åº”å’Œä»£ç†é€‰é¡¹ã€‚</p> <ul> <li>è¿”å› <code>null</code> æˆ– <code>undefined</code> ä»¥ç»§ç»­ä½¿ç”¨ä»£ç†å¤„ç†è¯·æ±‚ã€‚</li> <li>è¿”å› <code>false</code> ä¼šä¸ºè¯·æ±‚äº§ç”Ÿ404é”™è¯¯ã€‚</li> <li>è¿”å›æä¾›æœåŠ¡çš„è·¯å¾„ï¼Œè€Œä¸æ˜¯ç»§ç»­ä»£ç†è¯·æ±‚ã€‚</li> </ul> <p>ä¾‹å¦‚ã€‚ å¯¹äºæµè§ˆå™¨è¯·æ±‚ï¼Œæƒ³è¦æä¾› HTML é¡µé¢ï¼Œä½†æ˜¯å¯¹äº API è¯·æ±‚ï¼Œæƒ³è¦ä»£ç†å®ƒã€‚ å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    proxy<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'/api'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        target<span class="token operator">:</span> <span class="token string">'http://localhost:3000'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">bypass</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> proxyOptions</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>accept<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Skipping proxy for browser request.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token string">'/index.html'</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å¦‚æœæƒ³å°†å¤šä¸ªç‰¹å®šè·¯å¾„ä»£ç†åˆ°åŒä¸€ç›®æ ‡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªå¸¦æœ‰ <code>context</code> å±æ€§çš„å¯¹è±¡çš„æ•°ç»„ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    proxy<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      context<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'/auth'</span><span class="token punctuation">,</span> <span class="token string">'/api'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      target<span class="token operator">:</span> <span class="token string">'http://localhost:3000'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>è¯·æ³¨æ„ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸ä¼šä»£ç†å¯¹ root çš„è¯·æ±‚ã€‚ è¦å¯ç”¨æ ¹ä»£ç†ï¼Œåº”å°† <code>devServer.index</code> é€‰é¡¹æŒ‡å®šä¸ºè™šå‡å€¼ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    index<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// specify to enable root proxying</span>
    host<span class="token operator">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
    contentBase<span class="token operator">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span>
    proxy<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">context</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      target<span class="token operator">:</span> <span class="token string">'http://localhost:1234'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä»£ç†æ—¶ä¼šä¿ç•™ä¸»æœºå¤´çš„æ¥æºï¼Œå¯ä»¥å°† <code>changeOrigin</code> è®¾ç½®ä¸º <code>true</code> ä»¥è¦†ç›–æ­¤è¡Œä¸ºã€‚ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä¾‹å¦‚ä½¿ç”¨ <a href="javascript:if(confirm('https://en.wikipedia.org/wiki/Virtual_hosting  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://en.wikipedia.org/wiki/Virtual_hosting#Name-based'" tppabs="https://en.wikipedia.org/wiki/Virtual_hosting#Name-based">name-based virtual hosted sites</a>ï¼Œå®ƒå¾ˆæœ‰ç”¨ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    proxy<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">'/api'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        target<span class="token operator">:</span> <span class="token string">'http://localhost:3000'</span><span class="token punctuation">,</span>
        changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="devserverprogress---cli-only"><code>devServer.progress</code> - CLI only <a href="#devserverprogress---cli-only" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <p>å°†è¿è¡Œè¿›åº¦è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚</p> <pre><code class="hljs language-bash">webpack serve --progress</code></pre> <h2 id="devserverpublic"><code>devServer.public</code> <a href="#devserverpublic" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code></p> <p>ä½¿ç”¨ <em>inlineæ¨¡å¼</em> å¹¶ä»£ç† dev-server æ—¶ï¼Œå†…è”å®¢æˆ·ç«¯è„šæœ¬å¹¶ä¸æ€»æ˜¯çŸ¥é“è¦è¿æ¥åˆ°å“ªé‡Œã€‚ å®ƒå°†å°è¯•åŸºäº <code>window.location</code> çŒœæµ‹æœåŠ¡å™¨çš„ URLï¼Œä½†æ˜¯å¦‚æœå¤±è´¥ï¼Œåˆ™éœ€è¦ä½¿ç”¨å®ƒã€‚</p> <p>ä¾‹å¦‚ï¼Œå¼€å‘æœåŠ¡å™¨ç”± nginx ä»£ç†ï¼Œå¹¶åœ¨ <code>myapp.test</code> ä¸Šå¯ç”¨ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span><span class="token operator">:</span> <span class="token string">'myapp.test:80'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --public myapp.test:80</code></pre> <h2 id="devserverpublicpath-"><code>devServer.publicPath</code> ğŸ”‘ <a href="#devserverpublicpath-" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = '/'</code></p> <p>æ†ç»‘çš„æ–‡ä»¶å°†åœ¨æ­¤è·¯å¾„ä¸‹çš„æµè§ˆå™¨ä¸­å¯ç”¨ã€‚</p> <p>å‡è®¾æœåŠ¡å™¨åœ¨ <code>http://localhost:8080</code> ä¸‹è¿è¡Œï¼Œå¹¶ä¸” <a href="../output/index.htm#outputfilename" tppabs="https://webpack.docschina.org/configuration/output/#outputfilename"><code>output.filename</code></a> è®¾ç½®ä¸º <code>bundle.js</code>ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>devServer.publicPath</code> ä¸º <code>'/'</code>ï¼Œå› æ­¤çš„æ†ç»‘è½¯ä»¶å¯ä»¥ä½œä¸º <code>http://localhost:8080/bundle.js</code> è·å¾—ã€‚</p> <p>æ›´æ”¹ <code>devServer.publicPath</code> ä»¥å°†æ†ç»‘è½¯ä»¶æ”¾åœ¨ç‰¹å®šç›®å½•ä¸‹ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    publicPath<span class="token operator">:</span> <span class="token string">'/assets/'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>è¯¥æ†ç»‘åŒ…ç°åœ¨å°†ä»¥ <code>http://localhost:8080/assets/bundle.js</code> çš„å½¢å¼æä¾›ã€‚</p> <blockquote class="tip"> <p>ç¡®ä¿ <code>devServer.publicPath</code> å§‹ç»ˆä»¥æ­£æ–œæ å¼€å¤´å’Œç»“å°¾ã€‚</p> </blockquote> <p>ä¹Ÿå¯ä»¥ä½¿ç”¨å®Œæ•´çš„URLã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    publicPath<span class="token operator">:</span> <span class="token string">'http://localhost:8080/assets/'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>è¯¥æ†ç»‘åŒ…ç°åœ¨å°†ä»¥ <code>http://localhost:8080/assets/bundle.js</code> çš„å½¢å¼æä¾›ã€‚</p> <blockquote class="tip"> <p>å»ºè®® <code>devServer.publicPath</code> ä¸ <a href="../output/index.htm#outputpublicpath" tppabs="https://webpack.docschina.org/configuration/output/#outputpublicpath"><code>output.publicPath</code></a> ç›¸åŒã€‚</p> </blockquote> <h2 id="devserverquiet-"><code>devServer.quiet</code> ğŸ”‘ <a href="#devserverquiet-" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <p>å¯ç”¨ <code>devServer.quiet</code> åï¼Œé™¤äº†åˆå§‹å¯åŠ¨ä¿¡æ¯å¤–ï¼Œä»€ä¹ˆéƒ½ä¸ä¼šå†™å…¥æ§åˆ¶å°ã€‚ è¿™ä¹Ÿæ„å‘³ç€æ¥è‡ªwebpackçš„é”™è¯¯æˆ–è­¦å‘Šæ˜¯ä¸å¯è§çš„ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    quiet<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --quiet</code></pre> <h2 id="devserverserveindex"><code>devServer.serveIndex</code> <a href="#devserverserveindex" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = true</code></p> <p>å‘Šè¯‰å¼€å‘æœåŠ¡å™¨å¯ç”¨åä½¿ç”¨ <a href="javascript:if(confirm('https://github.com/expressjs/serve-index  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/expressjs/serve-index'" tppabs="https://github.com/expressjs/serve-index"><code>serveIndex</code></a> ä¸­é—´ä»¶ã€‚</p> <p><a href="javascript:if(confirm('https://github.com/expressjs/serve-index  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/expressjs/serve-index'" tppabs="https://github.com/expressjs/serve-index"><code>serveIndex</code></a> ä¸­é—´ä»¶ä¼šåœ¨æŸ¥çœ‹æ²¡æœ‰index.htmlæ–‡ä»¶çš„ç›®å½•æ—¶ç”Ÿæˆç›®å½•åˆ—è¡¨ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    serveIndex<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="devserversetup"><code>devServer.setup</code> <a href="#devserversetup" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>function (app, server)</code></p> <blockquote class="warning"> <p>è¿™ä¸ªé€‰é¡¹å°†è¢« <a href="#devserverbefore"><code>devServer.before</code></a> æ‰€æ”¯æŒï¼Œå¹¶å°†åœ¨v3.0.0ä¸­åˆ é™¤ã€‚</p> </blockquote> <p>åœ¨è¿™é‡Œï¼Œå¯ä»¥è®¿é—® Express åº”ç”¨ç¨‹åºå¯¹è±¡ï¼Œå¹¶å‘å…¶ä¸­æ·»åŠ è‡ªå·±çš„è‡ªå®šä¹‰ä¸­é—´ä»¶ã€‚ ä¾‹å¦‚ï¼Œä¸ºæŸäº›è·¯å¾„å®šä¹‰è‡ªå®šä¹‰å¤„ç†ç¨‹åºï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">setup</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> server</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/some/path'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> custom<span class="token operator">:</span> <span class="token string">'response'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="devserversockhost"><code>devServer.sockHost</code> <a href="#devserversockhost" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code></p> <p>å‘Šè¯‰è¿æ¥åˆ° <code>devServer</code> çš„å®¢æˆ·ç«¯ä½¿ç”¨æä¾›çš„å¥—æ¥å­—ä¸»æœºã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    sockHost<span class="token operator">:</span> <span class="token string">'myhost.test'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="devserversockpath"><code>devServer.sockPath</code> <a href="#devserversockpath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = '/sockjs-node'</code></p> <p>è¿æ¥åˆ°é‡è£…æ’æ§½çš„è·¯å¾„ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    sockPath<span class="token operator">:</span> <span class="token string">'/socket'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --sock-path /socket</code></pre> <h2 id="devserversockport"><code>devServer.sockPort</code> <a href="#devserversockport" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>number</code> <code>string</code></p> <p>å‘Šè¯‰è¿æ¥åˆ°<code>devServer</code>çš„å®¢æˆ·ç«¯ä½¿ç”¨æä¾›çš„å¥—æ¥å­—ç«¯å£ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    sockPort<span class="token operator">:</span> <span class="token number">8080</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="devserverstaticoptions"><code>devServer.staticOptions</code> <a href="#devserverstaticoptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object</code></p> <p>å¯ä»¥é…ç½®é«˜çº§é€‰é¡¹ä»¥ä» <code>contentBase</code> æä¾›é™æ€æ–‡ä»¶ã€‚ æœ‰å…³å¯èƒ½çš„é€‰é¡¹ï¼Œè¯·å‚è§ <a href="javascript:if(confirm('http://expressjs.com/en/4x/api.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://expressjs.com/en/4x/api.html#express.static'" tppabs="http://expressjs.com/en/4x/api.html#express.static">Express documentation</a>ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    staticOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
      redirect<span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p>è¿™ä»…åœ¨å°† <a href="#devservercontentbase"><code>devServer.contentBase</code></a> ç”¨ä½œå­—ç¬¦ä¸²æ—¶æœ‰æ•ˆã€‚</p> </blockquote> <h2 id="devserverstats-"><code>devServer.stats</code> ğŸ”‘ <a href="#devserverstats-" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string: 'none' | 'errors-only' | 'minimal' | 'normal' | 'verbose'</code> <code>object</code></p> <p>æ­¤é€‰é¡¹ä½¿å¯ä»¥ç²¾ç¡®æ§åˆ¶æ˜¾ç¤ºå“ªäº›æ†ç»‘è½¯ä»¶ä¿¡æ¯ã€‚ å¦‚æœéœ€è¦ä¸€äº›æ†ç»‘è½¯ä»¶ä¿¡æ¯ï¼Œä½†åˆä¸æ˜¯å…¨éƒ¨ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¸­é—´ç«‹åœºã€‚</p> <p>è¦ä»…æ˜¾ç¤ºæ†ç»‘è½¯ä»¶ä¸­çš„é”™è¯¯ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    stats<span class="token operator">:</span> <span class="token string">'errors-only'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ <a href="../stats/index.htm" tppabs="https://webpack.docschina.org/configuration/stats/"><strong>stats documentation</strong></a>ã€‚</p> <blockquote class="tip"> <p>ä¸ <code>quiet</code> æˆ– <code>noInfo</code> ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œè¯¥é€‰é¡¹æ— æ•ˆã€‚</p> </blockquote> <h2 id="devserverstdin---cli-only"><code>devServer.stdin</code> - CLI only <a href="#devserverstdin---cli-only" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <p>å½“stdinç»“æŸæ—¶ï¼Œæ­¤é€‰é¡¹å°†å…³é—­æœåŠ¡å™¨ã€‚</p> <pre><code class="hljs language-bash">webpack serve --stdin</code></pre> <h2 id="devservertransportmode"><code>devServer.transportMode</code> <a href="#devservertransportmode" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = 'sockjs': 'sockjs' | 'ws'</code> <code>object</code></p> <blockquote class="warning"> <p><code>transportMode</code> æ˜¯ä¸€ä¸ªå®éªŒæ€§é€‰é¡¹ï¼Œè¿™æ„å‘³ç€å…¶ç”¨æ³•å¯èƒ½ä¼šæ›´æ”¹ï¼Œè€Œä¸ä¼šå‘å‡ºè­¦å‘Šã€‚</p> </blockquote> <blockquote class="tip"> <p>å°†å­—ç¬¦ä¸²æä¾›ç»™d <code>devServer.transportMode</code> æ˜¯å°† <code>devServer.transportMode.client</code> å’Œ <code>devServer.transportMode.server</code> éƒ½è®¾ç½®ä¸ºç»™å®šå­—ç¬¦ä¸²å€¼çš„å¿«æ·æ–¹å¼ã€‚</p> </blockquote> <p>è¿™ä¸ªé€‰é¡¹å…è®¸æˆ‘ä»¬è¦ä¹ˆä¸ºå®¢æˆ·ç«¯/æœåŠ¡å™¨åˆ†åˆ«é€‰æ‹©å½“å‰çš„<code>devServer</code>ä¼ è¾“æ¨¡å¼ï¼Œè¦ä¹ˆæä¾›å®šåˆ¶çš„å®¢æˆ·ç«¯/æœåŠ¡å™¨å®ç°ã€‚ è¿™å…è®¸æŒ‡å®šæµè§ˆå™¨æˆ–å…¶ä»–å®¢æˆ·ç«¯å¦‚ä½•ä¸<code>devServer</code>é€šä¿¡ã€‚</p> <p>å½“å‰çš„é»˜è®¤æ¨¡å¼æ˜¯ <a href="javascript:if(confirm('https://www.npmjs.com/package/sockjs  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.npmjs.com/package/sockjs'" tppabs="https://www.npmjs.com/package/sockjs"><code>'sockjs'</code></a>ã€‚ æ­¤æ¨¡å¼ä½¿ç”¨ <a href="javascript:if(confirm('https://github.com/sockjs/sockjs-node  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/sockjs/sockjs-node'" tppabs="https://github.com/sockjs/sockjs-node">SockJS-node</a> ä½œä¸ºæœåŠ¡å™¨ï¼Œå¹¶ä½¿ç”¨ <a href="javascript:if(confirm('https://www.npmjs.com/package/sockjs-client  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.npmjs.com/package/sockjs-client'" tppabs="https://www.npmjs.com/package/sockjs-client">SockJS-client</a> åœ¨å®¢æˆ·ç«¯ä¸Šã€‚</p> <p>åœ¨ä¸‹ä¸€ä»£ä¸»è¦çš„ <code>devServer</code> ç‰ˆæœ¬ä¸­ï¼Œ<code>'ws'</code> æ¨¡å¼å°†æˆä¸ºé»˜è®¤æ¨¡å¼ã€‚ æ­¤æ¨¡å¼å°† <a href="javascript:if(confirm('https://www.npmjs.com/package/ws  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.npmjs.com/package/ws'" tppabs="https://www.npmjs.com/package/ws">ws</a> ç”¨ä½œæœåŠ¡å™¨ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯ä¸Šä½¿ç”¨æœ¬æœº WebSocketã€‚</p> <p>Use <code>'ws'</code> mode:</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    transportMode<span class="token operator">:</span> <span class="token string">'ws'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p>æä¾›è‡ªå®šä¹‰å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å®ç°æ—¶ï¼Œè¯·ç¡®ä¿å®ƒä»¬å½¼æ­¤å…¼å®¹ï¼Œä»¥æˆåŠŸè¿›è¡Œé€šä¿¡ã€‚</p> </blockquote> <h3 id="devservertransportmodeclient"><code>devServer.transportMode.client</code> <a href="#devservertransportmodeclient" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string</code> <code>path</code></p> <p>è¦åˆ›å»ºè‡ªå®šä¹‰å®¢æˆ·ç«¯å®ç°ï¼Œè¯·åˆ›å»ºä¸€ä¸ªæ‰©å±•å¹¶ç»§æ‰¿ <a href="../../../github.com/webpack/webpack-dev-server/blob/master/client-src/clients/BaseClient.js" tppabs="https://github.com/webpack/webpack-dev-server/blob/master/client-src/clients/BaseClient.js"><code>BaseClient</code></a>.</p> <p>ä½¿ç”¨<code>CustomServer.js</code>å¯¼å‡ºçš„ç±»å®ç°è‡ªå®šä¹‰WebSocketå®¢æˆ·ç«¯å¹¶å…¼å®¹<code>ws</code>æœåŠ¡ç«¯ï¼š</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    transportMode<span class="token operator">:</span> <span class="token punctuation">{</span>
      client<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./CustomClient'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      server<span class="token operator">:</span> <span class="token string">'ws'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="devservertransportmodeserver"><code>devServer.transportMode.server</code> <a href="#devservertransportmodeserver" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string</code> <code>path</code> <code>function</code></p> <p>è¦åˆ›å»ºè‡ªå®šä¹‰æœåŠ¡å™¨å®ç°ï¼Œè¯·åˆ›å»ºä¸€ä¸ªæ‰©å±•å¹¶ç»§æ‰¿ <a href="../../../github.com/webpack/webpack-dev-server/blob/master/lib/servers/BaseServer.js" tppabs="https://github.com/webpack/webpack-dev-server/blob/master/lib/servers/BaseServer.js"><code>BaseServer</code></a>.</p> <p>ä½¿ç”¨<code>CustomServer.js</code>å¯¼å‡ºçš„ç±»å®ç°è‡ªå®šä¹‰WebSocketæœåŠ¡å™¨å¹¶å…¼å®¹<code>ws</code>å®¢æˆ·ç«¯ï¼š</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    transportMode<span class="token operator">:</span> <span class="token punctuation">{</span>
      client<span class="token operator">:</span> <span class="token string">'ws'</span><span class="token punctuation">,</span>
      server<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./CustomServer'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ä½¿ç”¨ <code>CustomServer.js</code> å¯¼å‡ºçš„ç±»å®ç°è‡ªå®šä¹‰WebSocketæœåŠ¡å™¨å¹¶å…¼å®¹ <code>ws</code> å®¢æˆ·ç«¯ï¼š</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    transportMode<span class="token operator">:</span> <span class="token punctuation">{</span>
      client<span class="token operator">:</span> <span class="token string">'ws'</span><span class="token punctuation">,</span>
      server<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./CustomServer'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ä½¿ç”¨è‡ªå®šä¹‰å…¼å®¹çš„WebSocketå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å®ç°ï¼š</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    transportMode<span class="token operator">:</span> <span class="token punctuation">{</span>
      client<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./CustomClient'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      server<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'./CustomServer'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="devserveruselocalip"><code>devServer.useLocalIp</code> <a href="#devserveruselocalip" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <p>æ­¤é€‰é¡¹ä½¿æµè§ˆå™¨å¯ä»¥ä½¿ç”¨çš„æœ¬åœ°IPæ‰“å¼€ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    useLocalIp<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --use-local-ip</code></pre> <h2 id="devserverwatchcontentbase"><code>devServer.watchContentBase</code> <a href="#devserverwatchcontentbase" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <p>å‘Šè¯‰ dev-server ç›‘å¬ [<code>devServer.contentBase</code>]ï¼ˆï¼ƒdevservercontentbaseï¼‰é€‰é¡¹æä¾›çš„æ–‡ä»¶ã€‚ é»˜è®¤æƒ…å†µä¸‹ç¦ç”¨ã€‚ å¯ç”¨åï¼Œæ–‡ä»¶æ›´æ”¹å°†è§¦å‘æ•´ä¸ªé¡µé¢é‡æ–°åŠ è½½ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    watchContentBase<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å‘½ä»¤è¡Œä½¿ç”¨</p> <pre><code class="hljs language-bash">webpack serve --watch-content-base</code></pre> <h2 id="devserverwatchoptions-"><code>devServer.watchOptions</code> ğŸ”‘ <a href="#devserverwatchoptions-" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object</code></p> <p>æ§åˆ¶ç›‘å¬æ–‡ä»¶çš„é€‰é¡¹ã€‚</p> <p>webpack ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿæ¥é€šçŸ¥æ–‡ä»¶æ›´æ”¹ã€‚ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™ä¸èµ·ä½œç”¨ã€‚ ä¾‹å¦‚ï¼Œä½¿ç”¨ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼ˆNFSï¼‰æ—¶ã€‚ <a href="javascript:if(confirm('https://www.vagrantup.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.vagrantup.com/'" tppabs="https://www.vagrantup.com/">Vagrant</a> ä¹Ÿæœ‰å¾ˆå¤šé—®é¢˜ã€‚ åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œè¯·ä½¿ç”¨è½®è¯¢ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    watchOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
      poll<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å¦‚æœè¿™å¯¹æ–‡ä»¶ç³»ç»Ÿè´Ÿè·å¤ªé‡ï¼Œå¯ä»¥å°†å…¶è®¾ç½®ä¸ºæ•´æ•°ç”¨ä»¥è°ƒæ•´è½®è¯¢é—´éš”ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ã€‚</p> <p>æŸ¥é˜… <a href="../watch/index.htm" tppabs="https://webpack.docschina.org/configuration/watch/">WatchOptions</a> äº†è§£æ›´å¤šã€‚</p> <h2 id="devserverwritetodisk-"><code>devServer.writeToDisk</code> ğŸ”‘ <a href="#devserverwritetodisk-" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code> <code>function (filePath) => boolean</code></p> <p>å‘Šè¯‰ <code>devServer</code> å°†äº§ç”Ÿçš„æ–‡ä»¶å†™å…¥ç¡¬ç›˜ã€‚ å†™å…¥ä½ç½®ä¸º <a href="../output/index.htm#outputpath" tppabs="https://webpack.docschina.org/configuration/output/#outputpath">output.path</a> é…ç½®çš„ç›®å½•ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    writeToDisk<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å¯ä»¥ç»™ <code>devServer.writeToDisk</code> ä¼ å…¥ä¸€ä¸ªå‡½æ•°ç”¨æ¥ç­›é€‰å“ªäº›æ–‡ä»¶éœ€è¦å†™å…¥ç¡¬ç›˜ã€‚ä¼ å…¥å‡½æ•°çš„ç”¨æ³•å’Œ<a href="javascript:if(confirm('https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter'" tppabs="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter"><code>Array#filter</code></a> çš„ç”¨æ³•ä¸€è‡´ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">writeToDisk</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">filePath</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">superman\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>filePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p>æœ‰å¯èƒ½éœ€è¦é€šè¿‡ <code>NODE_OPTIONS</code> è®¾ç½®ä¸€äº› Node.js çš„æ ‡è®°ï¼Œä¾‹å¦‚ï¼Œé…ç½® <code>HTTP_MAX_HEADER_SIZE</code>:</p> </blockquote> <p><strong>package.json</strong></p> <pre><code class="hljs language-json"><span class="token punctuation">{</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token string">"NODE_OPTIONS='--max-http-header-size=100000' webpack serve"</span>
<span class="token punctuation">}</span></code></pre> <h1 id="Devtool">Devtool<a href="#Devtool" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>æ­¤é€‰é¡¹æ§åˆ¶æ˜¯å¦ç”Ÿæˆï¼Œä»¥åŠå¦‚ä½•ç”Ÿæˆ source mapã€‚</p> <p>ä½¿ç”¨ <a href="../../plugins/source-map-dev-tool-plugin.htm" tppabs="https://webpack.docschina.org/plugins/source-map-dev-tool-plugin"><code>SourceMapDevToolPlugin</code></a> è¿›è¡Œæ›´ç»†ç²’åº¦çš„é…ç½®ã€‚æŸ¥çœ‹ <a href="../../loaders/source-map-loader.htm" tppabs="https://webpack.docschina.org/loaders/source-map-loader"><code>source-map-loader</code></a> æ¥å¤„ç†å·²æœ‰çš„ source mapã€‚</p> <h2 id="devtool"><code>devtool</code> <a href="#devtool" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = 'eval'</code> <code>false</code></p> <p>é€‰æ‹©ä¸€ç§ <a href="javascript:if(confirm('http://blog.teamtreehouse.com/introduction-source-maps  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://blog.teamtreehouse.com/introduction-source-maps'" tppabs="http://blog.teamtreehouse.com/introduction-source-maps">source map</a> æ ¼å¼æ¥å¢å¼ºè°ƒè¯•è¿‡ç¨‹ã€‚ä¸åŒçš„å€¼ä¼šæ˜æ˜¾å½±å“åˆ°æ„å»º(build)å’Œé‡æ–°æ„å»º(rebuild)çš„é€Ÿåº¦ã€‚</p> <blockquote class="tip"> <p>webpack ä»“åº“ä¸­åŒ…å«ä¸€ä¸ª <a href="javascript:if(confirm('https://github.com/webpack/webpack/tree/master/examples/source-map  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/tree/master/examples/source-map'" tppabs="https://github.com/webpack/webpack/tree/master/examples/source-map">æ˜¾ç¤ºæ‰€æœ‰ <code>devtool</code> å˜ä½“æ•ˆæœçš„ç¤ºä¾‹</a>ã€‚è¿™äº›ä¾‹å­æˆ–è®¸ä¼šæœ‰åŠ©äºä½ ç†è§£è¿™äº›å·®å¼‚ä¹‹å¤„ã€‚</p> </blockquote> <blockquote class="tip"> <p>ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>SourceMapDevToolPlugin</code>/<code>EvalSourceMapDevToolPlugin</code> æ¥æ›¿ä»£ä½¿ç”¨ <code>devtool</code> é€‰é¡¹ï¼Œå› ä¸ºå®ƒæœ‰æ›´å¤šçš„é€‰é¡¹ã€‚åˆ‡å‹¿åŒæ—¶ä½¿ç”¨ <code>devtool</code> é€‰é¡¹å’Œ <code>SourceMapDevToolPlugin</code>/<code>EvalSourceMapDevToolPlugin</code> æ’ä»¶ã€‚<code>devtool</code> é€‰é¡¹åœ¨å†…éƒ¨æ·»åŠ è¿‡è¿™äº›æ’ä»¶ï¼Œæ‰€ä»¥ä½ æœ€ç»ˆå°†åº”ç”¨ä¸¤æ¬¡æ’ä»¶ã€‚</p> </blockquote> <table> <thead> <tr> <th>devtool</th> <th>æ„å»ºé€Ÿåº¦</th> <th>é‡æ–°æ„å»ºé€Ÿåº¦</th> <th>ç”Ÿäº§ç¯å¢ƒ</th> <th>å“è´¨(quality)</th> </tr> </thead> <tbody> <tr> <td data-th="devtool"><span>(none)</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>éå¸¸å¿«é€Ÿ</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>éå¸¸å¿«é€Ÿ</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>yes</span></td> <td data-th="å“è´¨(quality)"><span>æ‰“åŒ…åçš„ä»£ç </span></td> </tr> <tr> <td data-th="devtool"><span>eval</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>éå¸¸å¿«é€Ÿ</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>éå¸¸å¿«é€Ÿ</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>no</span></td> <td data-th="å“è´¨(quality)"><span>ç”Ÿæˆåçš„ä»£ç </span></td> </tr> <tr> <td data-th="devtool"><span>eval-cheap-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>æ¯”è¾ƒå¿«</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>å¿«é€Ÿ</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>no</span></td> <td data-th="å“è´¨(quality)"><span>è½¬æ¢è¿‡çš„ä»£ç ï¼ˆä»…é™è¡Œï¼‰</span></td> </tr> <tr> <td data-th="devtool"><span>eval-cheap-module-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>ä¸­ç­‰</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>å¿«é€Ÿ</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>no</span></td> <td data-th="å“è´¨(quality)"><span>åŸå§‹æºä»£ç ï¼ˆä»…é™è¡Œï¼‰</span></td> </tr> <tr> <td data-th="devtool"><span>eval-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>æ…¢</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>æ¯”è¾ƒå¿«</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>no</span></td> <td data-th="å“è´¨(quality)"><span>åŸå§‹æºä»£ç </span></td> </tr> <tr> <td data-th="devtool"><span>eval-nosources-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>-</span></td> <td></td> </tr> <tr> <td data-th="devtool"><span>eval-nosources-cheap-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>-</span></td> <td></td> </tr> <tr> <td data-th="devtool"><span>eval-nosources-cheap-module-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>-</span></td> <td></td> </tr> <tr> <td data-th="devtool"><span>cheap-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>æ¯”è¾ƒå¿«</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>ä¸­ç­‰</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>yes</span></td> <td data-th="å“è´¨(quality)"><span>è½¬æ¢è¿‡çš„ä»£ç ï¼ˆä»…é™è¡Œï¼‰</span></td> </tr> <tr> <td data-th="devtool"><span>cheap-module-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>ä¸­ç­‰</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>æ¯”è¾ƒæ…¢</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>yes</span></td> <td data-th="å“è´¨(quality)"><span>åŸå§‹æºä»£ç ï¼ˆä»…é™è¡Œï¼‰</span></td> </tr> <tr> <td data-th="devtool"><span>inline-cheap-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>æ¯”è¾ƒå¿«</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>ä¸­ç­‰</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>no</span></td> <td data-th="å“è´¨(quality)"><span>è½¬æ¢è¿‡çš„ä»£ç ï¼ˆä»…é™è¡Œï¼‰</span></td> </tr> <tr> <td data-th="devtool"><span>inline-cheap-module-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>ä¸­ç­‰</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>æ¯”è¾ƒæ…¢</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>no</span></td> <td data-th="å“è´¨(quality)"><span>åŸå§‹æºä»£ç ï¼ˆä»…é™è¡Œï¼‰</span></td> </tr> <tr> <td data-th="devtool"><span>inline-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>æ…¢</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>æ…¢</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>no</span></td> <td data-th="å“è´¨(quality)"><span>åŸå§‹æºä»£ç </span></td> </tr> <tr> <td data-th="devtool"><span>inline-nosources-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>-</span></td> <td></td> </tr> <tr> <td data-th="devtool"><span>inline-nosources-cheap-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>-</span></td> <td></td> </tr> <tr> <td data-th="devtool"><span>inline-nosources-cheap-module-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>-</span></td> <td></td> </tr> <tr> <td data-th="devtool"><span>source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>æ…¢</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>æ…¢</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>yes</span></td> <td data-th="å“è´¨(quality)"><span>åŸå§‹æºä»£ç </span></td> </tr> <tr> <td data-th="devtool"><span>hidden-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>æ…¢</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>æ…¢</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>yes</span></td> <td data-th="å“è´¨(quality)"><span>åŸå§‹æºä»£ç </span></td> </tr> <tr> <td data-th="devtool"><span>hidden-nosources-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>-</span></td> <td></td> </tr> <tr> <td data-th="devtool"><span>hidden-nosources-cheap-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>-</span></td> <td></td> </tr> <tr> <td data-th="devtool"><span>hidden-nosources-cheap-module-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>-</span></td> <td></td> </tr> <tr> <td data-th="devtool"><span>hidden-cheap-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>-</span></td> <td></td> </tr> <tr> <td data-th="devtool"><span>hidden-cheap-module-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>-</span></td> <td></td> </tr> <tr> <td data-th="devtool"><span>nosources-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>æ…¢</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>æ…¢</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>yes</span></td> <td data-th="å“è´¨(quality)"><span>æ— æºä»£ç å†…å®¹</span></td> </tr> <tr> <td data-th="devtool"><span>nosources-cheap-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>-</span></td> <td></td> </tr> <tr> <td data-th="devtool"><span>nosources-cheap-module-source-map</span></td> <td data-th="æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="é‡æ–°æ„å»ºé€Ÿåº¦"><span>-</span></td> <td data-th="ç”Ÿäº§ç¯å¢ƒ"><span>-</span></td> <td></td> </tr> </tbody> </table> <blockquote class="tip"> <p>éªŒè¯ devtool åç§°æ—¶ï¼Œ æˆ‘ä»¬æœŸæœ›ä½¿ç”¨æŸç§æ¨¡å¼ï¼Œ æ³¨æ„ä¸è¦æ··æ·† devtool å­—ç¬¦ä¸²çš„é¡ºåºï¼Œ æ¨¡å¼æ˜¯ï¼š <code>[inline-|hidden-|eval-][nosources-][cheap-[module-]]source-map</code>.</p> </blockquote> <p>å…¶ä¸­ä¸€äº›å€¼é€‚ç”¨äºå¼€å‘ç¯å¢ƒï¼Œä¸€äº›é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚å¯¹äºå¼€å‘ç¯å¢ƒï¼Œé€šå¸¸å¸Œæœ›æ›´å¿«é€Ÿçš„ source mapï¼Œéœ€è¦æ·»åŠ åˆ° bundle ä¸­ä»¥å¢åŠ ä½“ç§¯ä¸ºä»£ä»·ï¼Œä½†æ˜¯å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œåˆ™å¸Œæœ›æ›´ç²¾å‡†çš„ source mapï¼Œéœ€è¦ä» bundle ä¸­åˆ†ç¦»å¹¶ç‹¬ç«‹å­˜åœ¨ã€‚</p> <blockquote class="warning"> <p>Chrome ä¸­çš„ source map æœ‰ä¸€äº›é—®é¢˜ã€‚<a href="javascript:if(confirm('https://github.com/webpack/webpack/issues/3165  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/issues/3165'" tppabs="https://github.com/webpack/webpack/issues/3165">æˆ‘ä»¬éœ€è¦ä½ çš„å¸®åŠ©ï¼</a>ã€‚</p> </blockquote> <blockquote class="tip"> <p>æŸ¥çœ‹ <a href="../output.htm#output-sourcemapfilename" tppabs="https://webpack.docschina.org/configuration/output#output-sourcemapfilename"><code>output.sourceMapFilename</code></a> è‡ªå®šä¹‰ç”Ÿæˆçš„ source map çš„æ–‡ä»¶åã€‚</p> </blockquote> <h3 id="qualities">å“è´¨è¯´æ˜(quality) <a href="#qualities" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>æ‰“åŒ…åçš„ä»£ç </code> - å°†æ‰€æœ‰ç”Ÿæˆçš„ä»£ç è§†ä¸ºä¸€å¤§å—ä»£ç ã€‚ä½ çœ‹ä¸åˆ°ç›¸äº’åˆ†ç¦»çš„æ¨¡å—ã€‚</p> <p><code>ç”Ÿæˆåçš„ä»£ç </code> - æ¯ä¸ªæ¨¡å—ç›¸äº’åˆ†ç¦»ï¼Œå¹¶ç”¨æ¨¡å—åç§°è¿›è¡Œæ³¨é‡Šã€‚å¯ä»¥çœ‹åˆ° webpack ç”Ÿæˆçš„ä»£ç ã€‚ç¤ºä¾‹ï¼šä½ ä¼šçœ‹åˆ°ç±»ä¼¼ <code>var module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(42); module__WEBPACK_IMPORTED_MODULE_1__.a();</code>ï¼Œè€Œä¸æ˜¯ <code>import {test} from "module"; test();</code>ã€‚</p> <p><code>è½¬æ¢è¿‡çš„ä»£ç </code> - æ¯ä¸ªæ¨¡å—ç›¸äº’åˆ†ç¦»ï¼Œå¹¶ç”¨æ¨¡å—åç§°è¿›è¡Œæ³¨é‡Šã€‚å¯ä»¥çœ‹åˆ° webpack è½¬æ¢å‰ã€loader è½¬è¯‘åçš„ä»£ç ã€‚ç¤ºä¾‹ï¼šä½ ä¼šçœ‹åˆ°ç±»ä¼¼ <code>import {test} from "module"; var A = function(_test) { ... }(test);</code>ï¼Œè€Œä¸æ˜¯ <code>import {test} from "module"; class A extends test {}</code>ã€‚</p> <p><code>åŸå§‹æºä»£ç </code> - æ¯ä¸ªæ¨¡å—ç›¸äº’åˆ†ç¦»ï¼Œå¹¶ç”¨æ¨¡å—åç§°è¿›è¡Œæ³¨é‡Šã€‚ä½ ä¼šçœ‹åˆ°è½¬è¯‘ä¹‹å‰çš„ä»£ç ï¼Œæ­£å¦‚ç¼–å†™å®ƒæ—¶ã€‚è¿™å–å†³äº loader æ”¯æŒã€‚</p> <p><code>æ— æºä»£ç å†…å®¹</code> - source map ä¸­ä¸åŒ…å«æºä»£ç å†…å®¹ã€‚æµè§ˆå™¨é€šå¸¸ä¼šå°è¯•ä» web æœåŠ¡å™¨æˆ–æ–‡ä»¶ç³»ç»ŸåŠ è½½æºä»£ç ã€‚ä½ å¿…é¡»ç¡®ä¿æ­£ç¡®è®¾ç½® <a href="../output/index.htm#output-devtoolmodulefilenametemplate" tppabs="https://webpack.docschina.org/configuration/output/#output-devtoolmodulefilenametemplate"><code>output.devtoolModuleFilenameTemplate</code></a>ï¼Œä»¥åŒ¹é…æºä»£ç çš„ urlã€‚</p> <p><code>ï¼ˆä»…é™è¡Œï¼‰</code> - source map è¢«ç®€åŒ–ä¸ºæ¯è¡Œä¸€ä¸ªæ˜ å°„ã€‚è¿™é€šå¸¸æ„å‘³ç€æ¯ä¸ªè¯­å¥åªæœ‰ä¸€ä¸ªæ˜ å°„ï¼ˆå‡è®¾ä½ ä½¿ç”¨è¿™ç§æ–¹å¼ï¼‰ã€‚è¿™ä¼šå¦¨ç¢ä½ åœ¨è¯­å¥çº§åˆ«ä¸Šè°ƒè¯•æ‰§è¡Œï¼Œä¹Ÿä¼šå¦¨ç¢ä½ åœ¨æ¯è¡Œçš„ä¸€äº›åˆ—ä¸Šè®¾ç½®æ–­ç‚¹ã€‚ä¸å‹ç¼©åçš„ä»£ç ç»„åˆåï¼Œæ˜ å°„å…³ç³»æ˜¯ä¸å¯èƒ½å®ç°çš„ï¼Œå› ä¸ºå‹ç¼©å·¥å…·é€šå¸¸åªä¼šè¾“å‡ºä¸€è¡Œã€‚</p> <h3 id="development">å¯¹äºå¼€å‘ç¯å¢ƒ <a href="#development" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ä»¥ä¸‹é€‰é¡¹éå¸¸é€‚åˆå¼€å‘ç¯å¢ƒï¼š</p> <p><code>eval</code> - æ¯ä¸ªæ¨¡å—éƒ½ä½¿ç”¨ <code>eval()</code> æ‰§è¡Œï¼Œå¹¶ä¸”éƒ½æœ‰ <code>//@ sourceURL</code>ã€‚æ­¤é€‰é¡¹ä¼šéå¸¸å¿«åœ°æ„å»ºã€‚ä¸»è¦ç¼ºç‚¹æ˜¯ï¼Œç”±äºä¼šæ˜ å°„åˆ°è½¬æ¢åçš„ä»£ç ï¼Œè€Œä¸æ˜¯æ˜ å°„åˆ°åŸå§‹ä»£ç ï¼ˆæ²¡æœ‰ä» loader ä¸­è·å– source mapï¼‰ï¼Œæ‰€ä»¥ä¸èƒ½æ­£ç¡®çš„æ˜¾ç¤ºè¡Œæ•°ã€‚</p> <p><code>eval-source-map</code> - æ¯ä¸ªæ¨¡å—ä½¿ç”¨ <code>eval()</code> æ‰§è¡Œï¼Œå¹¶ä¸” source map è½¬æ¢ä¸º DataUrl åæ·»åŠ åˆ° <code>eval()</code> ä¸­ã€‚åˆå§‹åŒ– source map æ—¶æ¯”è¾ƒæ…¢ï¼Œä½†æ˜¯ä¼šåœ¨é‡æ–°æ„å»ºæ—¶æä¾›æ¯”è¾ƒå¿«çš„é€Ÿåº¦ï¼Œå¹¶ä¸”ç”Ÿæˆå®é™…çš„æ–‡ä»¶ã€‚è¡Œæ•°èƒ½å¤Ÿæ­£ç¡®æ˜ å°„ï¼Œå› ä¸ºä¼šæ˜ å°„åˆ°åŸå§‹ä»£ç ä¸­ã€‚å®ƒä¼šç”Ÿæˆç”¨äºå¼€å‘ç¯å¢ƒçš„æœ€ä½³å“è´¨çš„ source mapã€‚</p> <p><code>eval-cheap-source-map</code> - ç±»ä¼¼ <code>eval-source-map</code>ï¼Œæ¯ä¸ªæ¨¡å—ä½¿ç”¨ <code>eval()</code> æ‰§è¡Œã€‚è¿™æ˜¯ "cheap(ä½å¼€é”€)" çš„ source mapï¼Œå› ä¸ºå®ƒæ²¡æœ‰ç”Ÿæˆåˆ—æ˜ å°„(column mapping)ï¼Œåªæ˜¯æ˜ å°„è¡Œæ•°ã€‚å®ƒä¼šå¿½ç•¥æºè‡ª loader çš„ source mapï¼Œå¹¶ä¸”ä»…æ˜¾ç¤ºè½¬è¯‘åçš„ä»£ç ï¼Œå°±åƒ <code>eval</code> devtoolã€‚</p> <p><code>eval-cheap-module-source-map</code> - ç±»ä¼¼ <code>eval-cheap-source-map</code>ï¼Œå¹¶ä¸”ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæºè‡ª loader çš„ source map ä¼šå¾—åˆ°æ›´å¥½çš„å¤„ç†ç»“æœã€‚ç„¶è€Œï¼Œloader source map ä¼šè¢«ç®€åŒ–ä¸ºæ¯è¡Œä¸€ä¸ªæ˜ å°„(mapping)ã€‚</p> <h3 id="special-cases">ç‰¹å®šåœºæ™¯ <a href="#special-cases" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ä»¥ä¸‹é€‰é¡¹å¯¹äºå¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒå¹¶ä¸ç†æƒ³ã€‚ä»–ä»¬æ˜¯ä¸€äº›ç‰¹å®šåœºæ™¯ä¸‹éœ€è¦çš„ï¼Œä¾‹å¦‚ï¼Œé’ˆå¯¹ä¸€äº›ç¬¬ä¸‰æ–¹å·¥å…·ã€‚</p> <p><code>inline-source-map</code> - source map è½¬æ¢ä¸º DataUrl åæ·»åŠ åˆ° bundle ä¸­ã€‚</p> <p><code>cheap-source-map</code> - æ²¡æœ‰åˆ—æ˜ å°„(column mapping)çš„ source mapï¼Œå¿½ç•¥ loader source mapã€‚</p> <p><code>inline-cheap-source-map</code> - ç±»ä¼¼ <code>cheap-source-map</code>ï¼Œä½†æ˜¯ source map è½¬æ¢ä¸º DataUrl åæ·»åŠ åˆ° bundle ä¸­ã€‚</p> <p><code>cheap-module-source-map</code> - æ²¡æœ‰åˆ—æ˜ å°„(column mapping)çš„ source mapï¼Œå°† loader source map ç®€åŒ–ä¸ºæ¯è¡Œä¸€ä¸ªæ˜ å°„(mapping)ã€‚</p> <p><code>inline-cheap-module-source-map</code> - ç±»ä¼¼ <code>cheap-module-source-map</code>ï¼Œä½†æ˜¯ source mapp è½¬æ¢ä¸º DataUrl æ·»åŠ åˆ° bundle ä¸­ã€‚</p> <h3 id="production">å¯¹äºç”Ÿäº§ç¯å¢ƒ <a href="#production" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>è¿™äº›é€‰é¡¹é€šå¸¸ç”¨äºç”Ÿäº§ç¯å¢ƒä¸­ï¼š</p> <p><code>(none)</code>ï¼ˆçœç•¥ <code>devtool</code> é€‰é¡¹ï¼‰ - ä¸ç”Ÿæˆ source mapã€‚è¿™æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p> <p><code>source-map</code> - æ•´ä¸ª source map ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ç”Ÿæˆã€‚å®ƒä¸º bundle æ·»åŠ äº†ä¸€ä¸ªå¼•ç”¨æ³¨é‡Šï¼Œä»¥ä¾¿å¼€å‘å·¥å…·çŸ¥é“åœ¨å“ªé‡Œå¯ä»¥æ‰¾åˆ°å®ƒã€‚</p> <blockquote class="warning"> <p>ä½ åº”è¯¥å°†ä½ çš„æœåŠ¡å™¨é…ç½®ä¸ºï¼Œä¸å…è®¸æ™®é€šç”¨æˆ·è®¿é—® source map æ–‡ä»¶ï¼</p> </blockquote> <p><code>hidden-source-map</code> - ä¸ <code>source-map</code> ç›¸åŒï¼Œä½†ä¸ä¼šä¸º bundle æ·»åŠ å¼•ç”¨æ³¨é‡Šã€‚å¦‚æœä½ åªæƒ³ source map æ˜ å°„é‚£äº›æºè‡ªé”™è¯¯æŠ¥å‘Šçš„é”™è¯¯å †æ ˆè·Ÿè¸ªä¿¡æ¯ï¼Œä½†ä¸æƒ³ä¸ºæµè§ˆå™¨å¼€å‘å·¥å…·æš´éœ²ä½ çš„ source mapï¼Œè¿™ä¸ªé€‰é¡¹ä¼šå¾ˆæœ‰ç”¨ã€‚</p> <blockquote class="warning"> <p>ä½ ä¸åº”å°† source map æ–‡ä»¶éƒ¨ç½²åˆ° web æœåŠ¡å™¨ã€‚è€Œæ˜¯åªå°†å…¶ç”¨äºé”™è¯¯æŠ¥å‘Šå·¥å…·ã€‚</p> </blockquote> <p><code>nosources-source-map</code> - åˆ›å»ºçš„ source map ä¸åŒ…å« <code>sourcesContent(æºä»£ç å†…å®¹)</code>ã€‚å®ƒå¯ä»¥ç”¨æ¥æ˜ å°„å®¢æˆ·ç«¯ä¸Šçš„å †æ ˆè·Ÿè¸ªï¼Œè€Œæ— é¡»æš´éœ²æ‰€æœ‰çš„æºä»£ç ã€‚ä½ å¯ä»¥å°† source map æ–‡ä»¶éƒ¨ç½²åˆ° web æœåŠ¡å™¨ã€‚</p> <blockquote class="warning"> <p>è¿™ä»ç„¶ä¼šæš´éœ²åç¼–è¯‘åçš„æ–‡ä»¶åå’Œç»“æ„ï¼Œä½†å®ƒä¸ä¼šæš´éœ²åŸå§‹ä»£ç ã€‚</p> </blockquote> <blockquote class="tip"> <p>å¦‚æœé»˜è®¤çš„ webpack <code>minimizer</code> è¢«è¦†ç›– (ä¾‹å¦‚è‡ªå®šä¹‰ <code>terser-webpack-plugin</code> é€‰é¡¹)ï¼Œ è¯·ç¡®ä¿å°†å…¶æ›¿æ¢é…ç½®ä¸º <code>sourceMap: true</code> ä»¥å¯ç”¨ SourceMap æ”¯æŒã€‚</p> </blockquote> <h1 id="æ„å»ºç›®æ ‡Targets">æ„å»ºç›®æ ‡(Targets)<a href="#%E6%9E%84%E5%BB%BA%E7%9B%AE%E6%A0%87Targets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>webpack èƒ½å¤Ÿä¸ºå¤šç§ç¯å¢ƒæˆ– <em>target</em> æ„å»ºç¼–è¯‘ã€‚æƒ³è¦ç†è§£ä»€ä¹ˆæ˜¯ <code>target</code> çš„è¯¦ç»†ä¿¡æ¯ï¼Œ è¯·é˜…è¯» <a href="../../concepts/targets/index.htm" tppabs="https://webpack.docschina.org/concepts/targets/">target æ¦‚å¿µé¡µé¢</a>ã€‚</p> <h2 id="target"><code>target</code> <a href="#target" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code> <code>[string]</code> <code>false</code></p> <p>å‘ŠçŸ¥ webpack ä¸ºç›®æ ‡(target)æŒ‡å®šä¸€ä¸ªç¯å¢ƒã€‚é»˜è®¤å€¼ä¸º <code>"browserslist"</code>ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ° browserslist çš„é…ç½®ï¼Œåˆ™é»˜è®¤ä¸º <code>"web"</code></p> <h3 id="string"><code>string</code> <a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>é€šè¿‡ <a href="../../../github.com/webpack/webpack/blob/master/lib/WebpackOptionsApply.js" tppabs="https://github.com/webpack/webpack/blob/master/lib/WebpackOptionsApply.js"><code>WebpackOptionsApply</code></a>ï¼Œ å¯ä»¥æ”¯æŒä»¥ä¸‹å­—ç¬¦ä¸²å€¼ï¼š</p> <table> <thead> <tr> <th>é€‰é¡¹</th> <th>æè¿°</th> </tr> </thead> <tbody> <tr> <td data-th="é€‰é¡¹"><span><code>async-node</code></span></td> <td data-th="æè¿°"><span>ç¼–è¯‘ä¸ºç±» Node.js ç¯å¢ƒå¯ç”¨ï¼ˆä½¿ç”¨ fs å’Œ vm å¼‚æ­¥åŠ è½½åˆ†å—ï¼‰</span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>electron-main</code></span></td> <td data-th="æè¿°"><span>ç¼–è¯‘ä¸º <a href="javascript:if(confirm('https://electronjs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://electronjs.org/'" tppabs="https://electronjs.org/">Electron</a> ä¸»è¿›ç¨‹ã€‚</span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>electron-renderer</code></span></td> <td data-th="æè¿°"><span>ç¼–è¯‘ä¸º <a href="javascript:if(confirm('https://electronjs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://electronjs.org/'" tppabs="https://electronjs.org/">Electron</a> æ¸²æŸ“è¿›ç¨‹ï¼Œä½¿ç”¨ <code>JsonpTemplatePlugin</code>,</span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>FunctionModulePlugin</code> æ¥ä¸ºæµè§ˆå™¨ç¯å¢ƒæä¾›ç›®æ ‡ï¼Œä½¿ç”¨ <code>NodeTargetPlugin</code> å’Œ <code>ExternalsPlugin</code></span></td> <td></td> </tr> <tr> <td data-th="é€‰é¡¹"><span>ä¸º CommonJS å’Œ Electron å†…ç½®æ¨¡å—æä¾›ç›®æ ‡ã€‚</span></td> <td></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>electron-preload</code></span></td> <td data-th="æè¿°"><span>ç¼–è¯‘ä¸º <a href="javascript:if(confirm('https://electronjs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://electronjs.org/'" tppabs="https://electronjs.org/">Electron</a> æ¸²æŸ“è¿›ç¨‹ï¼Œ</span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span>ä½¿ç”¨ <code>NodeTemplatePlugin</code> ä¸” <code>asyncChunkLoading</code> è®¾ç½®ä¸º <code>true</code> ï¼Œ<code>FunctionModulePlugin</code> æ¥ä¸ºæµè§ˆå™¨æä¾›ç›®æ ‡ï¼Œä½¿ç”¨ <code>NodeTargetPlugin</code> å’Œ <code>ExternalsPlugin</code> ä¸º CommonJS å’Œ Electron å†…ç½®æ¨¡å—æä¾›ç›®æ ‡ã€‚</span></td> <td></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>node</code></span></td> <td data-th="æè¿°"><span>ç¼–è¯‘ä¸ºç±» Node.js ç¯å¢ƒå¯ç”¨ï¼ˆä½¿ç”¨ Node.js <code>require</code> åŠ è½½ chunksï¼‰</span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>node-webkit</code></span></td> <td data-th="æè¿°"><span>ç¼–è¯‘ä¸º Webkit å¯ç”¨ï¼Œå¹¶ä¸”ä½¿ç”¨ jsonp å»åŠ è½½åˆ†å—ã€‚æ”¯æŒ Node.js å†…ç½®æ¨¡å—å’Œ <a href="javascript:if(confirm('http://docs.nwjs.io/en/latest/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://docs.nwjs.io/en/latest/'" tppabs="http://docs.nwjs.io/en/latest/"><code>nw.gui</code></a></span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span>å¯¼å…¥ï¼ˆå®éªŒæ€§è´¨ï¼‰</span></td> <td></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>nwjs[[X].Y]</code></span></td> <td data-th="æè¿°"><span>ç­‰ä»·äº <code>node-webkit</code></span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>web</code></span></td> <td data-th="æè¿°"><span>ç¼–è¯‘ä¸ºç±»æµè§ˆå™¨ç¯å¢ƒé‡Œå¯ç”¨ <strong>ï¼ˆé»˜è®¤ï¼‰</strong></span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>webworker</code></span></td> <td data-th="æè¿°"><span>ç¼–è¯‘æˆä¸€ä¸ª WebWorker</span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>esX</code></span></td> <td data-th="æè¿°"><span>ç¼–è¯‘ä¸ºæŒ‡å®šç‰ˆæœ¬çš„ ECMAScriptã€‚ä¾‹å¦‚ï¼Œes5ï¼Œes2020</span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>browserslist</code></span></td> <td data-th="æè¿°"><span>ä» browserslist-config ä¸­æ¨æ–­å‡ºå¹³å°å’Œ ES ç‰¹æ€§ <strong>ï¼ˆå¦‚æœ browserslist å¯ç”¨ï¼Œå…¶å€¼åˆ™ä¸ºé»˜è®¤ï¼‰</strong></span></td> </tr> </tbody> </table> <p>ä¾‹å¦‚ï¼Œå½“ <code>target</code> è®¾ç½®ä¸º <code>"electron-main"</code>ï¼Œwebpack å¼•å…¥å¤šä¸ª electron ç‰¹å®šçš„å˜é‡ã€‚</p> <p>å¯æŒ‡å®š <code>node</code> æˆ–è€… <code>electron</code> çš„ç‰ˆæœ¬ã€‚ä¸Šè¡¨ä¸­ä½¿ç”¨ <code>[[X].Y]</code> è¡¨ç¤ºã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  target<span class="token operator">:</span> <span class="token string">'node12.18'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å®ƒæœ‰åŠ©äºç¡®å®šå¯èƒ½ç”¨äºç”Ÿæˆè¿è¡Œæ—¶ä»£ç çš„ ES ç‰¹æ€§ï¼ˆæ‰€æœ‰çš„ chunk å’Œæ¨¡å—éƒ½è¢«è¿è¡Œæ—¶ä»£ç æ‰€åŒ…è£¹ï¼‰</p> <h4 id="browserslist"><code>browserslist</code><a href="#browserslist" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>å¦‚æœä¸€ä¸ªé¡¹ç›®æœ‰ browserslist é…ç½®ï¼Œé‚£ä¹ˆ webpack å°†ä¼šä½¿ç”¨å®ƒï¼š</p> <ul> <li>ç¡®å®šå¯ç”¨äºè¿è¡Œæ—¶ä»£ç çš„ ES ç‰¹æ€§ã€‚</li> <li>æ¨æ–­ç¯å¢ƒï¼ˆä¾‹å¦‚ï¼š<code>last 2 node versions</code> ç­‰ä»·äº <code>target: node</code>ï¼Œå¹¶ä¼šè¿›è¡Œä¸€äº› <a href="../output/index.htm#outputenvironment" tppabs="https://webpack.docschina.org/configuration/output/#outputenvironment"><code>output.environment</code></a> è®¾ç½®).</li> </ul> <p>æ”¯æŒçš„ browserslist å€¼ï¼š</p> <ul> <li><code>browserslist</code> - ä½¿ç”¨è‡ªåŠ¨è§£æçš„ browserslist é…ç½®å’Œç¯å¢ƒï¼ˆä»æœ€è¿‘çš„ <code>package.json</code> æˆ– <code>BROWSERSLIST</code> ç¯å¢ƒå˜é‡ä¸­è·å–ï¼Œå…·ä½“è¯·æŸ¥é˜… <a href="javascript:if(confirm('https://github.com/browserslist/browserslist  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/browserslist/browserslist#queries'" tppabs="https://github.com/browserslist/browserslist#queries">browserslist æ–‡æ¡£</a>ï¼‰</li> <li><code>browserslist:modern</code> - ä½¿ç”¨è‡ªåŠ¨è§£æçš„ browserslist é…ç½®ä¸­çš„ <code>modern</code> ç¯å¢ƒ</li> <li><code>browserslist:last 2 versions</code> - ä½¿ç”¨æ˜¾å¼ browserslist æŸ¥è¯¢ï¼ˆé…ç½®å°†è¢«å¿½ç•¥ï¼‰</li> <li><code>browserslist:/path/to/config</code> - æ˜ç¡®æŒ‡å®š browserslist é…ç½®è·¯å¾„</li> <li><code>browserslist:/path/to/config:modern</code> - æ˜ç¡®æŒ‡å®š browserslist çš„é…ç½®è·¯å¾„å’Œç¯å¢ƒ</li> </ul> <h3 id="string"><code>[string]</code> <a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>å½“ä¼ é€’å¤šä¸ªç›®æ ‡æ—¶ï¼Œå°†ä½¿ç”¨å…±åŒçš„ç‰¹æ€§å­é›†ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  target<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'web'</span><span class="token punctuation">,</span> <span class="token string">'es5'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>webpack å°†ç”Ÿæˆ web å¹³å°çš„è¿è¡Œæ—¶ä»£ç ï¼Œå¹¶ä¸”åªä½¿ç”¨ ES5 ç›¸å…³çš„ç‰¹æ€§ã€‚</p> <p>ç›®å‰å¹¶ä¸æ˜¯æ‰€æœ‰çš„ target éƒ½å¯ä»¥è¿›è¡Œæ··åˆã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  target<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'web'</span><span class="token punctuation">,</span> <span class="token string">'node'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æ­¤æ—¶ä¼šå¯¼è‡´é”™è¯¯ã€‚webpack æš‚æ—¶ä¸æ”¯æŒ universal çš„ targetã€‚</p> <h3 id="false"><code>false</code> <a href="#false" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>å¦‚æœä¸Šè¿°åˆ—è¡¨ä¸­çš„é¢„è®¾ target éƒ½ä¸ç¬¦åˆä½ çš„éœ€æ±‚ï¼Œä½ å¯ä»¥å°† <code>target</code> è®¾ç½®ä¸º <code>false</code>ï¼Œè¿™å°†å‘Šè¯‰ webpack ä¸ä½¿ç”¨ä»»ä½•æ’ä»¶ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  target<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æˆ–è€…å¯ä»¥ä½¿ç”¨ä½ æƒ³è¦æŒ‡å®šçš„æ’ä»¶</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  target<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>JsonpTemplatePlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>output<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>LoaderTargetPlugin</span><span class="token punctuation">(</span><span class="token string">'web'</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å½“æ²¡æœ‰æä¾› target æˆ– <a href="../output/index.htm#outputenvironment" tppabs="https://webpack.docschina.org/configuration/output/#outputenvironment">environment</a> ç‰¹æ€§çš„ä¿¡æ¯æ—¶ï¼Œå°†é»˜è®¤ä½¿ç”¨ ES2015ã€‚</p> <h1 id="watch-å’Œ-watchOptions">watch å’Œ watchOptions<a href="#watch-%E5%92%8C-watchOptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>webpack å¯ä»¥ç›‘å¬æ–‡ä»¶å˜åŒ–ï¼Œå½“å®ƒä»¬ä¿®æ”¹åä¼šé‡æ–°ç¼–è¯‘ã€‚è¿™ä¸ªé¡µé¢ä»‹ç»äº†å¦‚ä½•å¯ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œä»¥åŠå½“ watch æ— æ³•æ­£å¸¸è¿è¡Œçš„æ—¶å€™ä½ å¯ä»¥åšçš„ä¸€äº›è°ƒæ•´ã€‚</p> <h2 id="watch"><code>watch</code> <a href="#watch" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code></p> <p>å¯ç”¨ Watch æ¨¡å¼ã€‚è¿™æ„å‘³ç€åœ¨åˆå§‹æ„å»ºä¹‹åï¼Œwebpack å°†ç»§ç»­ç›‘å¬ä»»ä½•å·²è§£ææ–‡ä»¶çš„æ›´æ”¹ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  watch<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p><a href="javascript:if(confirm('https://github.com/webpack/webpack-dev-server  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack-dev-server'" tppabs="https://github.com/webpack/webpack-dev-server">webpack-dev-server</a> å’Œ <a href="javascript:if(confirm('https://github.com/webpack/webpack-dev-middleware  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack-dev-middleware'" tppabs="https://github.com/webpack/webpack-dev-middleware">webpack-dev-middleware</a> é‡Œ Watch æ¨¡å¼é»˜è®¤å¼€å¯ã€‚</p> </blockquote> <h2 id="watchoptions"><code>watchOptions</code> <a href="#watchoptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object</code></p> <p>ä¸€ç»„ç”¨æ¥å®šåˆ¶ watch æ¨¡å¼çš„é€‰é¡¹ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  watchOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
    aggregateTimeout<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    poll<span class="token operator">:</span> <span class="token number">1000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="watchoptionsaggregatetimeout"><code>watchOptions.aggregateTimeout</code> <a href="#watchoptionsaggregatetimeout" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>number = 200</code></p> <p>å½“ç¬¬ä¸€ä¸ªæ–‡ä»¶æ›´æ”¹ï¼Œä¼šåœ¨é‡æ–°æ„å»ºå‰å¢åŠ å»¶è¿Ÿã€‚è¿™ä¸ªé€‰é¡¹å…è®¸ webpack å°†è¿™æ®µæ—¶é—´å†…è¿›è¡Œçš„ä»»ä½•å…¶ä»–æ›´æ”¹éƒ½èšåˆåˆ°ä¸€æ¬¡é‡æ–°æ„å»ºé‡Œã€‚ä»¥æ¯«ç§’ä¸ºå•ä½ï¼š</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  watchOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
    aggregateTimeout<span class="token operator">:</span> <span class="token number">600</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="watchoptionsignored"><code>watchOptions.ignored</code> <a href="#watchoptionsignored" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>RegExp</code> <code>string</code> <code>[string]</code></p> <p>å¯¹äºæŸäº›ç³»ç»Ÿï¼Œç›‘å¬å¤§é‡æ–‡ä»¶ä¼šå¯¼è‡´å¤§é‡çš„ CPU æˆ–å†…å­˜å ç”¨ã€‚å¯ä»¥ä½¿ç”¨æ­£åˆ™æ’é™¤åƒ <code>node_modules</code> å¦‚æ­¤åºå¤§çš„æ–‡ä»¶å¤¹ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  watchOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
    ignored<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æ­¤å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ glob æ¨¡å¼ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  watchOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
    ignored<span class="token operator">:</span> <span class="token string">'node_modules/**'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ä¹Ÿå¯ä»¥ä½¿ç”¨å¤š glob åŒ¹é…æ¨¡å¼ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  watchOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
    ignored<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'files/**/*.js'</span><span class="token punctuation">,</span> <span class="token string">'node_modules/**'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p>å¦‚æœä½ ä½¿ç”¨ <code>require.context</code>ï¼Œwebpack ä¼šè§‚å¯Ÿä½ çš„æ•´ä¸ªç›®å½•ã€‚ä½ åº”è¯¥å¿½ç•¥ä¸€äº›æ–‡ä»¶å’Œ/æˆ–(and/or)ç›®å½•ï¼Œä»¥ä¾¿é‚£äº›ä¸éœ€è¦ç›‘å¬çš„æ–‡ä»¶ä¿®æ”¹ï¼Œä¸ä¼šè§¦å‘é‡æ–°æ„å»ºã€‚</p> </blockquote> <h2 id="watchoptionspoll"><code>watchOptions.poll</code> <a href="#watchoptionspoll" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code> <code>number</code></p> <p>é€šè¿‡ä¼ é€’ <code>true</code> å¼€å¯ <a href="javascript:if(confirm('https://whatis.techtarget.com/definition/polling  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://whatis.techtarget.com/definition/polling'" tppabs="https://whatis.techtarget.com/definition/polling">polling</a>ï¼Œæˆ–è€…æŒ‡å®šæ¯«ç§’ä¸ºå•ä½è¿›è¡Œè½®è¯¢ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  watchOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
    poll<span class="token operator">:</span> <span class="token number">1000</span> <span class="token comment">// æ¯ç§’æ£€æŸ¥ä¸€æ¬¡å˜åŠ¨</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p>å¦‚æœç›‘å¬æ²¡ç”Ÿæ•ˆï¼Œè¯•è¯•è¿™ä¸ªé€‰é¡¹å§ã€‚Watch åœ¨ NFS å’Œ VirtualBox æœºå™¨ä¸Šä¸é€‚ç”¨ã€‚</p> </blockquote> <h2 id="troubleshooting">æ•…éšœæ’é™¤ <a href="#troubleshooting" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>å¦‚æœæ‚¨é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ä»¥ä¸‹æ³¨æ„äº‹é¡¹ã€‚å¯¹äº webpack ä¸ºä½•ä¼šå¿½ç•¥æ–‡ä»¶ä¿®æ”¹ï¼Œè¿™é‡Œæœ‰å¤šç§åŸå› ã€‚</p> <h3 id="changes-seen-but-not-processed">å‘ç°ä¿®æ”¹ï¼Œä½†å¹¶æœªåšå¤„ç† <a href="#changes-seen-but-not-processed" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>åœ¨è¿è¡Œ webpack æ—¶ï¼Œé€šè¿‡ä½¿ç”¨ --progress æ ‡å¿—ï¼Œæ¥éªŒè¯æ–‡ä»¶ä¿®æ”¹åï¼Œæ˜¯å¦æ²¡æœ‰é€šçŸ¥ webpackã€‚å¦‚æœè¿›åº¦æ˜¾ç¤ºä¿å­˜ï¼Œä½†æ²¡æœ‰è¾“å‡ºæ–‡ä»¶ï¼Œåˆ™å¯èƒ½æ˜¯é…ç½®é—®é¢˜ï¼Œè€Œä¸æ˜¯æ–‡ä»¶ç›‘è§†é—®é¢˜ã€‚</p> <pre><code class="hljs language-bash">webpack --watch --progress</code></pre> <h3 id="not-enough-watchers">æ²¡æœ‰è¶³å¤Ÿçš„æ–‡ä»¶è§‚å¯Ÿè€… <a href="#not-enough-watchers" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç¡®è®¤ç³»ç»Ÿä¸­æœ‰è¶³å¤Ÿå¤šçš„æ–‡ä»¶è§‚å¯Ÿè€…ã€‚å¦‚æœè¿™ä¸ªå€¼å¤ªä½ï¼Œwebpack ä¸­çš„æ–‡ä»¶è§‚å¯Ÿè€…å°†æ— æ³•è¯†åˆ«ä¿®æ”¹ï¼š</p> <pre><code class="hljs language-bash"><span class="token function">cat</span> /proc/sys/fs/inotify/max_user_watches</code></pre> <p>Arch ç”¨æˆ·ï¼Œè¯·å°† <code>fs.inotify.max_user_watches=524288</code> æ·»åŠ åˆ° <code>/etc/sysctl.d/99-sysctl.conf</code> ä¸­ï¼Œç„¶åæ‰§è¡Œ <code>sysctl --system</code>ã€‚ Ubuntu ç”¨æˆ·ï¼ˆå¯èƒ½è¿˜æœ‰å…¶ä»–ç”¨æˆ·ï¼‰è¯·æ‰§è¡Œï¼š<code>echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf &#x26;&#x26; sudo sysctl -p</code>ã€‚</p> <h3 id="macos-fsevents-bug">macOS fsevents Bug <a href="#macos-fsevents-bug" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>åœ¨ macOS ä¸­ï¼ŒæŸäº›æƒ…å†µä¸‹æ–‡ä»¶å¤¹å¯èƒ½ä¼šæŸåã€‚è¯·å‚é˜…<a href="javascript:if(confirm('https://github.com/livereload/livereload-site/blob/master/livereload.com/_articles/troubleshooting/os-x-fsevents-bug-may-prevent-monitoring-of-certain-folders.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/livereload/livereload-site/blob/master/livereload.com/_articles/troubleshooting/os-x-fsevents-bug-may-prevent-monitoring-of-certain-folders.md'" tppabs="https://github.com/livereload/livereload-site/blob/master/livereload.com/_articles/troubleshooting/os-x-fsevents-bug-may-prevent-monitoring-of-certain-folders.md">è¿™ç¯‡æ–‡ç« </a>ã€‚</p> <h3 id="windows-paths">Windows Paths <a href="#windows-paths" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>å› ä¸º webpack æœŸæœ›è·å¾—å¤šä¸ªé…ç½®é€‰é¡¹çš„ç»å¯¹è·¯å¾„ï¼ˆå¦‚ <code>__dirname + '/app/folder'</code>ï¼‰ï¼Œæ‰€ä»¥ Windows çš„è·¯å¾„åˆ†éš”ç¬¦ <code>\</code> å¯èƒ½ä¼šç ´åæŸäº›åŠŸèƒ½ã€‚</p> <p>ä½¿ç”¨æ­£ç¡®çš„åˆ†éš”ç¬¦ã€‚å³ <code>path.resolve(__dirname, 'app/folder')</code> æˆ– <code>path.join(__dirname, 'app', 'folder')</code>ã€‚</p> <h3 id="vim">Vim <a href="#vim" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>åœ¨æŸäº›æœºå™¨ä¸Šï¼ŒVim é¢„å…ˆå°† <a href="javascript:if(confirm('http://vimdoc.sourceforge.net/htmldoc/options.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://vimdoc.sourceforge.net/htmldoc/options.html#'" tppabs="http://vimdoc.sourceforge.net/htmldoc/options.html#">backupcopy é€‰é¡¹</a> è®¾ç½®ä¸º <code>auto</code>ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´ç³»ç»Ÿçš„æ–‡ä»¶ç›‘è§†æœºåˆ¶å‡ºç°é—®é¢˜ã€‚å°†æ­¤é€‰é¡¹è®¾ç½®ä¸º <code>yes</code> å¯ä»¥ç¡®ä¿åˆ›å»ºæ–‡ä»¶çš„å‰¯æœ¬ï¼Œå¹¶åœ¨ä¿å­˜æ—¶è¦†ç›–åŸå§‹æ–‡ä»¶ã€‚</p> <p><code>:set backupcopy=yes</code></p> <h3 id="saving-in-webstorm">åœ¨ WebStorm ä¸­ä¿å­˜ <a href="#saving-in-webstorm" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ä½¿ç”¨ JetBrains WebStorm IDE æ—¶ï¼Œä½ å¯èƒ½ä¼šå‘ç°ä¿å­˜ä¿®æ”¹è¿‡çš„æ–‡ä»¶ï¼Œå¹¶ä¸ä¼šæŒ‰ç…§é¢„æœŸè§¦å‘è§‚å¯Ÿè€…ã€‚å°è¯•åœ¨è®¾ç½®ä¸­ç¦ç”¨<code>å®‰å…¨å†™å…¥(safe write)</code>é€‰é¡¹ï¼Œè¯¥é€‰é¡¹ç¡®å®šåœ¨åŸæ–‡ä»¶è¢«è¦†ç›–ä¹‹å‰ï¼Œæ–‡ä»¶æ˜¯å¦å…ˆä¿å­˜åˆ°ä¸´æ—¶ä½ç½®ï¼šå–æ¶ˆé€‰ä¸­ <code>File > {Settings|Preferences} > Appearance &#x26; Behavior > System Settings > Use "safe write" (save changes to a temporary file first)</code>ã€‚</p> <h1 id="å¤–éƒ¨æ‰©å±•externals">å¤–éƒ¨æ‰©å±•(externals)<a href="#%E5%A4%96%E9%83%A8%E6%89%A9%E5%B1%95externals" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><code>externals</code> é…ç½®é€‰é¡¹æä¾›äº†ã€Œä»è¾“å‡ºçš„ bundle ä¸­æ’é™¤ä¾èµ–ã€çš„æ–¹æ³•ã€‚ç›¸åï¼Œæ‰€åˆ›å»ºçš„ bundle ä¾èµ–äºé‚£äº›å­˜åœ¨äºç”¨æˆ·ç¯å¢ƒ(consumer's environment)ä¸­çš„ä¾èµ–ã€‚æ­¤åŠŸèƒ½é€šå¸¸å¯¹ __library å¼€å‘äººå‘˜__æ¥è¯´æ˜¯æœ€æœ‰ç”¨çš„ï¼Œç„¶è€Œä¹Ÿä¼šæœ‰å„ç§å„æ ·çš„åº”ç”¨ç¨‹åºç”¨åˆ°å®ƒã€‚</p> <h2 id="externals"><code>externals</code> <a href="#externals" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code> <code>[string]</code> <code>object</code> <code>function</code> <code>RegExp</code></p> <p>__é˜²æ­¢__å°†æŸäº› <code>import</code> çš„åŒ…(package)__æ‰“åŒ…__åˆ° bundle ä¸­ï¼Œè€Œæ˜¯åœ¨è¿è¡Œæ—¶(runtime)å†å»ä»å¤–éƒ¨è·å–è¿™äº›_æ‰©å±•ä¾èµ–(external dependencies)_ã€‚</p> <p>ä¾‹å¦‚ï¼Œä» CDN å¼•å…¥ <a href="javascript:if(confirm('https://jquery.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://jquery.com/'" tppabs="https://jquery.com/">jQuery</a>ï¼Œè€Œä¸æ˜¯æŠŠå®ƒæ‰“åŒ…ï¼š</p> <p><strong>index.html</strong></p> <pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span>
  <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://code.jquery.com/jquery-3.1.0.js<span class="token punctuation">"</span></span>
  <span class="token attr-name">integrity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sha256-slogkvB1K3VOkzAI8QITxV3VzpOnkeNVsKvtkYLMjfk=<span class="token punctuation">"</span></span>
  <span class="token attr-name">crossorigin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>anonymous<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span></code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externals<span class="token operator">:</span> <span class="token punctuation">{</span>
    jquery<span class="token operator">:</span> <span class="token string">'jQuery'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>è¿™æ ·å°±å‰¥ç¦»äº†é‚£äº›ä¸éœ€è¦æ”¹åŠ¨çš„ä¾èµ–æ¨¡å—ï¼Œæ¢å¥è¯ï¼Œä¸‹é¢å±•ç¤ºçš„ä»£ç è¿˜å¯ä»¥æ­£å¸¸è¿è¡Œï¼š</p> <pre><code class="hljs language-javascript"><span class="token keyword">import</span> $ <span class="token keyword">from</span> <span class="token string">'jquery'</span><span class="token punctuation">;</span>

<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.my-element'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>å…·æœ‰å¤–éƒ¨ä¾èµ–(external dependency)çš„ bundle å¯ä»¥åœ¨å„ç§æ¨¡å—ä¸Šä¸‹æ–‡(module context)ä¸­ä½¿ç”¨ï¼Œä¾‹å¦‚ <a href="../../concepts/modules.htm" tppabs="https://webpack.docschina.org/concepts/modules">CommonJS, AMD, å…¨å±€å˜é‡å’Œ ES2015 æ¨¡å—</a>ã€‚å¤–éƒ¨ library å¯èƒ½æ˜¯ä»¥ä¸‹ä»»ä½•ä¸€ç§å½¢å¼ï¼š</p> <ul> <li><strong>root</strong>ï¼šå¯ä»¥é€šè¿‡ä¸€ä¸ªå…¨å±€å˜é‡è®¿é—® libraryï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡ script æ ‡ç­¾ï¼‰ã€‚</li> <li><strong>commonjs</strong>ï¼šå¯ä»¥å°† library ä½œä¸ºä¸€ä¸ª CommonJS æ¨¡å—è®¿é—®ã€‚</li> <li><strong>commonjs2</strong>ï¼šå’Œä¸Šé¢çš„ç±»ä¼¼ï¼Œä½†å¯¼å‡ºçš„æ˜¯ <code>module.exports.default</code>.</li> <li><strong>amd</strong>ï¼šç±»ä¼¼äº <code>commonjs</code>ï¼Œä½†ä½¿ç”¨ AMD æ¨¡å—ç³»ç»Ÿã€‚</li> </ul> <p>å¯ä»¥æ¥å—ä»¥ä¸‹è¯­æ³•â€¦â€¦</p> <h3 id="string">å­—ç¬¦ä¸² <a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>è¯·æŸ¥çœ‹ä¸Šé¢çš„ä¾‹å­ã€‚å±æ€§åç§°æ˜¯ <code>jquery</code>ï¼Œè¡¨ç¤ºåº”è¯¥æ’é™¤ <code>import $ from 'jquery'</code> ä¸­çš„ <code>jquery</code> æ¨¡å—ã€‚ä¸ºäº†æ›¿æ¢è¿™ä¸ªæ¨¡å—ï¼Œ<code>jQuery</code> çš„å€¼å°†è¢«ç”¨æ¥æ£€ç´¢ä¸€ä¸ªå…¨å±€çš„ <code>jQuery</code> å˜é‡ã€‚æ¢å¥è¯è¯´ï¼Œå½“è®¾ç½®ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œå®ƒå°†è¢«è§†ä¸º<code>å…¨å±€çš„</code>ï¼ˆå®šä¹‰åœ¨ä¸Šé¢å’Œä¸‹é¢ï¼‰ã€‚</p> <p>å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä½ æƒ³å°†ä¸€ä¸ªç¬¦åˆ CommonJS æ¨¡å—åŒ–è§„åˆ™çš„ç±»åº“å¤–éƒ¨åŒ–ï¼Œä½ å¯ä»¥æä¾›å¤–è”ç±»åº“çš„ç±»å‹ä»¥åŠç±»åº“çš„åç§°ã€‚</p> <p>å¦‚æœä½ æƒ³å°† <code>fs-extra</code> ä»è¾“å‡ºçš„ bundle ä¸­å‰”é™¤å¹¶åœ¨è¿è¡Œæ—¶ä¸­å¼•å…¥å®ƒï¼Œä½ å¯ä»¥å¦‚ä¸‹å®šä¹‰ï¼š</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  externals<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">'fs-extra'</span><span class="token operator">:</span> <span class="token string">'commonjs2 fs-extra'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>è¿™æ ·çš„åšæ³•ä¼šè®©ä»»ä½•ä¾èµ–çš„æ¨¡å—éƒ½ä¸å˜ï¼Œæ­£å¦‚ä»¥ä¸‹æ‰€ç¤ºçš„ä»£ç ï¼š</p> <pre><code class="hljs language-javascript"><span class="token keyword">import</span> fs <span class="token keyword">from</span> <span class="token string">'fs-extra'</span><span class="token punctuation">;</span></code></pre> <p>ä¼šå°†ä»£ç ç¼–è¯‘æˆï¼š</p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs-extra'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="string"><code>[string]</code> <a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externals<span class="token operator">:</span> <span class="token punctuation">{</span>
    subtract<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./math'</span><span class="token punctuation">,</span> <span class="token string">'subtract'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><code>subtract: ['./math', 'subtract']</code> è½¬æ¢ä¸ºçˆ¶å­ç»“æ„ï¼Œå…¶ä¸­ <code>./math</code> æ˜¯çˆ¶æ¨¡å—ï¼Œè€Œ bundle åªå¼•ç”¨ <code>subtract</code> å˜é‡ä¸‹çš„å­é›†ã€‚è¯¥ä¾‹å­ä¼šç¼–è¯‘æˆ <code>require('./math').subtract;</code></p> <h3 id="object">å¯¹è±¡ <a href="#object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <blockquote class="warning"> <p>ä¸€ä¸ªå½¢å¦‚ <code>{ root, amd, commonjs, ... }</code> çš„å¯¹è±¡ä»…å…è®¸ç”¨äº <a href="../output/index.htm#outputlibrarytarget" tppabs="https://webpack.docschina.org/configuration/output/#outputlibrarytarget"><code>libraryTarget: 'umd'</code></a> è¿™æ ·çš„é…ç½®.å®ƒä¸è¢«å…è®¸ ç”¨äºå…¶å®ƒçš„ library targets é…ç½®å€¼.</p> </blockquote> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externals <span class="token operator">:</span> <span class="token punctuation">{</span>
    react<span class="token operator">:</span> <span class="token string">'react'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// æˆ–è€…</span>

  externals <span class="token operator">:</span> <span class="token punctuation">{</span>
    lodash <span class="token operator">:</span> <span class="token punctuation">{</span>
      commonjs<span class="token operator">:</span> <span class="token string">'lodash'</span><span class="token punctuation">,</span>
      amd<span class="token operator">:</span> <span class="token string">'lodash'</span><span class="token punctuation">,</span>
      root<span class="token operator">:</span> <span class="token string">'_'</span> <span class="token comment">// æŒ‡å‘å…¨å±€å˜é‡</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// æˆ–è€…</span>

  externals <span class="token operator">:</span> <span class="token punctuation">{</span>
    subtract <span class="token operator">:</span> <span class="token punctuation">{</span>
      root<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'math'</span><span class="token punctuation">,</span> <span class="token string">'subtract'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æ­¤è¯­æ³•ç”¨äºæè¿°å¤–éƒ¨ library æ‰€æœ‰å¯ç”¨çš„è®¿é—®æ–¹å¼ã€‚è¿™é‡Œ <code>lodash</code> è¿™ä¸ªå¤–éƒ¨ library å¯ä»¥åœ¨ AMD å’Œ CommonJS æ¨¡å—ç³»ç»Ÿä¸­é€šè¿‡ <code>lodash</code> è®¿é—®ï¼Œä½†åœ¨å…¨å±€å˜é‡å½¢å¼ä¸‹ç”¨ <code>_</code> è®¿é—®ã€‚<code>subtract</code> å¯ä»¥é€šè¿‡å…¨å±€ <code>math</code> å¯¹è±¡ä¸‹çš„å±æ€§ <code>subtract</code> è®¿é—®ï¼ˆä¾‹å¦‚ <code>window['math']['subtract']</code>ï¼‰ã€‚</p> <h3 id="function">å‡½æ•° <a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>function ({ context, request }, callback)</code></p> <p>å¯¹äº webpack å¤–éƒ¨åŒ–ï¼Œé€šè¿‡å®šä¹‰å‡½æ•°æ¥æ§åˆ¶è¡Œä¸ºï¼Œå¯èƒ½ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚ä¾‹å¦‚ï¼Œ<a href="javascript:if(confirm('https://www.npmjs.com/package/webpack-node-externals  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.npmjs.com/package/webpack-node-externals'" tppabs="https://www.npmjs.com/package/webpack-node-externals">webpack-node-externals</a> èƒ½å¤Ÿæ’é™¤ <code>node_modules</code> ç›®å½•ä¸­æ‰€æœ‰æ¨¡å—ï¼Œè¿˜æä¾›ä¸€äº›é€‰é¡¹ï¼Œæ¯”å¦‚ç™½åå• package(whitelist package)ã€‚</p> <p>å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå…¥å‚ï¼š</p> <ul> <li><code>ctx</code> (<code>object</code>)ï¼šåŒ…å«æ–‡ä»¶è¯¦æƒ…çš„å¯¹è±¡ã€‚ <ul> <li><code>ctx.context</code> (<code>string</code>): åŒ…å«å¼•ç”¨çš„æ–‡ä»¶ç›®å½•ã€‚</li> <li><code>ctc.request</code> (<code>string</code>): è¢«è¯·æ±‚å¼•å…¥çš„è·¯å¾„ã€‚</li> </ul> </li> <li><code>callback</code> (<code>function (err, result, type)</code>): ç”¨äºæŒ‡æ˜æ¨¡å—å¦‚ä½•è¢«å¤–éƒ¨åŒ–çš„å›è°ƒå‡½æ•°</li> </ul> <p>å›è°ƒå‡½æ•°æ¥æ”¶ä¸‰ä¸ªå…¥å‚ï¼š</p> <ul> <li><code>err</code> (<code>Error</code>): è¢«ç”¨äºè¡¨æ˜åœ¨å¤–éƒ¨å¤–å¼•ç”¨çš„æ—¶å€™æ˜¯å¦ä¼šäº§ç”Ÿé”™è¯¯ã€‚å¦‚æœæœ‰é”™è¯¯ï¼Œè¿™å°†ä¼šæ˜¯å”¯ä¸€è¢«ç”¨åˆ°çš„å‚æ•°ã€‚</li> <li><code>result</code> (<code>string</code> <code>[string]</code> <code>object</code>): æè¿°å¤–éƒ¨åŒ–çš„æ¨¡å—ã€‚å¯ä»¥æ¥å—å½¢å¦‚ <code>${type} ${path}</code> æ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œæˆ–è€…å…¶å®ƒæ ‡å‡†åŒ–å¤–éƒ¨åŒ–æ¨¡å—æ ¼å¼ï¼Œ(<a href="#string"><code>string</code></a>, <a href="#string-1"><code>[string]</code></a>ï¼Œæˆ– <a href="#object"><code>object</code></a>)ã€‚</li> <li><code>type</code> (<code>string</code>): å¯é€‰çš„å‚æ•°ï¼Œç”¨äºæŒ‡æ˜æ¨¡å—çš„ç±»å‹ï¼ˆå¦‚æœå®ƒæ²¡åœ¨ <code>result</code> å‚æ•°ä¸­è¢«æŒ‡æ˜ï¼‰ã€‚</li> </ul> <p>ä½œä¸ºä¾‹å­ï¼Œè¦å¤–éƒ¨åŒ–æ‰€æœ‰åŒ¹é…ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„å¼•å…¥ï¼Œä½ å¯ä»¥åƒä¸‹é¢é‚£æ ·å¤„ç†ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externals<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> context<span class="token punctuation">,</span> request <span class="token punctuation">}</span><span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^yourregex$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// ä½¿ç”¨ request è·¯å¾„ï¼Œå°†ä¸€ä¸ª commonjs æ¨¡å—å¤–éƒ¨åŒ–</span>
        <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'commonjs '</span> <span class="token operator">+</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// ç»§ç»­ä¸‹ä¸€æ­¥ä¸”ä¸å¤–éƒ¨åŒ–å¼•ç”¨</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å…¶å®ƒä¾‹å­ä½¿ç”¨ä¸åŒçš„æ¨¡å—æ ¼å¼ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  externals<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// è¯¥å¤–éƒ¨åŒ–çš„æ¨¡å—ï¼Œæ˜¯ä¸€ä¸ª `commonjs2` çš„æ¨¡å—ï¼Œä¸”æ”¾åœ¨ `@scope/library` ç›®å½•ä¸­</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'@scope/library'</span><span class="token punctuation">,</span> <span class="token string">'commonjs2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  externals<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// è¯¥å¤–éƒ¨åŒ–æ¨¡å—æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡å«ä½œ `nameOfGlobal`.</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'nameOfGlobal'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  externals<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// è¯¥å¤–éƒ¨åŒ–æ¨¡å—æ˜¯ä¸€ä¸ªåœ¨`@scope/library`æ¨¡å—é‡Œçš„å‘½åå¯¼å‡ºï¼ˆnamed exportï¼‰ã€‚</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'@scope/library'</span><span class="token punctuation">,</span> <span class="token string">'namedexport'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'commonjs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  externals<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">ctx<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// å¤–éƒ¨åŒ–æ¨¡å—æ˜¯ä¸€ä¸ª UMD æ¨¡å—</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        root<span class="token operator">:</span> <span class="token string">'componentsGlobal'</span><span class="token punctuation">,</span>
        commonjs<span class="token operator">:</span> <span class="token string">'@scope/components'</span><span class="token punctuation">,</span>
        commonjs2<span class="token operator">:</span> <span class="token string">'@scope/components'</span><span class="token punctuation">,</span>
        amd<span class="token operator">:</span> <span class="token string">'components'</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="regexp">RegExp <a href="#regexp" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>åŒ¹é…ç»™å®šæ­£åˆ™è¡¨è¾¾å¼çš„æ¯ä¸ªä¾èµ–ï¼Œéƒ½å°†ä»è¾“å‡º bundle ä¸­æ’é™¤ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externals<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(jquery|\$)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæ‰€æœ‰åä¸º <code>jQuery</code> çš„ä¾èµ–ï¼ˆå¿½ç•¥å¤§å°å†™ï¼‰ï¼Œæˆ–è€… <code>$</code>ï¼Œéƒ½ä¼šè¢«å¤–éƒ¨åŒ–ã€‚</p> <h3 id="combining-syntaxes">æ··ç”¨è¯­æ³• <a href="#combining-syntaxes" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>æœ‰æ—¶ä½ éœ€è¦æ··ç”¨ä¸Šé¢ä»‹ç»çš„è¯­æ³•ã€‚è¿™å¯ä»¥åƒä»¥ä¸‹è¿™æ ·æ“ä½œï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externals<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token comment">// å­—ç¬¦ä¸²</span>
      react<span class="token operator">:</span> <span class="token string">'react'</span><span class="token punctuation">,</span>
      <span class="token comment">// å¯¹è±¡</span>
      lodash <span class="token operator">:</span> <span class="token punctuation">{</span>
        commonjs<span class="token operator">:</span> <span class="token string">'lodash'</span><span class="token punctuation">,</span>
        amd<span class="token operator">:</span> <span class="token string">'lodash'</span><span class="token punctuation">,</span>
        root<span class="token operator">:</span> <span class="token string">'_'</span> <span class="token comment">// indicates global variable</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// å­—ç¬¦ä¸²æ•°ç»„</span>
      subtract<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./math'</span><span class="token punctuation">,</span> <span class="token string">'subtract'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// å‡½æ•°</span>
    <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> context<span class="token punctuation">,</span> request <span class="token punctuation">}</span><span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^yourregex$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'commonjs '</span> <span class="token operator">+</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// æ­£åˆ™è¡¨è¾¾å¼</span>
    <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">(</span>jquery<span class="token operator">|</span>\$<span class="token punctuation">)</span>$<span class="token operator">/</span>i
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p><a href="../externals/index.htm#externalstype" tppabs="https://webpack.docschina.org/configuration/externals/#externalstype">Default type</a> will be used if you specify <code>externals</code> without a type e.g. <code>externals: { react: 'react' }</code> instead of <code>externals: { react: 'commonjs-module react' }</code>.</p> </blockquote> <p>å…³äºå¦‚ä½•ä½¿ç”¨æ­¤ externals é…ç½®çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒ <a href="../../guides/author-libraries.htm" tppabs="https://webpack.docschina.org/guides/author-libraries">å¦‚ä½•ç¼–å†™ library</a>ã€‚</p> <h2 id="externalstype"><code>externalsType</code> <a href="#externalstype" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = 'var'</code></p> <p>æŒ‡å®š externals çš„é»˜è®¤ç±»å‹ã€‚å½“ external è¢«è®¾ç½®ä¸º <code>amd</code>ï¼Œ<code>umd</code>ï¼Œ<code>system</code> ä»¥åŠ <code>jsonp</code> æ—¶ï¼Œ<strong><a href="../output/index.htm#outputlibrarytarget" tppabs="https://webpack.docschina.org/configuration/output/#outputlibrarytarget"><code>output.libraryTarget</code></a></strong> çš„å€¼ä¹Ÿåº”ç›¸åŒã€‚ä¾‹å¦‚ï¼Œä½ åªèƒ½åœ¨ <code>amd</code> åº“ä¸­ä½¿ç”¨ <code>amd</code> çš„ externalsã€‚</p> <p>æ”¯æŒçš„ç±»å‹å¦‚ä¸‹ï¼š</p> <ul> <li><code>'var'</code></li> <li><code>'module'</code></li> <li><code>'assign'</code></li> <li><code>'this'</code></li> <li><code>'window'</code></li> <li><code>'self'</code></li> <li><code>'global'</code></li> <li><code>'commonjs'</code></li> <li><code>'commonjs-module'</code></li> <li><code>'amd'</code></li> <li><code>'amd-require'</code></li> <li><code>'umd'</code></li> <li><code>'umd2'</code></li> <li><code>'jsonp'</code></li> <li><code>'system'</code></li> <li><code>'promise'</code> - ä¸ <code>'var'</code> ç›¸åŒï¼Œä½†ä¼š awaits ç»“æœï¼ˆé€‚ç”¨äº async æ¨¡å—ï¼‰</li> <li><code>'import'</code> - ä½¿ç”¨ <code>import()</code> åŠ è½½åŸç”Ÿçš„ EcmaScript æ¨¡å—ï¼ˆé€‚ç”¨äº async æ¨¡å—ï¼‰</li> <li><code>'script'</code> - ä½¿ç”¨ HTML çš„ <code>&#x3C;script></code> å…ƒç´ åŠ è½½ scriptï¼Œç”¨äºæš´éœ²é¢„å®šä¹‰çš„å…¨å±€å˜é‡</li> </ul> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  externalsType<span class="token operator">:</span> <span class="token string">'promise'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="script"><code>script</code> <a href="#script" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>External script can be loaded from any URL when <a href="#externalstype"><code>externalsType</code></a> is set to <code>'script'</code>. The <code>&#x3C;script></code> tag would be removed after the script has been loaded.</p> <h4 id="syntax">Syntax <a href="#syntax" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  externals<span class="token operator">:</span> <span class="token punctuation">{</span>
    packageName<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'http://example.com/script.js'</span><span class="token punctuation">,</span> <span class="token string">'global'</span><span class="token punctuation">,</span> <span class="token string">'property'</span><span class="token punctuation">,</span> <span class="token string">'property'</span><span class="token punctuation">]</span> <span class="token comment">// properties are optional</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å¦‚æœä½ ä¸æ‰“ç®—å®šä¹‰ä»»ä½•ç†Ÿæ‚‰ï¼Œä½ å¯ä»¥ä½¿ç”¨ç®€å†™å½¢å¼ï¼š</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  externals<span class="token operator">:</span> <span class="token punctuation">{</span>
    packageName<span class="token operator">:</span> <span class="token string">'global@http://example.com/script.js'</span> <span class="token comment">// no properties here</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p><a href="../output/index.htm#outputpublicpath" tppabs="https://webpack.docschina.org/configuration/output/#outputpublicpath"><code>output.publicPath</code></a> ä¸ä¼šè¢«æ·»åŠ åˆ°æä¾›çš„ URL ä¸­ã€‚</p> </blockquote> <h4 id="example">ç¤ºä¾‹ <a href="#example" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>ä» CDN åŠ è½½ <code>lodash</code>ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  externalsType<span class="token operator">:</span> <span class="token string">'script'</span><span class="token punctuation">,</span>
  externals<span class="token operator">:</span> <span class="token punctuation">{</span>
    lodash<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'https://cdn.jsdelivr.net/npm/lodash@4.17.19/lodash.min.js'</span><span class="token punctuation">,</span> <span class="token string">'_'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ç„¶åï¼Œä»£ç ä¸­ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p> <pre><code class="hljs language-js"><span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">'lodash'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_<span class="token punctuation">.</span><span class="token function">head</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>ä¸‹é¢ç¤ºä¾‹æ˜¯é’ˆå¯¹ä¸Šé¢ç¤ºä¾‹æ–°å¢äº†å±æ€§é…ç½®ï¼š</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  externalsType<span class="token operator">:</span> <span class="token string">'script'</span><span class="token punctuation">,</span>
  externals<span class="token operator">:</span> <span class="token punctuation">{</span>
    lodash<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'https://cdn.jsdelivr.net/npm/lodash@4.17.19/lodash.min.js'</span><span class="token punctuation">,</span> <span class="token string">'_'</span><span class="token punctuation">,</span> <span class="token string">'head'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å½“ä½  <code>import 'loadsh'</code> æ—¶ï¼Œå±€éƒ¨å˜é‡ <code>head</code> å’Œå…¨å±€å˜é‡ <code>window._</code> éƒ½ä¼šè¢«æš´éœ²ï¼š</p> <pre><code class="hljs language-js"><span class="token keyword">import</span> head <span class="token keyword">from</span> <span class="token string">'lodash'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">head</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs 1 here</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>_<span class="token punctuation">.</span><span class="token function">head</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logs a here</span></code></pre> <blockquote class="tip"> <p>å½“åŠ è½½å¸¦æœ‰ HTML <code>&#x3C;script></code> æ ‡ç­¾çš„ä»£ç æ—¶ï¼Œwebpack çš„ runtime å°†è¯•å›¾å¯»æ‰¾ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ <code>&#x3C;script></code> æ ‡ç­¾ï¼Œæ­¤æ ‡ç­¾éœ€ä¸ <code>src</code> çš„å±æ€§ç›¸åŒ¹é…ï¼Œæˆ–è€…å…·æœ‰ç‰¹å®šçš„ <code>data-webpack</code> å±æ€§ã€‚å¯¹äº chunk åŠ è½½æ¥è¯´ï¼Œ<code>data-webpack</code> å±æ€§çš„å€¼ä¸º <code>'[output.uniqueName]:chunk-[chunkId]'</code>ï¼Œè€Œ external è„šæœ¬çš„å€¼ä¸º <code>'[output.uniqueName]:[global]'</code>ã€‚</p> </blockquote> <blockquote class="tip"> <p>åƒ <code>output.chunkLoadTimeout</code>ï¼Œ<code>output.crossOriginLoading</code> ä»¥åŠ <code>output.scriptType</code> ç­‰é€‰é¡¹ä¹Ÿä¼šå¯¹è¿™ç§æ–¹å¼åŠ è½½çš„ external è„šæœ¬äº§ç”Ÿå½±å“ã€‚</p> </blockquote> <h2 id="externals-presets"><code>externalsPresets</code> <a href="#externals-presets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object</code></p> <p>ä¸ºç‰¹å®šçš„ target å¯ç”¨ externals çš„ presetã€‚</p> <blockquote class="warning"> <p>åœ¨æ—©æœŸçš„ webpack ç‰ˆæœ¬ä¸­ï¼Œé€šè¿‡ä½¿ç”¨ <a href="../target/index.htm" tppabs="https://webpack.docschina.org/configuration/target/"><code>target</code></a> å®ç°ä»¥ä¸‹åŠŸèƒ½ã€‚</p> </blockquote> <table> <thead> <tr> <th>é€‰é¡¹</th> <th>æè¿°</th> <th>è¾“å…¥ç±»å‹</th> </tr> </thead> <tbody> <tr> <td data-th="é€‰é¡¹"><span><code>electron</code></span></td> <td data-th="æè¿°"><span>å°† main å’Œé¢„åŠ è½½ä¸Šä¸‹æ–‡ä¸­å¸¸è§çš„ electron å†…ç½®æ¨¡å—è§†ä¸º external æ¨¡å—ï¼ˆå¦‚ <code>electron</code>ï¼Œ<code>ipc</code> æˆ– <code>shell</code>ï¼‰ï¼Œä½¿ç”¨æ—¶é€šè¿‡ <code>require()</code> åŠ è½½ã€‚</span></td> <td data-th="è¾“å…¥ç±»å‹"><span>boolean</span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>electronMain</code></span></td> <td data-th="æè¿°"><span>å°† main ä¸Šä¸‹æ–‡ä¸­çš„ electron å†…ç½®æ¨¡å—è§†ä¸º external æ¨¡å—ï¼ˆå¦‚ <code>app</code>ï¼Œ<code>ipc-main</code> æˆ– <code>shell</code>ï¼‰ï¼Œä½¿ç”¨æ—¶é€šè¿‡ <code>require()</code> åŠ è½½ã€‚</span></td> <td data-th="è¾“å…¥ç±»å‹"><span>boolean</span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>electronPreload</code></span></td> <td data-th="æè¿°"><span>å°†é¢„åŠ è½½ä¸Šä¸‹æ–‡çš„ electron å†…ç½®æ¨¡å—è§†ä¸º external æ¨¡å—ï¼ˆå¦‚ <code>web-frame</code>ï¼Œ<code>ipc-renderer</code> æˆ– <code>shell</code>ï¼‰ï¼Œä½¿ç”¨æ—¶é€šè¿‡ <code>require()</code> åŠ è½½ã€‚</span></td> <td data-th="è¾“å…¥ç±»å‹"><span>boolean</span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>electronRenderer</code></span></td> <td data-th="æè¿°"><span>å°† renderer ä¸Šä¸‹æ–‡çš„ electron å†…ç½®æ¨¡å—è§†ä¸º external æ¨¡å—ï¼ˆå¦‚ <code>web-frame</code>ã€<code>ipc-renderer</code> æˆ– <code>shell</code>ï¼‰ï¼Œä½¿ç”¨æ—¶é€šè¿‡ <code>require()</code> åŠ è½½ã€‚</span></td> <td data-th="è¾“å…¥ç±»å‹"><span>boolean</span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>node</code></span></td> <td data-th="æè¿°"><span>å°† node.js çš„å†…ç½®æ¨¡å—è§†ä¸º external æ¨¡å—ï¼ˆå¦‚ <code>fs</code>ï¼Œ<code>path</code> æˆ– <code>vm</code>ï¼‰ï¼Œä½¿ç”¨æ—¶é€šè¿‡ <code>require()</code> åŠ è½½ã€‚</span></td> <td data-th="è¾“å…¥ç±»å‹"><span>boolean</span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>nwjs</code></span></td> <td data-th="æè¿°"><span>å°† <code>NW.js</code> é—ç•™çš„ <code>nw.gui</code> æ¨¡å—è§†ä¸º external æ¨¡å—ï¼Œä½¿ç”¨æ—¶é€šè¿‡ <code>require()</code> åŠ è½½ã€‚</span></td> <td data-th="è¾“å…¥ç±»å‹"><span>boolean</span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>web</code></span></td> <td data-th="æè¿°"><span>å°† <code>http(s)://...</code> ä»¥åŠ <code>std:...</code> è§†ä¸º external æ¨¡å—ï¼Œä½¿ç”¨æ—¶é€šè¿‡ <code>import</code> åŠ è½½ã€‚<strong>ï¼ˆæ³¨æ„ï¼Œè¿™å°†æ”¹å˜æ‰§è¡Œé¡ºåºï¼Œå› ä¸º external ä»£ç ä¼šåœ¨è¯¥å—ä¸­çš„å…¶ä»–ä»£ç æ‰§è¡Œå‰è¢«æ‰§è¡Œï¼‰</strong>ã€‚</span></td> <td data-th="è¾“å…¥ç±»å‹"><span>boolean</span></td> </tr> <tr> <td data-th="é€‰é¡¹"><span><code>webAsync</code></span></td> <td data-th="æè¿°"><span>å°† <code>http(s)://...</code> ä»¥åŠ <code>std:...</code> çš„å¼•ç”¨è§†ä¸º external æ¨¡å—ï¼Œä½¿ç”¨æ—¶é€šè¿‡ <code>async import()</code> åŠ è½½ã€‚<strong>ï¼ˆæ³¨æ„ï¼Œæ­¤ external ç±»å‹ä¸º <code>async</code> æ¨¡å—ï¼Œå®ƒå¯¹æ‰§è¡Œä¼šäº§ç”Ÿå„ç§å‰¯ä½œç”¨ï¼‰</strong>ã€‚</span></td> <td data-th="è¾“å…¥ç±»å‹"><span>boolean</span></td> </tr> </tbody> </table> <p><strong>ç¤ºä¾‹</strong></p> <p>ä½¿ç”¨ <code>node</code> çš„ preset ä¸ä¼šæ„å»ºå†…ç½®æ¨¡å—ï¼Œè€Œä¼šå°†å…¶è§†ä¸º external æ¨¡å—ï¼Œä½¿ç”¨æ—¶é€šè¿‡ <code>require()</code> åŠ è½½ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  externalsPresets<span class="token operator">:</span><span class="token punctuation">{</span>
    node<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h1 id="æ€§èƒ½performance">æ€§èƒ½(performance)<a href="#%E6%80%A7%E8%83%BDperformance" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>è¿™äº›é€‰é¡¹å¯ä»¥æ§åˆ¶ webpack å¦‚ä½•é€šçŸ¥ã€Œèµ„æº(asset)å’Œå…¥å£èµ·ç‚¹è¶…è¿‡æŒ‡å®šæ–‡ä»¶é™åˆ¶ã€ã€‚ æ­¤åŠŸèƒ½å—åˆ° <a href="javascript:if(confirm('https://github.com/webpack/webpack/issues/3216  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/issues/3216'" tppabs="https://github.com/webpack/webpack/issues/3216">webpack æ€§èƒ½è¯„ä¼°</a>çš„å¯å‘ã€‚</p> <h2 id="performance"><code>performance</code> <a href="#performance" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object</code></p> <p>é…ç½®å¦‚ä½•å±•ç¤ºæ€§èƒ½æç¤ºã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªèµ„æºè¶…è¿‡ 250kbï¼Œwebpack ä¼šå¯¹æ­¤è¾“å‡ºä¸€ä¸ªè­¦å‘Šæ¥é€šçŸ¥ä½ ã€‚</p> <h2 id="performancehints"><code>performance.hints</code> <a href="#performancehints" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string = 'warning': 'error' | 'warning'</code> <code>boolean: false</code></p> <p>æ‰“å¼€/å…³é—­æç¤ºã€‚æ­¤å¤–ï¼Œå½“æ‰¾åˆ°æç¤ºæ—¶ï¼Œå‘Šè¯‰ webpack æŠ›å‡ºä¸€ä¸ªé”™è¯¯æˆ–è­¦å‘Šã€‚æ­¤å±æ€§é»˜è®¤è®¾ç½®ä¸º <code>"warning"</code>ã€‚</p> <p>ç»™å®šä¸€ä¸ªåˆ›å»ºåè¶…è¿‡ 250kb çš„èµ„æºï¼š</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  performance<span class="token operator">:</span> <span class="token punctuation">{</span>
    hints<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ä¸å±•ç¤ºè­¦å‘Šæˆ–é”™è¯¯æç¤ºã€‚</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  performance<span class="token operator">:</span> <span class="token punctuation">{</span>
    hints<span class="token operator">:</span> <span class="token string">'warning'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å°†å±•ç¤ºä¸€æ¡è­¦å‘Šï¼Œé€šçŸ¥ä½ è¿™æ˜¯ä½“ç§¯å¤§çš„èµ„æºã€‚åœ¨å¼€å‘ç¯å¢ƒï¼Œæˆ‘ä»¬æ¨èè¿™æ ·ã€‚</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  performance<span class="token operator">:</span> <span class="token punctuation">{</span>
    hints<span class="token operator">:</span> <span class="token string">'error'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å°†å±•ç¤ºä¸€æ¡é”™è¯¯ï¼Œé€šçŸ¥ä½ è¿™æ˜¯ä½“ç§¯å¤§çš„èµ„æºã€‚åœ¨ç”Ÿäº§ç¯å¢ƒæ„å»ºæ—¶ï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨ <code>hints: "error"</code>ï¼Œæœ‰åŠ©äºé˜²æ­¢æŠŠä½“ç§¯å·¨å¤§çš„ bundle éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œä»è€Œå½±å“ç½‘é¡µçš„æ€§èƒ½ã€‚</p> <h2 id="performancemaxentrypointsize"><code>performance.maxEntrypointSize</code> <a href="#performancemaxentrypointsize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>number = 250000</code></p> <p>å…¥å£èµ·ç‚¹è¡¨ç¤ºé’ˆå¯¹æŒ‡å®šçš„å…¥å£ï¼Œå¯¹äºæ‰€æœ‰èµ„æºï¼Œè¦å……åˆ†åˆ©ç”¨åˆå§‹åŠ è½½æ—¶(initial load time)æœŸé—´ã€‚æ­¤é€‰é¡¹æ ¹æ®å…¥å£èµ·ç‚¹çš„æœ€å¤§ä½“ç§¯ï¼Œæ§åˆ¶ webpack ä½•æ—¶ç”Ÿæˆæ€§èƒ½æç¤ºã€‚</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  performance<span class="token operator">:</span> <span class="token punctuation">{</span>
    maxEntrypointSize<span class="token operator">:</span> <span class="token number">400000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="performancemaxassetsize"><code>performance.maxAssetSize</code> <a href="#performancemaxassetsize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>number = 250000</code></p> <p>èµ„æº(asset)æ˜¯ä» webpack ç”Ÿæˆçš„ä»»ä½•æ–‡ä»¶ã€‚æ­¤é€‰é¡¹æ ¹æ®å•ä¸ªèµ„æºä½“ç§¯(å•ä½: bytes)ï¼Œæ§åˆ¶ webpack ä½•æ—¶ç”Ÿæˆæ€§èƒ½æç¤ºã€‚</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  performance<span class="token operator">:</span> <span class="token punctuation">{</span>
    maxAssetSize<span class="token operator">:</span> <span class="token number">100000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="performanceassetfilter"><code>performance.assetFilter</code> <a href="#performanceassetfilter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>function(assetFilename) => boolean</code></p> <p>æ­¤å±æ€§å…è®¸ webpack æ§åˆ¶ç”¨äºè®¡ç®—æ€§èƒ½æç¤ºçš„æ–‡ä»¶ã€‚é»˜è®¤å‡½æ•°å¦‚ä¸‹ï¼š</p> <pre><code class="hljs language-js"><span class="token keyword">function</span> <span class="token function">assetFilter</span><span class="token punctuation">(</span><span class="token parameter">assetFilename</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.map$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>assetFilename<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p>ä½ å¯ä»¥é€šè¿‡ä¼ é€’è‡ªå·±çš„å‡½æ•°æ¥è¦†ç›–æ­¤å±æ€§ï¼š</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  performance<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">assetFilter</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">assetFilename</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> assetFilename<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ä»¥ä¸Šç¤ºä¾‹å°†åªç»™å‡º <code>.js</code> æ–‡ä»¶çš„æ€§èƒ½æç¤ºã€‚</p> <h1 id="Node">Node<a href="#Node" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>è¿™äº›é€‰é¡¹å¯ä»¥é…ç½®æ˜¯å¦ polyfill æˆ– mock æŸäº› <a href="javascript:if(confirm('https://nodejs.org/docs/latest/api/globals.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/docs/latest/api/globals.html'" tppabs="https://nodejs.org/docs/latest/api/globals.html">Node.js å…¨å±€å˜é‡</a>ã€‚</p> <p>æ­¤åŠŸèƒ½ç”± webpack å†…éƒ¨çš„ <a href="../../../github.com/webpack/webpack/blob/master/lib/NodeStuffPlugin.js" tppabs="https://github.com/webpack/webpack/blob/master/lib/NodeStuffPlugin.js"><code>NodeStuffPlugin</code></a> æ’ä»¶æä¾›ã€‚</p> <blockquote class="warning"> <p>ä» webpack 5 å¼€å§‹ï¼Œä½ åªèƒ½åœ¨ <code>node</code> é€‰é¡¹ä¸‹é…ç½® <code>global</code>ã€<code>__filename</code> æˆ– <code>__dirname</code>ã€‚å¦‚æœéœ€è¦åœ¨ webpack 5 ä¸‹çš„ Node.js ä¸­å¡«å…… <code>fs</code>ï¼Œè¯·æŸ¥é˜… <a href="../resolve/index.htm#resolvefallback" tppabs="https://webpack.docschina.org/configuration/resolve/#resolvefallback">resolve.fallback</a> è·å–ç›¸å…³å¸®åŠ©ã€‚</p> </blockquote> <h2 id="node"><code>node</code> <a href="#node" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean: false</code> <code>object</code></p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  node<span class="token operator">:</span> <span class="token punctuation">{</span>
    global<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    __filename<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    __dirname<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ä» webpack 3.0.0 å¼€å§‹ï¼Œ<code>node</code> é€‰é¡¹å¯èƒ½è¢«è®¾ç½®ä¸º <code>false</code>ï¼Œä»¥å®Œå…¨å…³é—­ <code>NodeStuffPlugin</code> æ’ä»¶ã€‚</p> <h2 id="nodeglobal"><code>node.global</code> <a href="#nodeglobal" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <blockquote class="tip"> <p>å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ä¸€ä¸ªéœ€è¦å…¨å±€å˜é‡çš„æ¨¡å—ï¼Œè¯·ä½¿ç”¨ <code>ProvidePlugin</code> æ›¿ä»£ <code>global</code>ã€‚</p> </blockquote> <p>å…³äºæ­¤å¯¹è±¡çš„å‡†ç¡®è¡Œä¸ºï¼Œè¯·æŸ¥çœ‹<a href="javascript:if(confirm('https://nodejs.org/api/globals.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/api/globals.html#globals_global'" tppabs="https://nodejs.org/api/globals.html#globals_global">Node.js æ–‡æ¡£</a>ã€‚</p> <p>é€‰é¡¹ï¼š</p> <ul> <li><code>true</code>: æä¾› polyfill.</li> <li><code>false</code>: ä¸æä¾›ä»»ä½• polyfillã€‚ä»£ç å¯èƒ½ä¼šå‡ºç° <code>ReferenceError</code> çš„å´©æºƒã€‚</li> </ul> <h2 id="node__filename"><code>node.__filename</code> <a href="#node__filename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code> <code>string: 'mock' | 'eval-only'</code></p> <p>é€‰é¡¹ï¼š</p> <ul> <li><code>true</code>: <strong>è¾“å…¥</strong> æ–‡ä»¶çš„æ–‡ä»¶åï¼Œæ˜¯ç›¸å¯¹äº <a href="../entry-context/index.htm#context" tppabs="https://webpack.docschina.org/configuration/entry-context/#context"><code>context</code> é€‰é¡¹</a>ã€‚</li> <li><code>false</code>: webpack ä¸ä¼šæ›´æ”¹ <code>__filename</code> çš„ä»£ç ã€‚åœ¨ Node.js ç¯å¢ƒä¸­è¿è¡Œæ—¶ï¼Œ<strong>è¾“å‡º</strong> æ–‡ä»¶çš„æ–‡ä»¶åã€‚</li> <li><code>'mock'</code>: value å¡«å……ä¸º <code>'index.js'</code>.</li> </ul> <h2 id="node__dirname"><code>node.__dirname</code> <a href="#node__dirname" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code> <code>string: 'mock' | 'eval-only'</code></p> <p>é€‰é¡¹ï¼š</p> <ul> <li><code>true</code>: <strong>è¾“å…¥</strong> æ–‡ä»¶çš„ç›®å½•åï¼Œæ˜¯ç›¸å¯¹äº <a href="../entry-context/index.htm#context" tppabs="https://webpack.docschina.org/configuration/entry-context/#context"><code>context</code> é€‰é¡¹</a>ã€‚</li> <li><code>false</code>: webpack ä¸ä¼šæ›´æ”¹ <code>__dirname</code> çš„ä»£ç ï¼Œè¿™æ„å‘³ç€ä½ æœ‰å¸¸è§„ Node.js ä¸­çš„ <code>__dirname</code> çš„è¡Œä¸ºã€‚åœ¨ Node.js ç¯å¢ƒä¸­è¿è¡Œæ—¶ï¼Œ<strong>è¾“å‡º</strong> æ–‡ä»¶çš„ç›®å½•åã€‚</li> <li><code>'mock'</code>: value å¡«å……ä¸º <code>'/'</code>ã€‚</li> <li><code>'eval-only'</code></li> </ul> <h1 id="stats-å¯¹è±¡">stats å¯¹è±¡<a href="#stats-%E5%AF%B9%E8%B1%A1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><code>object</code> <code>string</code></p> <p><code>stats</code> é€‰é¡¹è®©ä½ æ›´ç²¾ç¡®åœ°æ§åˆ¶ bundle ä¿¡æ¯è¯¥æ€ä¹ˆæ˜¾ç¤ºã€‚ å¦‚æœä½ ä¸å¸Œæœ›ä½¿ç”¨ <code>quiet</code> æˆ– <code>noInfo</code> è¿™æ ·çš„ä¸æ˜¾ç¤ºä¿¡æ¯ï¼Œè€Œæ˜¯åˆä¸æƒ³å¾—åˆ°å…¨éƒ¨çš„ä¿¡æ¯ï¼Œåªæ˜¯æƒ³è¦è·å–æŸéƒ¨åˆ† bundle çš„ä¿¡æ¯ï¼Œä½¿ç”¨ stats é€‰é¡¹æ˜¯æ¯”è¾ƒå¥½çš„æŠ˜è¡·æ–¹å¼ã€‚</p> <blockquote class="tip"> <p>å¯¹äº webpack-dev-serverï¼Œè¿™ä¸ªå±æ€§è¦æ”¾åœ¨ <a href="../dev-server/index.htm#devserverstats-" tppabs="https://webpack.docschina.org/configuration/dev-server/#devserverstats-"><code>devServer</code> é…ç½®å¯¹è±¡</a>.</p> </blockquote> <blockquote class="warning"> <p>åœ¨ä½¿ç”¨ Node.js API æ—¶ï¼Œæ­¤é€‰é¡¹æ— æ•ˆã€‚</p> </blockquote> <p><strong>webpack.js.org</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token string">'errors-only'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="stats-presets">Stats Presets <a href="#stats-presets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>webpack æœ‰ä¸€äº›ç‰¹å®šçš„é¢„è®¾é€‰é¡¹ç»™ç»Ÿè®¡ä¿¡æ¯è¾“å‡ºï¼š</p> <table> <thead> <tr> <th>é¢„è®¾</th> <th>å¯é€‰å€¼</th> <th>æè¿°</th> </tr> </thead> <tbody> <tr> <td data-th="é¢„è®¾"><span><code>'errors-only'</code></span></td> <td data-th="å¯é€‰å€¼"><span><em>none</em></span></td> <td data-th="æè¿°"><span>åªåœ¨å‘ç”Ÿé”™è¯¯æ—¶è¾“å‡º</span></td> </tr> <tr> <td data-th="é¢„è®¾"><span><code>'errors-warnings'</code></span></td> <td data-th="å¯é€‰å€¼"><span><em>none</em></span></td> <td data-th="æè¿°"><span>åªåœ¨å‘ç”Ÿé”™è¯¯æˆ–æœ‰æ–°çš„ç¼–è¯‘æ—¶è¾“å‡º</span></td> </tr> <tr> <td data-th="é¢„è®¾"><span><code>'minimal'</code></span></td> <td data-th="å¯é€‰å€¼"><span><em>none</em></span></td> <td data-th="æè¿°"><span>åªåœ¨å‘ç”Ÿé”™è¯¯æˆ–æ–°çš„ç¼–è¯‘å¼€å§‹æ—¶è¾“å‡º</span></td> </tr> <tr> <td data-th="é¢„è®¾"><span><code>'none'</code></span></td> <td data-th="å¯é€‰å€¼"><span><code>false</code></span></td> <td data-th="æè¿°"><span>æ²¡æœ‰è¾“å‡º</span></td> </tr> <tr> <td data-th="é¢„è®¾"><span><code>'normal'</code></span></td> <td data-th="å¯é€‰å€¼"><span><code>true</code></span></td> <td data-th="æè¿°"><span>æ ‡å‡†è¾“å‡º</span></td> </tr> <tr> <td data-th="é¢„è®¾"><span><code>'verbose'</code></span></td> <td data-th="å¯é€‰å€¼"><span><em>none</em></span></td> <td data-th="æè¿°"><span>å…¨éƒ¨è¾“å‡º</span></td> </tr> <tr> <td data-th="é¢„è®¾"><span><code>'detailed'</code></span></td> <td data-th="å¯é€‰å€¼"><span><em>none</em></span></td> <td data-th="æè¿°"><span>å…¨éƒ¨è¾“å‡ºé™¤äº† <code>chunkModules</code> å’Œ <code>chunkRootModules</code></span></td> </tr> </tbody> </table> <h2 id="stats-options">Stats é€‰é¡¹ <a href="#stats-options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>ä½ å¯ä»¥åœ¨ç»Ÿè®¡è¾“å‡ºé‡ŒæŒ‡å®šä½ æƒ³çœ‹åˆ°çš„ä¿¡æ¯ã€‚</p> <blockquote class="tip"> <p>æ‰€æœ‰åœ¨ç»Ÿè®¡ä¿¡æ¯é…ç½®é‡Œçš„é€‰é¡¹éƒ½æ˜¯å¯é€‰çš„ã€‚</p> </blockquote> <h3 id="statsall"><code>stats.all</code> <a href="#statsall" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>å½“ç»Ÿè®¡ä¿¡æ¯é…ç½®æ²¡è¢«å®šä¹‰ï¼Œåˆ™è¯¥å€¼æ˜¯ä¸€ä¸ªå›é€€å€¼ã€‚å®ƒçš„ä¼˜å…ˆçº§æ¯”æœ¬åœ°çš„ webpack é»˜è®¤å€¼é«˜ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    all<span class="token operator">:</span> <span class="token keyword">undefined</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsassets"><code>stats.assets</code> <a href="#statsassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦å±•ç¤ºèµ„æºä¿¡æ¯ã€‚å°† <code>stats.assets</code> è®¾ç½®æˆ <code>false</code> ä¼šç¦ç”¨.</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    assets<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsassetssort"><code>stats.assetsSort</code> <a href="#statsassetssort" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string = 'id'</code></p> <p>å‘ŠçŸ¥ <code>stats</code> åŸºäºç»™å®šçš„å­—æ®µå¯¹èµ„æºè¿›è¡Œæ’åºã€‚æ‰€æœ‰çš„ <a href="#sorting-fields">æ’åºå­—æ®µ</a>éƒ½è¢«å…è®¸ä½œä¸º <code>stats.assetsSort</code>çš„å€¼ã€‚ä½¿ç”¨ <code>!</code> ä½œä¸ºå€¼çš„å‰ç¼€ä»¥åè½¬åŸºäºç»™å®šå­—æ®µçš„æ’åºç»“æœã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    assetsSort<span class="token operator">:</span> <span class="token string">'!size'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsbuiltat"><code>stats.builtAt</code> <a href="#statsbuiltat" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ æ„å»ºæ—¥æœŸä¸æ—¶é—´ä¿¡æ¯ã€‚å°† <code>stats.builtAt</code> è®¾ç½®æˆ <code>false</code> æ¥éšè—.</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    builtAt<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsmoduleassets"><code>stats.moduleAssets</code> <a href="#statsmoduleassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ æ¨¡å—å†…çš„èµ„æºä¿¡æ¯ã€‚å°† <code>stats.moduleAssets</code> è®¾ç½®æˆ <code>false</code> ä»¥éšè—ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    moduleAssets<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statscached"><code>stats.cached</code> <a href="#statscached" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ å…³äºç¼“å­˜æ¨¡å—çš„ä¿¡æ¯ (å¹¶éè¢«æ„å»ºçš„æ¨¡å—)ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    cached<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsassetsspace"><code>stats.assetsSpace</code> <a href="#statsassetsspace" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number = 15</code></p> <p>å‘Šè¯‰ <code>stats</code> åº”è¯¥æ˜¾ç¤ºå¤šå°‘ä¸ª asset é¡¹ç›®ï¼ˆå°†ä»¥ç»„çš„æ–¹å¼æŠ˜å ï¼Œä»¥é€‚åº”è¿™ä¸ªç©ºé—´ï¼‰ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    assetsSpace<span class="token operator">:</span> <span class="token number">15</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsmodulesspace"><code>stats.modulesSpace</code> <a href="#statsmodulesspace" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number = 15</code></p> <p>å‘Šè¯‰ <code>stats</code> åº”è¯¥æ˜¾ç¤ºå¤šå°‘ä¸ªæ¨¡å—é¡¹ç›®ï¼ˆå°†ä»¥ç»„çš„æ–¹å¼æŠ˜å ï¼Œä»¥é€‚åº”è¿™ä¸ªç©ºé—´ï¼‰ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    modulesSpace<span class="token operator">:</span> <span class="token number">15</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statschunkmodulesspace"><code>stats.chunkModulesSpace</code> <a href="#statschunkmodulesspace" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number = 10</code></p> <p>å‘Šè¯‰ <code>stats</code> æ˜¾ç¤ºå¤šå°‘ä¸ª chunk æ¨¡å—é¡¹ç›®ï¼ˆå°†ä»¥ç»„çš„æ–¹å¼æŠ˜å ï¼Œä»¥é€‚åº”è¿™ä¸ªç©ºé—´ï¼‰ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    chunkModulesSpace<span class="token operator">:</span> <span class="token number">15</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsnestedmodulesspace"><code>stats.nestedModulesSpace</code> <a href="#statsnestedmodulesspace" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number = 10</code></p> <p>å‘Šè¯‰ <code>stats</code> åº”è¯¥æ˜¾ç¤ºå¤šå°‘ä¸ªåµŒå¥—æ¨¡å—çš„é¡¹ç›®ï¼ˆå°†ä»¥ç»„çš„æ–¹å¼æŠ˜å ï¼Œä»¥é€‚åº”è¿™ä¸ªç©ºé—´ï¼‰ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    nestedModulesSpace<span class="token operator">:</span> <span class="token number">15</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statscachedmodules"><code>stats.cachedModules</code> <a href="#statscachedmodules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘Šè¯‰ <code>stats</code> æ˜¯å¦è¦ç¼“å­˜ï¼ˆéå†…ç½®ï¼‰æ¨¡å—çš„ä¿¡æ¯ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    cachedModules<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsruntimemodules"><code>stats.runtimeModules</code> <a href="#statsruntimemodules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘Šè¯‰ <code>stats</code> æ˜¯å¦è¦æ·»åŠ è¿è¡Œæ—¶æ¨¡å—çš„ä¿¡æ¯ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    runtimeModules<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsdependentmodules"><code>stats.dependentModules</code> <a href="#statsdependentmodules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean</code></p> <p>å‘Šè¯‰ <code>stats</code> æ˜¯å¦è¦å±•ç¤ºè¯¥ chunk ä¾èµ–çš„å…¶ä»–æ¨¡å—çš„ chunk æ¨¡å—ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    dependentModules<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsgroupassetsbychunk"><code>stats.groupAssetsByChunk</code> <a href="#statsgroupassetsbychunk" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean</code></p> <p>å‘Šè¯‰ <code>stats</code> æ˜¯å¦æŒ‰ç…§ asset ä¸ chunk çš„å…³ç³»è¿›è¡Œåˆ†ç»„ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    groupAssetsByChunk<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsgroupassetsbyemitstatus"><code>stats.groupAssetsByEmitStatus</code> <a href="#statsgroupassetsbyemitstatus" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean</code></p> <p>å‘Šè¯‰ <code>stats</code> æ˜¯å¦æŒ‰ç…§ asset çš„çŠ¶æ€è¿›è¡Œåˆ†ç»„ï¼ˆemittedï¼Œå¯¹æ¯” emit æˆ–ç¼“å­˜ï¼‰.</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    groupAssetsByEmitStatus<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsgroupassetsbyinfo"><code>stats.groupAssetsByInfo</code> <a href="#statsgroupassetsbyinfo" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean</code></p> <p>å‘Šè¯‰ <code>stats</code> æ˜¯å¦æŒ‰ç…§ asset ä¿¡æ¯å¯¹ asset è¿›è¡Œåˆ†ç»„ï¼ˆimmutableï¼Œdevelopmentã€‚hotModuleReplacement ç­‰ï¼‰ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    groupAssetsByInfo<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsgroupmodulesbyattributes"><code>stats.groupModulesByAttributes</code> <a href="#statsgroupmodulesbyattributes" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean</code></p> <p>å‘Šè¯‰ <code>stats</code> æ˜¯å¦æŒ‰æ¨¡å—çš„å±æ€§è¿›è¡Œåˆ†ç»„ï¼ˆerrorsï¼Œwarningsï¼Œassetsï¼Œoptionalï¼Œorphan æˆ–è€… dependentï¼‰ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    groupModulesByAttributes<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statscachedassets"><code>stats.cachedAssets</code> <a href="#statscachedassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ å…³äºç¼“å­˜èµ„æºçš„ä¿¡æ¯ã€‚ å°† <code>stats.cachedAssets</code> è®¾ç½®æˆ <code>false</code> ä¼šå‘ŠçŸ¥ <code>stats</code> ä»…å±•ç¤ºè¢«ç”Ÿæˆçš„æ–‡ä»¶ (å¹¶éè¢«æ„å»ºçš„æ¨¡å—)ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    cachedAssets<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statschildren"><code>stats.children</code> <a href="#statschildren" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ å…³äºå­æ¨¡å—çš„ä¿¡æ¯ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    children<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statschunks"><code>stats.chunks</code> <a href="#statschunks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ å…³äº chunk çš„ä¿¡æ¯ã€‚ å°† <code>stats.chunks</code> è®¾ç½®ä¸º <code>false</code> ä¼šå¼•å‘æ›´å°‘çš„è¾“å‡ºã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    chunks<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statschunkgroups"><code>stats.chunkGroups</code> <a href="#statschunkgroups" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ å…³äº <code>namedChunkGroups</code> çš„ä¿¡æ¯ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    chunkGroups<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statschunkmodules"><code>stats.chunkModules</code> <a href="#statschunkmodules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ å…³äºå·²æ„å»ºæ¨¡å—å’Œå…³äº chunk çš„ä¿¡æ¯ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    chunkModules<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statschunkorigins"><code>stats.chunkOrigins</code> <a href="#statschunkorigins" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯ä¸æ·»åŠ å…³äº chunks çš„æ¥æºå’Œ chunk åˆå¹¶çš„ä¿¡æ¯ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    chunkOrigins<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statschunkssort"><code>stats.chunksSort</code> <a href="#statschunkssort" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string = 'id'</code></p> <p>å‘ŠçŸ¥ <code>stats</code> åŸºäºç»™å®šçš„å­—æ®µç»™ chunks æ’åºã€‚æ‰€æœ‰ <a href="#sorting-fields">æ’åºå­—æ®µ</a> éƒ½è¢«å…è®¸ç”¨äºä½œä¸º <code>stats.chunksSort</code> çš„å€¼ã€‚ä½¿ç”¨ <code>!</code> ä½œä¸ºå€¼é‡Œçš„å‰ç¼€ç”¨ä»¥å°†åŸºäºç»™å®šå­—æ®µæ’åºçš„ç»“æœåè½¬ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    chunksSort<span class="token operator">:</span> <span class="token string">'name'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statscontext"><code>stats.context</code> <a href="#statscontext" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string = '../src/'</code></p> <p>è®¾ç½®ä¸Šä¸‹æ–‡ç›®å½•ç”¨ä»¥å°†æ–‡ä»¶è¯·æ±‚ä¿¡æ¯å˜çŸ­ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    context<span class="token operator">:</span> <span class="token string">'../src/components/'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statscolors"><code>stats.colors</code> <a href="#statscolors" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = false</code> <code>object</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦è¾“å‡ºä¸åŒçš„é¢œè‰²ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    colors<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å®ƒä¹Ÿå¯ç”¨é€šè¿‡å‘½ä»¤è¡Œçš„å‚æ•°å®ç°ï¼š</p> <pre><code class="hljs language-bash">webpack-cli --colors</code></pre> <p>ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ <a href="javascript:if(confirm('https://en.wikipedia.org/wiki/ANSI_escape_code  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://en.wikipedia.org/wiki/ANSI_escape_code'" tppabs="https://en.wikipedia.org/wiki/ANSI_escape_code">ANSI escape sequences</a> æŒ‡å®šä½ è‡ªå·±çš„å‘½ä»¤è¡Œç»ˆç«¯é¢œè‰²ã€‚</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  colors<span class="token operator">:</span> <span class="token punctuation">{</span>
    green<span class="token operator">:</span> <span class="token string">'\u001b[32m'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsdepth"><code>stats.depth</code> <a href="#statsdepth" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = false</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦å±•ç¤ºæ¯ä¸ªæ¨¡å—ä¸å…¥å£æ–‡ä»¶çš„è·ç¦»ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    depth<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsentrypoints"><code>stats.entrypoints</code> <a href="#statsentrypoints" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code> <code>string = 'auto'</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦å±•ç¤ºå…¥å£æ–‡ä»¶ä¸å¯¹åº”çš„æ–‡ä»¶ bundlesã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    entrypoints<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å½“ <code>stats.entrypoints</code> è¢«è®¾ç½®ä¸º <code>'auto'</code> æ—¶ï¼Œwebpack å°†è‡ªåŠ¨å†³å®šæ˜¯å¦åœ¨ stats è¾“å‡ºä¸­å±•ç¤ºå…¥å£ä¿¡æ¯ã€‚</p> <h3 id="statsenv"><code>stats.env</code> <a href="#statsenv" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = false</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦å±•ç¤º <code>--env</code> ä¿¡æ¯.</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    env<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsorphanmodules"><code>stats.orphanModules</code> <a href="#statsorphanmodules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = false</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦éšè— <code>å­¤å„¿(orphan)</code> æ¨¡å—. ä¸€ä¸ªæ¨¡å—å±äº <code>å­¤å„¿(orphan)</code> å¦‚æœå®ƒä¸è¢«åŒ…å«åœ¨ä»»ä½•ä¸€ä¸ª chunké‡Œã€‚å­¤å„¿æ¨¡å—é»˜è®¤åœ¨ <code>stats</code> ä¸­ä¼šè¢«éšè—ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    orphanModules<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statserrors"><code>stats.errors</code> <a href="#statserrors" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦å±•ç¤ºé”™è¯¯ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    errors<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statserrordetails"><code>stats.errorDetails</code> <a href="#statserrordetails" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ é”™è¯¯çš„è¯¦æƒ…ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    errorDetails<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statserrorstack"><code>stats.errorStack</code> <a href="#statserrorstack" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦å±•ç¤ºé”™ä½çš„æ ˆè¿½è¸ªä¿¡æ¯ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    errorStack<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsexcludeassets"><code>stats.excludeAssets</code> <a href="#statsexcludeassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>array = []: string | RegExp | function (assetName) => boolean</code> <code>string</code> <code>RegExp</code> <code>function (assetName) => boolean</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ’é™¤æ‰åŒ¹é…çš„èµ„æºä¿¡æ¯ã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ª <code>å­—ç¬¦ä¸²</code>, ä¸€ä¸ª <code>æ­£åˆ™è¡¨è¾¾å¼</code>, ä¸€ä¸ª <code>å‡½æ•°</code> å–å¾—èµ„æºçš„åå­—ä½œä¸ºå…¥å‚ä¸”è¿”å›ä¸€ä¸ª <code>å¸ƒå°”å€¼</code>ã€‚ <code>stats.excludeAssets</code> å¯ä»¥æ˜¯ä¸€ä¸ªåŒ…æ‹¬ä¸Šé¢ä»»æ„ä¸€ç±»å‹å€¼çš„ <code>æ•°ç»„</code> ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    excludeAssets<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'filter'</span><span class="token punctuation">,</span>
      <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">filter</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token parameter">assetName</span><span class="token punctuation">)</span> <span class="token operator">=></span> assetName<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'moduleA'</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsexcludemodules"><code>stats.excludeModules</code> <a href="#statsexcludemodules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>array = []: string | RegExp | function (assetName) => boolean</code> <code>string</code> <code>RegExp</code> <code>function (assetName) => boolean</code> <code>boolean: false</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ’é™¤æ‰åŒ¹é…çš„èµ„æºä¿¡æ¯ã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ª <code>å­—ç¬¦ä¸²</code>, ä¸€ä¸ª <code>æ­£åˆ™è¡¨è¾¾å¼</code>, ä¸€ä¸ª <code>å‡½æ•°</code> å–å¾—èµ„æºçš„åå­—ä½œä¸ºå…¥å‚ä¸”è¿”å›ä¸€ä¸ª <code>å¸ƒå°”å€¼</code>ã€‚ <code>stats.excludeModules</code> å¯ä»¥æ˜¯ä¸€ä¸ªåŒ…æ‹¬ä¸Šé¢ä»»æ„ä¸€ç±»å‹å€¼çš„ <code>æ•°ç»„</code> ã€‚<code>stats.excludeModules</code> ä¼šä¸ <code>stats.exclude</code> çš„é…ç½®å€¼<a href="javascript:if(confirm('https://github.com/webpack/webpack/blob/master/lib/Stats.js  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/blob/master/lib/Stats.js#L215'" tppabs="https://github.com/webpack/webpack/blob/master/lib/Stats.js#L215">è¿›è¡Œåˆå¹¶</a>ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    excludeModules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'filter'</span><span class="token punctuation">,</span>
      <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">filter</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token parameter">moduleSource</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token boolean">true</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å°† <code>stats.excludeModules</code> è®¾ç½®ä¸º <code>false</code> ä¼šç¦ç”¨ä»¥ä¸Šçš„æ’é™¤è¡Œä¸ºã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    excludeModules<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsexclude"><code>stats.exclude</code> <a href="#statsexclude" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>è¯¦å‚ <a href="#statsexcludemodules"><code>stats.excludeModules</code></a>.</p> <h3 id="statshash"><code>stats.hash</code> <a href="#statshash" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ å…³äºç¼–è¯‘å“ˆå¸Œå€¼çš„ä¿¡æ¯ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    hash<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statslogging"><code>stats.logging</code> <a href="#statslogging" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string = 'info': 'none' | 'error' | 'warn' | 'info' | 'log' | 'verbose'</code> <code>boolean</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ æ—¥å¿—è¾“å‡ºã€‚</p> <ul> <li><code>'none'</code>, <code>false</code> - ç¦ç”¨æ—¥å¿—</li> <li><code>'error'</code> - ä»…æ˜¾ç¤ºé”™è¯¯</li> <li><code>'warn'</code> - ä»…æ˜¾ç¤ºé”™è¯¯ä¸å‘Šè­¦</li> <li><code>'info'</code> - æ˜¾ç¤ºé”™è¯¯ï¼Œå‘Šè­¦ä¸ä¿¡æ¯</li> <li><code>'log'</code>, <code>true</code> - æ˜¾ç¤ºé”™è¯¯ï¼Œå‘Šè­¦ä¸ä¿¡æ¯ï¼Œæ—¥å¿—ï¼Œç»„åˆ«ï¼Œæ¸…ç†ã€‚æŠ˜å ç»„åˆ«ä¼šåœ¨æŠ˜å çŠ¶æ€ä¸­è¢«æ˜¾ç¤º ã€‚</li> <li><code>'verbose'</code> - è¾“å‡ºæ‰€æœ‰æ—¥å¿—é™¤äº†è°ƒè¯•ä¸è¿½è¸ªã€‚ æŠ˜å ç»„åˆ«ä¼šåœ¨æ‰©å±•çŠ¶æ€ä¸­è¢«æ˜¾ç¤º ã€‚</li> </ul> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    logging<span class="token operator">:</span> <span class="token string">'verbose'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsloggingdebug"><code>stats.loggingDebug</code> <a href="#statsloggingdebug" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>array = []: string | RegExp | function (name) => boolean</code> <code>string</code> <code>RegExp</code> <code>function (name) => boolean</code></p> <p>å‘ŠçŸ¥ <code>stats</code> å»åŒ…æ‹¬ç‰¹å®šçš„æ—¥å¿—å·¥å…·è°ƒè¯•ä¿¡æ¯æ¯”å¦‚æ’ä»¶æˆ–åŠ è½½å™¨çš„æ—¥å¿—å·¥å…·ã€‚å½“ <a href="#statslogging"><code>stats.logging</code></a> è¢«è®¾ç½®ä¸º <code>false</code>, <code>stats.loggingDebug</code> é…ç½®ä¼šè¢«å¿½ç•¥ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    loggingDebug<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'MyPlugin'</span><span class="token punctuation">,</span>
      <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">MyPlugin</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">webpack</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// To get core logging</span>
      <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=></span> name<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsloggingtrace"><code>stats.loggingTrace</code> <a href="#statsloggingtrace" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å¯ç”¨é”™è¯¯ï¼Œå‘Šè­¦ä¸è¿½è¸ªçš„æ—¥å¿—è¾“å‡ºä¸­çš„å †æ ˆè¿½è¸ªã€‚å°† <code>stats.loggingTrace</code> è®¾ç½®ä¸º <code>false</code> éšè—è¿½è¸ªã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    loggingTrace<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsmodules"><code>stats.modules</code> <a href="#statsmodules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦æ·»åŠ å…³äºæ„å»ºæ¨¡å—çš„ä¿¡æ¯ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    modules<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsmodulessort"><code>stats.modulesSort</code> <a href="#statsmodulessort" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string = 'id'</code></p> <p>å‘ŠçŸ¥ <code>stats</code> åŸºäºç»™å®šçš„å­—æ®µå¯¹èµ„æºè¿›è¡Œæ’åºã€‚æ‰€æœ‰çš„ <a href="#sorting-fields">æ’åºå­—æ®µ</a>éƒ½è¢«å…è®¸ä½œä¸º <code>stats.modulesSort</code>çš„å€¼ã€‚ä½¿ç”¨ <code>!</code> ä½œä¸ºå€¼çš„å‰ç¼€ä»¥åè½¬åŸºäºç»™å®šå­—æ®µçš„æ’åºç»“æœã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    modulesSort<span class="token operator">:</span> <span class="token string">'size'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsmoduletrace"><code>stats.moduleTrace</code> <a href="#statsmoduletrace" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> å±•ç¤ºä¾èµ–å’Œå‘Šè­¦/é”™è¯¯çš„æ¥æºã€‚<code>stats.moduleTrace</code> ä» webpack 2.5.0 èµ·å¯ç”¨ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    moduleTrace<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsoutputpath"><code>stats.outputPath</code> <a href="#statsoutputpath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> å±•ç¤º <code>outputPath</code>.</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    outputPath<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsperformance"><code>stats.performance</code> <a href="#statsperformance" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> å½“æ–‡ä»¶å¤§å°è¶…è¿‡ <a href="../performance/index.htm#performancemaxassetsize" tppabs="https://webpack.docschina.org/configuration/performance/#performancemaxassetsize"><code>performance.maxAssetSize</code></a>é…ç½®å€¼æ—¶ï¼Œå±•ç¤ºæ€§èƒ½ææ€§ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    performance<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statspreset"><code>stats.preset</code> <a href="#statspreset" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string</code> <code>boolean: false</code></p> <p>ä¸ºå±•ç¤ºçš„ä¿¡æ¯ç±»å‹è®¾ç½® <a href="../stats/index.htm#stats-presets" tppabs="https://webpack.docschina.org/configuration/stats/#stats-presets">é¢„è®¾å€¼</a>ã€‚è¿™å¯¹<a href="../stats/index.htm#extending-stats-behaviours" tppabs="https://webpack.docschina.org/configuration/stats/#extending-stats-behaviours">æ‰©å±•ç»Ÿè®¡ä¿¡æ¯è¡Œä¸º</a>éå¸¸æœ‰ç”¨ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    preset<span class="token operator">:</span> <span class="token string">'minimal'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å°† <code>stats.preset</code> çš„å€¼è®¾ç½®ä¸º<code>false</code> å‘ŠçŸ¥ webpack ä½¿ç”¨ <code>'none'</code> <a href="../stats/index.htm#stats-presets" tppabs="https://webpack.docschina.org/configuration/stats/#stats-presets">ç»Ÿè®¡ä¿¡æ¯é¢„è®¾å€¼</a>ã€‚</p> <h3 id="statsprovidedexports"><code>stats.providedExports</code> <a href="#statsprovidedexports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = false</code></p> <p>å‘ŠçŸ¥ <code>stats</code> å»å±•ç¤ºæ¨¡å—çš„å¯¼å‡ºã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    providedExports<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statserrorscount"><code>stats.errorsCount</code> <a href="#statserrorscount" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>æ·»åŠ å±•ç¤º errors ä¸ªæ•°ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    errorsCount<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statswarningscount"><code>stats.warningsCount</code> <a href="#statswarningscount" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>æ·»åŠ å±•ç¤º warnings ä¸ªæ•°ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    warningsCount<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statspublicpath"><code>stats.publicPath</code> <a href="#statspublicpath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> å±•ç¤º <code>publicPath</code>ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    publicPath<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsreasons"><code>stats.reasons</code> <a href="#statsreasons" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ·»åŠ å…³äºæ¨¡å—è¢«å¼•ç”¨çš„åŸå› ä¿¡æ¯ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    reasons<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsrelatedassets"><code>stats.relatedAssets</code> <a href="#statsrelatedassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = false</code></p> <p>å‘Šè¯‰ <code>stats</code> æ˜¯å¦éœ€æ·»åŠ ä¸å…¶ä»– assets ç›¸å…³çš„ä¿¡æ¯ï¼ˆä¾‹å¦‚ assets çš„ SourceMapsï¼‰ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    relatedAssets<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statssource"><code>stats.source</code> <a href="#statssource" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = false</code></p> <p>å‘ŠçŸ¥ <code>stats</code> å»æ·»åŠ æ¨¡å—çš„æºç ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    source<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statstimings"><code>stats.timings</code> <a href="#statstimings" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ·»åŠ æ—¶é—´ä¿¡æ¯ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    timings<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsusedexports"><code>stats.usedExports</code> <a href="#statsusedexports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = false</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ˜¯å¦å±•ç¤ºæ¨¡å—ç”¨äº†å“ªäº›å¯¼å‡ºã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    usedExports<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statsversion"><code>stats.version</code> <a href="#statsversion" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ·»åŠ å…³äº webpack ç‰ˆæœ¬çš„ä¿¡æ¯ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    version<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statschunkgroupauxiliary"><code>stats.chunkGroupAuxiliary</code> <a href="#statschunkgroupauxiliary" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>åœ¨ chunk ç»„ä¸­å±•ç¤ºè¾…åŠ© assetã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    chunkGroupAuxiliary<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statschunkgroupchildren"><code>stats.chunkGroupChildren</code> <a href="#statschunkgroupchildren" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>æ˜¾ç¤º chunk ç»„çš„å­ chunkã€‚ï¼ˆä¾‹å¦‚ï¼Œé¢„ç½®ï¼ˆprefetchedï¼‰ï¼Œé¢„åŠ è½½ï¼ˆpreloadedï¼‰çš„ chunk å’Œ asset)ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    chunkGroupChildren<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statschunkgroupmaxassets"><code>stats.chunkGroupMaxAssets</code> <a href="#statschunkgroupmaxassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number</code></p> <p>chunk ç»„ä¸­çš„ asset æ•°ä¸Šé™ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    chunkGroupMaxAssets<span class="token operator">:</span> <span class="token number">5</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statswarnings"><code>stats.warnings</code> <a href="#statswarnings" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = true</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ·»åŠ å‘Šè­¦ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    warnings<span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="statswarningsfilter"><code>stats.warningsFilter</code> <a href="#statswarningsfilter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>array = []: string | RegExp | function (warning) => boolean</code> <code>string</code> <code>RegExp</code> <code>function (warning) => boolean</code></p> <p>å‘ŠçŸ¥ <code>stats</code> æ’é™¤æ‰åŒ¹é…çš„å‘Šè­¦ä¿¡æ¯ã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ª <code>å­—ç¬¦ä¸²</code>, ä¸€ä¸ª <code>æ­£åˆ™è¡¨è¾¾å¼</code>, ä¸€ä¸ª <code>å‡½æ•°</code> å–å¾—èµ„æºçš„åå­—ä½œä¸ºå…¥å‚ä¸”è¿”å›ä¸€ä¸ª <code>å¸ƒå°”å€¼</code>ã€‚ <code>stats.warningsFilter</code> å¯ä»¥æ˜¯ä¸€ä¸ªåŒ…æ‹¬ä¸Šé¢ä»»æ„ä¸€ç±»å‹å€¼çš„ <code>æ•°ç»„</code> ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    warningsFilter<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'filter'</span><span class="token punctuation">,</span>
      <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">filter</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token parameter">warning</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token boolean">true</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p><code>stats.warningsFilter</code> å·²è¢«å¼ƒç”¨ï¼Œè¯·æ”¹ç”¨ <a href="../other-options/index.htm#ignorewarnings" tppabs="https://webpack.docschina.org/configuration/other-options/#ignorewarnings"><code>ignoreWarnings</code></a>ã€‚</p> </blockquote> <h3 id="statschunkrelations"><code>stats.chunkRelations</code> <a href="#statschunkrelations" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = false</code></p> <p>å‘ŠçŸ¥ <code>stats</code> å±•ç¤º chunk çš„çˆ¶chunkï¼Œå­©å­chunkå’Œå…„å¼Ÿchunkã€‚</p> <h3 id="sorting-fields">å­—æ®µæ’åº <a href="#sorting-fields" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>å¯¹äº <code>assetsSort</code>, <code>chunksSort</code> å’Œ <code>modulesSort</code> å®ƒä»¬æœ‰å‡ ä¸ªå¯ç”¨çš„å­—æ®µç”¨äºæ’åºï¼š</p> <ul> <li><code>'id'</code> æ˜¯å…ƒç´ ï¼ˆæŒ‡èµ„æºï¼Œchunkæˆ–æ¨¡å—ï¼Œä¸‹åŒï¼‰çš„ id;</li> <li><code>'name'</code> - ä¸€ä¸ªå…ƒç´ çš„åå­—ï¼Œåœ¨å¯¼å¼•çš„æ—¶å€™è¢«åˆ†é…ï¼›</li> <li><code>'size'</code> - ä¸€ä¸ªå…ƒç´ çš„å¤§å°ï¼Œå•ä½å­—èŠ‚ï¼ˆbytesï¼‰;</li> <li><code>'chunks'</code> - å…ƒç´ æ¥æºäºå“ªäº› chunks (ä¾‹å¦‚ï¼Œä¸€ä¸ª chunk æœ‰å¤šä¸ªå­ chunksï¼Œ - å­ chunks ä¼šè¢«åŸºäºä¸» chunk ç»„åˆåˆ°ä¸€èµ·);</li> <li><code>'errors'</code> - å…ƒç´ ç»„é”™è¯¯çš„æ•°é‡;</li> <li><code>'warnings'</code> - å…ƒç´ ä¸­å‘Šè­¦çš„æ•°é‡;</li> <li><code>'failed'</code> - å…ƒç´ æ˜¯è¢«ç¼–è¯‘å¤±è´¥;</li> <li><code>'cacheable'</code> - å…ƒç´ æ˜¯å¦è¢«ç¼“å­˜;</li> <li><code>'built'</code> - èµ„æºæ˜¯å¦è¢«æ„å»º;</li> <li><code>'prefetched'</code> - èµ„æºæ˜¯å¦è¢«é¢„æ‹‰å–;</li> <li><code>'optional'</code> - èµ„æºæ˜¯å¦å¯é€‰;</li> <li><code>'identifier'</code> - å…ƒç´ çš„æ ‡è¯†ç¬¦;</li> <li><code>'index'</code> - å…ƒç´ åŠ å·¥æŒ‡é’ˆ;</li> <li><code>'index2'</code></li> <li><code>'profile'</code></li> <li><code>'issuer'</code> - å‘èµ·è€…(issuer)çš„æ ‡è¯†ç¬¦;</li> <li><code>'issuerId'</code> - å‘èµ·è€…(issuer)çš„id;</li> <li><code>'issuerName'</code> - å‘èµ·è€…(issuer)çš„åå­—;</li> <li><code>'issuerPath'</code> - ä¸€ä¸ªå®Œæ•´çš„å‘èµ·è€…(issuer)å¯¹è±¡ã€‚åŸºäºè¿™ä¸ªå­—æ®µæ’åºæ²¡æœ‰ç°å®çš„éœ€è¦;</li> </ul> <h3 id="extending-stats-behaviours">æ‰©å±•ç»Ÿè®¡ä¿¡æ¯è¡Œä¸º <a href="#extending-stats-behaviours" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>å¦‚æœä½ æƒ³ä½¿ç”¨å…¶ä¸­ä¸€ä¸ªé¢„å®šä¹‰çš„è¡Œä¸ºï¼Œä¾‹å¦‚ <code>'minimal'</code>ï¼Œä½†ä»æƒ³é‡è½½ä¸€ä¸ªæˆ–æ›´å¤šçš„è§„åˆ™ï¼šè¯·æŒ‡å®šæƒ³è¦è®¾ç½®çš„ <code>stats.preset</code> åŒæ—¶åœ¨åé¢æ·»åŠ è‡ªå®šä¹‰æˆ–é¢å¤–çš„è§„åˆ™ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//..</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    preset<span class="token operator">:</span> <span class="token string">'minimal'</span><span class="token punctuation">,</span>
    moduleTrace<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    errorDetails<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h1 id="å®éªŒç‰¹æ€§experiments">å®éªŒç‰¹æ€§(experiments)<a href="#%E5%AE%9E%E9%AA%8C%E7%89%B9%E6%80%A7experiments" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <h2 id="experiments"><code>experiments</code> <a href="#experiments" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean: false</code></p> <p><code>experiments</code> é…ç½®æ˜¯åœ¨ webpack 5 ä¸­æ¨å‡ºï¼Œç›®çš„æ˜¯ä¸ºäº†ç»™ç”¨æˆ·èµ‹èƒ½å»å¼€å¯å¹¶è¯•ç”¨ä¸€äº›å®éªŒçš„ç‰¹æ€§ã€‚</p> <blockquote class="warning"> <p>ç”±äºå®éªŒç‰¹æ€§å…·æœ‰ç›¸å¯¹ å®½æ¾çš„è¯­ä¹‰ç‰ˆæœ¬ï¼Œå¯èƒ½ä¼šæœ‰é‡å¤§çš„å˜æ›´ï¼Œæ‰€ä»¥ä¸»ç¡®å®šä½ å°† webpack çš„ç‰ˆæœ¬å›ºå®šä¸ºå°ç‰ˆæœ¬å·ï¼Œä¾‹å¦‚ä¸å…¶ä½¿ç”¨ <code>webpack: ~5.4.3</code> ä¸å¦‚ä½¿ç”¨ <code>webpack: ^5.4.3</code> æˆ–è€…å½“ä½¿ç”¨ <code>experiments</code> é…ç½®æ—¶ä½¿ç”¨ç‰ˆæœ¬é”å®šèƒ½åŠ›.</p> </blockquote> <p>å¯ç”¨çš„é…ç½®é¡¹ï¼š</p> <ul> <li><code>syncWebAssembly</code>: æ”¯æŒæ—§ç‰ˆæœ¬ webpack 4 çš„ WebAssembly</li> <li><code>asyncWebAssembly</code>: æ”¯æŒæ–°ç‰ˆæœ¬çš„ WebAssemblyï¼Œè¯¥ç‰ˆæœ¬ä¾æ® <a href="javascript:if(confirm('https://github.com/WebAssembly/esm-integration  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/WebAssembly/esm-integration'" tppabs="https://github.com/WebAssembly/esm-integration">æ›´æ–°çš„è§„æ ¼ä¹¦</a>, å®ƒä½¿ WebAssembly æ¨¡å—ä½œä¸ºä¸€ä¸ªå¼‚æ­¥çš„æ¨¡å—</li> <li><code>topLevelAwait</code>: æ”¯æŒ <a href="javascript:if(confirm('https://github.com/tc39/proposal-top-level-await  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/tc39/proposal-top-level-await'" tppabs="https://github.com/tc39/proposal-top-level-await">é¡¶å±‚ Await é˜¶æ®µ3æè®®</a>, å½“ <code>await</code> åœ¨é¡¶å±‚ä½¿ç”¨ï¼Œå®ƒè®©æ¨¡å—æˆä¸ºä¸€ä¸ªå¼‚æ­¥æ¨¡å—ã€‚</li> <li><code>outputModule</code>: å¼€å¯ä½¿ç”¨ <a href="../output/index.htm#outputmodule" tppabs="https://webpack.docschina.org/configuration/output/#outputmodule"><code>output.module</code></a> é…ç½®åŒæ—¶å°†å®ƒè®¾ç½®æˆ <code>true</code>ã€‚ å¼€å¯ä½¿ç”¨ <code>output.libraryTarget</code> ä½œä¸º <code>'module'</code> ä¸”å°†å®ƒè®¾ç½®æˆ <code>'module'</code>ã€‚</li> </ul> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  experiments<span class="token operator">:</span> <span class="token punctuation">{</span>
    outputModule<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    syncWebAssembly<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    topLevelAwait<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    asyncWebAssembly<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h1 id="å…¶å®ƒé€‰é¡¹">å…¶å®ƒé€‰é¡¹<a href="#%E5%85%B6%E5%AE%83%E9%80%89%E9%A1%B9" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>è¿™é‡Œæ˜¯ webpack æ”¯æŒçš„å…¶å®ƒé€‰é¡¹ã€‚</p> <blockquote class="warning"> <p>å¯»æ±‚å¸®åŠ©ï¼šè¿™ä¸ªé¡µé¢è¿˜åœ¨æ›´æ–°ä¸­ï¼Œå¦‚æœä½ å‘ç°æœ¬é¡µé¢å†…æœ‰æè¿°ä¸å‡†ç¡®æˆ–è€…ä¸å®Œæ•´ï¼Œè¯·åœ¨ <a href="javascript:if(confirm('https://github.com/webpack/webpack.js.org  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack.js.org'" tppabs="https://github.com/webpack/webpack.js.org">webpack çš„æ–‡æ¡£ä»“åº“</a>ä¸­åˆ›å»º issue æˆ–è€… pull request</p> </blockquote> <h2 id="amd"><code>amd</code> <a href="#amd" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object</code> <code>boolean: false</code></p> <p>è®¾ç½® <code>require.amd</code> æˆ– <code>define.amd</code> çš„å€¼ã€‚è®¾ç½® <code>amd</code> ä¸º <code>false</code> ä¼šç¦ç”¨ webpack çš„ AMD æ”¯æŒã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  amd<span class="token operator">:</span> <span class="token punctuation">{</span>
    jQuery<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æŸäº›æµè¡Œçš„æ¨¡å—æ˜¯æŒ‰ç…§ AMD è§„èŒƒç¼–å†™çš„ï¼Œæœ€å¼•äººç©ç›®çš„ jQuery ç‰ˆæœ¬åœ¨ 1.7.0 åˆ° 1.9.1ï¼Œå¦‚æœ loader æç¤ºå®ƒå¯¹é¡µé¢åŒ…å«çš„å¤šä¸ªç‰ˆæœ¬é‡‡å–äº†<a href="javascript:if(confirm('https://github.com/amdjs/amdjs-api/wiki/jQuery-and-AMD  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/amdjs/amdjs-api/wiki/jQuery-and-AMD'" tppabs="https://github.com/amdjs/amdjs-api/wiki/jQuery-and-AMD">ç‰¹æ®Šè®¸å¯</a>æ—¶ï¼Œæ‰ä¼šæ³¨å†Œä¸º AMD æ¨¡å—ã€‚</p> <p>è®¸å¯æƒé™æ˜¯å…·æœ‰ã€Œé™åˆ¶æŒ‡å®šç‰ˆæœ¬æ³¨å†Œã€æˆ–ã€Œæ”¯æŒæœ‰ä¸åŒå®šä¹‰æ¨¡å—çš„ä¸åŒæ²™ç›’ã€çš„èƒ½åŠ›ã€‚</p> <p>æ­¤é€‰é¡¹å…è®¸å°†æ¨¡å—æŸ¥æ‰¾çš„é”®(key)è®¾ç½®ä¸ºçœŸå€¼(truthy value)ã€‚ å‘ç”Ÿè¿™ç§æƒ…å†µæ—¶ï¼Œwebpack ä¸­çš„ AMD æ”¯æŒå°†å¿½ç•¥å®šä¹‰çš„åç§°ã€‚</p> <h2 id="bail"><code>bail</code> <a href="#bail" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean = false</code></p> <p>åœ¨ç¬¬ä¸€ä¸ªé”™è¯¯å‡ºç°æ—¶æŠ›å‡ºå¤±è´¥ç»“æœï¼Œè€Œä¸æ˜¯å®¹å¿å®ƒã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ä½¿ç”¨ HMR æ—¶ï¼Œwebpack ä¼šå°†åœ¨ç»ˆç«¯ä»¥åŠæµè§ˆå™¨æ§åˆ¶å°ä¸­ï¼Œä»¥çº¢è‰²æ–‡å­—è®°å½•è¿™äº›é”™è¯¯ï¼Œä½†ä»ç„¶ç»§ç»­è¿›è¡Œæ‰“åŒ…ã€‚è¦å¯ç”¨å®ƒï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  bail<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>è¿™å°†è¿«ä½¿ webpack é€€å‡ºå…¶æ‰“åŒ…è¿‡ç¨‹ã€‚</p> <h2 id="cache"><code>cache</code> <a href="#cache" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code> <code>object</code></p> <p>ç¼“å­˜ç”Ÿæˆçš„ webpack æ¨¡å—å’Œ chunkï¼Œæ¥æ”¹å–„æ„å»ºé€Ÿåº¦ã€‚<code>cache</code> ä¼šåœ¨<a href="../mode/index.htm#mode-development" tppabs="https://webpack.docschina.org/configuration/mode/#mode-development"><code>å¼€å‘</code> æ¨¡å¼</a>è¢«è®¾ç½®æˆ <code>type: 'memory'</code> è€Œä¸”åœ¨ <a href="../mode/index.htm#mode-production" tppabs="https://webpack.docschina.org/configuration/mode/#mode-production"><code>ç”Ÿäº§</code> æ¨¡å¼</a> ä¸­è¢«ç¦ç”¨ã€‚ <code>cache: true</code> ä¸ <code>cache: { type: 'memory' }</code> é…ç½®ä½œç”¨ä¸€è‡´ã€‚ ä¼ å…¥ <code>false</code> ä¼šç¦ç”¨ç¼“å­˜:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="cachetype"><code>cache.type</code> <a href="#cachetype" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string: 'memory' | 'filesystem'</code></p> <p>å°† <code>cache</code> ç±»å‹è®¾ç½®æˆå†…å­˜æˆ–è€…æ–‡ä»¶ç³»ç»Ÿã€‚<code>memory</code> é€‰é¡¹å¾ˆç®€å•ï¼Œå®ƒä¼šå‘Šè¯‰ webpack å°†å†…å®¹å­˜æ”¾åœ¨å†…å­˜ä¸­å¹¶ä¸”ä¸å…è®¸é¢å¤–çš„é…ç½®ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'memory'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å½“å°† <code>cache.type</code> è®¾ç½®æˆ <code>filesystem</code> ä¼šå¼€æ”¾æ›´å¤šçš„é€‰èå¯é…ç½®ã€‚</p> <h3 id="cachecachedirectory"><code>cache.cacheDirectory</code> <a href="#cachecachedirectory" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string</code></p> <p>ç¼“å­˜çš„ã€‚é»˜è®¤ä¸º <code>node_modules/.cache/webpack</code>ã€‚</p> <p><code>cache.cacheDirectory</code> é€‰é¡¹ä»…å½“ <a href="#cachetype"><code>cache.type</code></a> è¢«è®¾ç½®æˆ <code>filesystem</code> æ‰å¯ç”¨ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>
    cacheDirectory<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'.temp_cache'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p>æœ€ç»ˆçš„ç¼“å­˜ç›®æ ‡æ˜¯ <code>cache.cacheDirectory</code> + <code>cache.name</code> çš„æ··åˆ.</p> </blockquote> <h3 id="cachecachelocation"><code>cache.cacheLocation</code> <a href="#cachecachelocation" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string</code></p> <p>ç¼“å­˜çš„è·¯å¾„ã€‚é»˜è®¤å€¼ä¸º <code>path.resolve(cache.cacheDirectory, cache.name)</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>
    cacheLocation<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'.test_cache'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="cachebuilddependencies"><code>cache.buildDependencies</code> <a href="#cachebuilddependencies" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>object</code></p> <p><code>cache.buildDependencies</code> is an object of arrays of additional code dependencies for the build. webpack will use a hash of each of these items and all dependencies to invalidate the filesystem cache.</p> <p>Defaults to <code>webpack/lib</code> to get all dependencies of webpack.</p> <blockquote class="tip"> <p>It's recommended to set <code>cache.buildDependencies.config: [__filename]</code> in your webpack configuration to get the latest configuration and all dependencies.</p> </blockquote> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  cache<span class="token operator">:</span> <span class="token punctuation">{</span>
    buildDependencies<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// This makes all dependencies of this file - build dependencies</span>
      config<span class="token operator">:</span> <span class="token punctuation">[</span>__filename<span class="token punctuation">]</span>
      <span class="token comment">// By default webpack and loaders are build dependencies</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="cachemanagedpaths"><code>cache.managedPaths</code> <a href="#cachemanagedpaths" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>[string] = ['./node_modules']</code></p> <blockquote class="warning"> <p>Moved to <a href="#managedpaths">snapshot.managedPaths</a></p> </blockquote> <p><code>cache.managedPaths</code> is an array of package-manager only managed paths. webpack will avoid hashing and timestamping them, assume the version is unique and will use it as a snapshot (for both memory and filesystem cache).</p> <h3 id="cachehashalgorithm"><code>cache.hashAlgorithm</code> <a href="#cachehashalgorithm" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string</code></p> <p>ç”¨äºå“ˆå¸Œç”Ÿæˆçš„ç®—æ³•ã€‚è¯¦æƒ…è¯·å‚é˜… <a href="javascript:if(confirm('https://nodejs.org/api/crypto.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/api/crypto.html'" tppabs="https://nodejs.org/api/crypto.html">Node.js crypto</a>ã€‚é»˜è®¤å€¼ä¸º <code>md4</code>.</p> <p><code>cache.hashAlgorithm</code> é€‰é¡¹ä»…å½“ <a href="#cachetype"><code>cache.type</code></a> è®¾ç½®æˆ <code>filesystem</code> æ‰å¯é…ç½®ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>
    hashAlgorithm<span class="token operator">:</span> <span class="token string">'md4'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="cachename"><code>cache.name</code> <a href="#cachename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string</code></p> <p>ç¼“å­˜çš„åç§°ã€‚ä¸åŒçš„åå­—ä¼šå¯¼è‡´ä¸åŒçš„çš„å…±å­˜çš„ç¼“å­˜ã€‚é»˜è®¤å€¼ä¸º <code>${config.name}-${config.mode}</code>ã€‚ä½¿ç”¨ <code>cache.name</code> å½“ä½ æœ‰å¤šä»½é…ç½®çš„æ—¶å€™ï¼Œæ˜¯æ¯”è¾ƒåˆç†çš„å› ä¸ºä¼šæœ‰é…ç½®ä¼šæœ‰ç‹¬ç«‹çš„ç¼“å­˜ã€‚</p> <p><code>cache.name</code> é€‰é¡¹ä»…å½“ <a href="#cachetype"><code>cache.type</code></a> è¢«è®¾ç½®æˆ <code>filesystem</code> çš„æ—¶å€™å¯è¿›è¡Œé…ç½®ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'AppBuildCache'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="cachestore"><code>cache.store</code> <a href="#cachestore" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string = 'pack': 'pack'</code></p> <p><code>cache.store</code> å‘Šè¯‰ webpack ä»€ä¹ˆæ—¶å€™å°†æ•°æ®å­˜æ”¾åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚</p> <ul> <li><code>'pack'</code>: å½“ç¼–è¯‘å™¨é—²ç½®æ—¶å€™ï¼Œå°†ç¼“å­˜æ•°æ®éƒ½å­˜æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­</li> </ul> <p><code>cache.store</code> é€‰é¡¹ä»…å½“ <a href="#cachetype"><code>cache.type</code></a> è®¾ç½®æˆ <code>filesystem</code> æ‰å¯é…ç½®ã€‚</p> <blockquote class="warning"> <p><code>pack</code> æ˜¯ webpack 5.0.x èµ·å”¯ä¸€æ”¯æŒçš„ç±»å‹</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>
    store<span class="token operator">:</span> <span class="token string">'pack'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="cacheversion"><code>cache.version</code> <a href="#cacheversion" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string = ''</code></p> <p>ç¼“å­˜æ•°æ®çš„ç‰ˆæœ¬ã€‚ä¸åŒç‰ˆæœ¬ä¸ä¼šå…è®¸é‡ç”¨ç¼“å­˜å’Œé‡è½½å½“å‰çš„å†…å®¹ã€‚å½“é…ç½®ä»¥ä¸€ç§æ— æ³•é‡ç”¨ç¼“å­˜çš„æ–¹å¼æ”¹å˜æ—¶ï¼Œè¦æ›´æ–°ç¼“å­˜çš„ç‰ˆæœ¬ã€‚è¿™ä¼šè®©ç¼“å­˜å¤±æ•ˆã€‚</p> <p><code>cache.version</code> é€‰é¡¹ä»…å½“ <a href="#cachetype"><code>cache.type</code></a> è®¾ç½®æˆ <code>filesystem</code> æ‰å¯é…ç½®ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  cache<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'filesystem'</span><span class="token punctuation">,</span>
    version<span class="token operator">:</span> <span class="token string">'your_version'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p>åœ¨å…·æœ‰ä¸åŒé€‰é¡¹çš„è°ƒç”¨ä¹‹é—´ä¸è¦å…±äº«ç¼“å­˜ã€‚</p> </blockquote> <h3 id="cacheidletimeout"><code>cache.idleTimeout</code> <a href="#cacheidletimeout" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number = 10000</code></p> <p>å•ä½æ¯«ç§’ã€‚ <code>cache.idleTimeout</code> è¡¨ç¤ºç¼“å­˜å­˜å‚¨å‘ç”Ÿåçš„æ—¶é—´æ®µã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//..</span>
  cache<span class="token operator">:</span> <span class="token punctuation">{</span>
    idleTimeout<span class="token operator">:</span> <span class="token number">10000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p><code>cache.idleTimeout</code> ä»…å½“ <a href="#cachestore"><code>cache.store</code></a> è®¾ç½®æˆ <code>'pack'</code> æ‰å¯é…ç½®ã€‚</p> </blockquote> <h3 id="cacheidletimeoutforinitialstore"><code>cache.idleTimeoutForInitialStore</code> <a href="#cacheidletimeoutforinitialstore" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number = 0</code></p> <p>å•ä½æ¯«ç§’ã€‚ <code>cache.idleTimeoutForInitialStore</code> æ˜¯åœ¨åˆå§‹ç¼“å­˜å­˜å‚¨å‘ç”Ÿåçš„æ—¶é—´æ®µã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//..</span>
  cache<span class="token operator">:</span> <span class="token punctuation">{</span>
    idleTimeoutForInitialStore<span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p><code>cache.idleTimeoutForInitialStore</code> ä»…å½“ <a href="#cachestore"><code>cache.store</code></a> è®¾ç½®æˆ <code>'pack'</code> æ‰å¯é…ç½®ã€‚</p> </blockquote> <h2 id="ignorewarnings"><code>ignoreWarnings</code> <a href="#ignorewarnings" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>RegExp</code> <code>function (WebpackError, Compilation) => boolean</code> <code>{module?: RegExp, file?: RegExp, message?: RegExp}</code></p> <p>å‘Šè¯‰ webpack å¿½ç•¥æ‰ç‰¹å®šçš„è­¦å‘Šã€‚ç±»å‹å¯ä»¥æ˜¯ <code>RegExp</code>ï¼Œå¯ä»¥æ˜¯è‡ªå®šä¹‰ <code>function</code>ã€‚å¦‚æœç±»å‹ä¸ºå‡½æ•°ï¼Œå¯åŸºäºåŸå§‹ warning æ¥é€‰æ‹©æ€§å±•ç¤ºè­¦å‘Šï¼Œå…¶å‚æ•°åˆ†åˆ«ä¸º <code>WebpackError</code> å’Œ <code>Compilation</code>ï¼Œä¸”è¿”å›å€¼ä¸º <code>boolean</code>ã€‚è¿˜å¯ä»¥åŒ…å«ä»¥ä¸‹å±æ€§çš„ <code>object</code>ï¼š</p> <ul> <li><code>file</code>ï¼š ç±»å‹ä¸º <code>RegExp</code>ï¼Œç”¨äºé€‰æ‹©å‡ºç°è­¦å‘Šçš„æºæ–‡ä»¶ã€‚</li> <li><code>message</code>ï¼š ç±»å‹ä¸º <code>RegExp</code>ï¼Œç”¨äºé€‰æ‹©è­¦å‘Šçš„å†…å®¹ã€‚</li> <li><code>module</code>ï¼š ç±»å‹ä¸º <code>RegExp</code>ï¼Œç”¨äºé€‰æ‹©è­¦å‘Šæ¥æºçš„æ¨¡å—ã€‚</li> </ul> <p><code>ignoreWarnings</code> å¯ä»¥æ˜¯ä¸Šè¿°ä»»æ„ç±»å‹ç»„æˆçš„ <code>array</code>ã€‚</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  ignoreWarnings<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      module<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">module2\.js\?[34]</span><span class="token regex-delimiter">/</span></span> <span class="token comment">// A RegExp</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      module<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[13]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      message<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">homepage</span><span class="token regex-delimiter">/</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token parameter">warning</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token boolean">true</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="loader"><code>loader</code> <a href="#loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object</code></p> <p>åœ¨ <a href="../../api/loaders/index.htm#the-loader-context" tppabs="https://webpack.docschina.org/api/loaders/#the-loader-context">loader ä¸Šä¸‹æ–‡</a>ä¸­æš´éœ²è‡ªå®šä¹‰å€¼ã€‚</p> <p>ä¾‹å¦‚ï¼Œä½ å¯ä»¥åœ¨ loader ä¸Šä¸‹æ–‡ä¸­å®šä¹‰ä¸€ä¸ªæ–°å˜é‡ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  loader<span class="token operator">:</span> <span class="token punctuation">{</span>
    answer<span class="token operator">:</span> <span class="token number">42</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ç„¶åä½¿ç”¨ <code>this.answer</code> åœ¨ loader ä¸­è·å–è¯¥å€¼ï¼š</p> <p><strong>custom-loader.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>answer<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// will log `42` here</span>
  <span class="token keyword">return</span> source<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p>ä½ å¯ä»¥è¦†ç›– loader ä¸Šä¸‹æ–‡ä¸­çš„å±æ€§ï¼Œå› ä¸º webpack ä¼šå°†æ‰€æœ‰å®šä¹‰åœ¨ <code>loader</code> ä¸­çš„å±æ€§è´Ÿè´£åˆ° loader ä¸Šä¸‹æ–‡ä¸­ã€‚</p> </blockquote> <h2 id="parallelism"><code>parallelism</code> <a href="#parallelism" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>number = 100</code></p> <p>é™åˆ¶å¹¶è¡Œå¤„ç†çš„æ¨¡å—æ•°é‡ã€‚å¯ä»¥ç”¨äºè°ƒä¼˜æ€§èƒ½æˆ–è·å–æ›´å¯é çš„æ€§èƒ½åˆ†æç»“æœã€‚</p> <h2 id="profile"><code>profile</code> <a href="#profile" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>boolean</code></p> <p>æ•è·ä¸€ä¸ªåº”ç”¨ç¨‹åº"é…ç½®æ–‡ä»¶"ï¼ŒåŒ…æ‹¬ç»Ÿè®¡å’Œæç¤ºï¼Œç„¶åå¯ä»¥ä½¿ç”¨ <a href="javascript:if(confirm('https://webpack.github.io/analyse/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://webpack.github.io/analyse/'" tppabs="https://webpack.github.io/analyse/">Analyze</a> åˆ†æå·¥å…·è¿›è¡Œè¯¦ç»†åˆ†æã€‚</p> <blockquote class="tip"> <p>ä½¿ç”¨ <a href="javascript:if(confirm('https://www.npmjs.com/package/stats-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.npmjs.com/package/stats-webpack-plugin'" tppabs="https://www.npmjs.com/package/stats-webpack-plugin">StatsPlugin</a> å¯ä»¥æ›´å¥½åœ°æ§åˆ¶ç”Ÿæˆçš„é…ç½®æ–‡ä»¶ã€‚</p> </blockquote> <blockquote class="tip"> <p>ä¸ <code>parallelism: 1</code> æ··ç”¨ä»¥è¾¾åˆ°æ›´å¥½çš„ç»“æœã€‚</p> </blockquote> <h2 id="recordspath"><code>recordsPath</code> <a href="#recordspath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code></p> <p>å¼€å¯è¿™ä¸ªé€‰é¡¹å¯ä»¥ç”Ÿæˆä¸€ä¸ª JSON æ–‡ä»¶ï¼Œå…¶ä¸­å«æœ‰ webpack çš„ "records" è®°å½• - å³ã€Œç”¨äºå­˜å‚¨è·¨å¤šæ¬¡æ„å»º(across multiple builds)çš„æ¨¡å—æ ‡è¯†ç¬¦ã€çš„æ•°æ®ç‰‡æ®µã€‚å¯ä»¥ä½¿ç”¨æ­¤æ–‡ä»¶æ¥è·Ÿè¸ªåœ¨æ¯æ¬¡æ„å»ºä¹‹é—´çš„æ¨¡å—å˜åŒ–ã€‚åªè¦ç®€å•çš„è®¾ç½®ä¸€ä¸‹è·¯å¾„,å°±å¯ä»¥ç”Ÿæˆè¿™ä¸ª JSON æ–‡ä»¶ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  recordsPath<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'records.json'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>å¦‚æœä½ ä½¿ç”¨äº†<a href="../../guides/code-splitting.htm" tppabs="https://webpack.docschina.org/guides/code-splitting">ä»£ç åˆ†ç¦»(code splittnig)</a>è¿™æ ·çš„å¤æ‚é…ç½®ï¼Œrecords ä¼šç‰¹åˆ«æœ‰ç”¨ã€‚è¿™äº›æ•°æ®ç”¨äºç¡®ä¿æ‹†åˆ† bundleï¼Œä»¥ä¾¿å®ç°ä½ éœ€è¦çš„<a href="../../guides/caching.htm" tppabs="https://webpack.docschina.org/guides/caching">ç¼“å­˜(caching)</a>è¡Œä¸ºã€‚</p> <blockquote class="tip"> <p>æ³¨æ„ï¼Œè™½ç„¶è¿™ä¸ªæ–‡ä»¶æ˜¯ç”±ç¼–è¯‘å™¨(compiler)ç”Ÿæˆçš„ï¼Œä½†ä½ å¯èƒ½ä»ç„¶å¸Œæœ›åœ¨æºä»£ç ç®¡ç†ä¸­è¿½è¸ªå®ƒï¼Œä»¥ä¾¿éšæ—¶è®°å½•å®ƒçš„å˜åŒ–æƒ…å†µã€‚</p> </blockquote> <blockquote class="warning"> <p>è®¾ç½® <code>recordsPath</code> æœ¬è´¨ä¸Šä¼šæŠŠ <code>recordsInputPath</code> å’Œ <code>recordsOutputPath</code> éƒ½è®¾ç½®æˆç›¸åŒçš„è·¯å¾„ã€‚é€šå¸¸æ¥è®²è¿™ä¹Ÿæ˜¯ç¬¦åˆé€»è¾‘çš„ï¼Œé™¤éä½ å†³å®šæ”¹å˜è®°å½•æ–‡ä»¶çš„åç§°ã€‚å¯ä»¥æŸ¥çœ‹ä¸‹é¢çš„å®ä¾‹ï¼š</p> </blockquote> <h2 id="recordsinputpath"><code>recordsInputPath</code> <a href="#recordsinputpath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code></p> <p>æŒ‡å®šè¯»å–æœ€åä¸€æ¡è®°å½•çš„æ–‡ä»¶çš„åç§°ã€‚è¿™å¯ä»¥ç”¨æ¥é‡å‘½åä¸€ä¸ªè®°å½•æ–‡ä»¶ï¼Œå¯ä»¥æŸ¥çœ‹ä¸‹é¢çš„å®ä¾‹ï¼š</p> <h2 id="recordsoutputpath"><code>recordsOutputPath</code> <a href="#recordsoutputpath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code></p> <p>æŒ‡å®šè®°å½•è¦å†™å…¥çš„ä½ç½®ã€‚ä»¥ä¸‹ç¤ºä¾‹æè¿°äº†å¦‚ä½•ç”¨è¿™ä¸ªé€‰é¡¹å’Œ <code>recordsInptuPaht</code> æ¥é‡å‘½åä¸€ä¸ªè®°å½•æ–‡ä»¶ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  recordsInputPath<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'records.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  recordsOutputPath<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'newRecords.json'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="name"><code>name</code> <a href="#name" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>string</code></p> <p>é…ç½®çš„åç§°ã€‚å½“åŠ è½½ä¸åŒçš„é…ç½®æ—¶ä¼šè¢«ä½¿ç”¨ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  name<span class="token operator">:</span> <span class="token string">'admin-app'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="infrastructurelogging">infrastructureLogging <a href="#infrastructurelogging" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>ç”¨äºåŸºç¡€è®¾æ–½æ°´å¹³çš„æ—¥å¿—é€‰é¡¹ã€‚</p> <p><code>object = {}</code></p> <h3 id="level">level <a href="#level" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string</code></p> <p>å¼€å¯åŸºç¡€è®¾æ–½æ—¥å¿—è¾“å‡ºã€‚ä¸ <a href="../stats/index.htm#statslogging" tppabs="https://webpack.docschina.org/configuration/stats/#statslogging"><code>stats.logging</code></a> é€‰é¡¹ç±»ä¼¼ä½†ä»…ä»…æ˜¯å¯¹äºåŸºç¡€è®¾æ–½è€Œè¨€ã€‚ æ²¡æœ‰é»˜è®¤å€¼æä¾›ã€‚</p> <p>å¯èƒ½çš„å–å€¼ï¼š</p> <ul> <li><code>'none'</code> - ç¦ç”¨æ—¥å¿—</li> <li><code>'error'</code> - ä»…ä»…æ˜¾ç¤ºé”™è¯¯</li> <li><code>'warn'</code> - ä»…ä»…æ˜¾ç¤ºé”™è¯¯ä¸å‘Šè­¦</li> <li><code>'info'</code> - æ˜¾ç¤ºé”™è¯¯ã€å‘Šè­¦ä¸ä¿¡æ¯</li> <li><code>'log'</code> - æ˜¾ç¤ºé”™è¯¯ã€å‘Šè­¦ï¼Œä¿¡æ¯ï¼Œæ—¥å¿—ä¿¡æ¯ï¼Œç»„åˆ«ï¼Œæ¸…æ¥šã€‚ æ”¶ç¼©çš„ç»„åˆ«ä¼šåœ¨æ”¶ç¼©çš„çŠ¶æ€ä¸­è¢«æ˜¾ç¤ºã€‚</li> <li><code>'verbose'</code> - è¾“å‡ºæ‰€æœ‰æ—¥å¿—é™¤äº†è°ƒè¯•ä¸è¿½è¸ªã€‚æ”¶ç¼©çš„ç»„åˆ«ä¼šåœ¨æ‰©å±•çš„çŠ¶æ€ä¸­è¢«æ˜¾ç¤ºã€‚</li> </ul> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  infrastructureLogging<span class="token operator">:</span> <span class="token punctuation">{</span>
    level<span class="token operator">:</span> <span class="token string">'info'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="debug">debug <a href="#debug" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string</code> <code>RegExp</code> <code>function(name) => boolean</code> <code>[string, RegExp, function(name) => boolean]</code></p> <p>å¼€å¯ç‰¹å®šæ—¥å¿—æ¯”å¦‚æ’ä»¶(plugins)å’ŒåŠ è½½å™¨(loaders)çš„è°ƒè¯•ä¿¡æ¯ã€‚ ä¸ <a href="../stats/index.htm#statsloggingdebug" tppabs="https://webpack.docschina.org/configuration/stats/#statsloggingdebug"><code>stats.loggingDebug</code></a> é€‰é¡¹ç±»ä¼¼ä½†ä»…ä»…å¯¹äºåŸºç¡€è®¾æ–½è€Œè¨€ã€‚æ²¡æœ‰é»˜è®¤é…ç½®æä¾›ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  infrastructureLogging<span class="token operator">:</span> <span class="token punctuation">{</span>
    level<span class="token operator">:</span> <span class="token string">'info'</span><span class="token punctuation">,</span>
    debug<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">'MyPlugin'</span><span class="token punctuation">,</span>
      <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">MyPlugin</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=></span> name<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="snapshot"><code>snapshot</code><a href="#snapshot" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>object</code></p> <p><code>snapshot</code> options decide how the file system snapshots are created and invalidated.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  snapshot<span class="token operator">:</span> <span class="token punctuation">{</span>
    managedPaths<span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../node_modules'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    immutablePaths<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    buildDependencies<span class="token operator">:</span> <span class="token punctuation">{</span>
      hash<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      timestamp<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    module<span class="token operator">:</span> <span class="token punctuation">{</span>
      timestamp<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
      timestamp<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    resolveBuildDependencies<span class="token operator">:</span> <span class="token punctuation">{</span>
      hash<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      timestamp<span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="managedPaths"><code>managedPaths</code><a href="#managedPaths" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>[string]</code></p> <p>An array of paths that are managed by a package manager and can be trusted to not be modified otherwise.</p> <h3 id="immutablePaths"><code>immutablePaths</code><a href="#immutablePaths" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>[string]</code></p> <p>An array of paths that are managed by a package manager and contain a version or a hash in their paths so that all files are immutable.</p> <h3 id="buildDependencies"><code>buildDependencies</code><a href="#buildDependencies" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>object = { hash boolean = true, timestamp boolean = true }</code></p> <p>Snapshots for build dependencies when using the persistent cache.</p> <ul> <li><code>hash</code>: Compare content hashes to determine invalidation (more expensive than <code>timestamp</code>, but changes less often).</li> <li><code>timestamp</code>: Compare timestamps to determine invalidation.</li> </ul> <p>Both <code>hash</code> and <code>timestamp</code> are optional.</p> <ul> <li><code>{ hash: true }</code>: Good for CI caching with a fresh checkout which doesn't keep timestamps and uses hashes.</li> <li><code>{ timestamp: true }</code>: Good for local development caching.</li> <li><code>{ timestamp: true, hash: true }</code>: Good for both cases mentioned above. Timestamps are compared first, which is cheap because webpack doesn't need to read files to compute their hashes. Content hashes will be compared only when timestamps are the same, which leads to a small performance hit for the initial build.</li> </ul> <h3 id="module"><code>module</code><a href="#module" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>object = {hash boolean = true, timestamp boolean = true}</code></p> <p>Snapshots for building modules.</p> <ul> <li><code>hash</code>: Compare content hashes to determine invalidation (more expensive than <code>timestamp</code>, but changes less often).</li> <li><code>timestamp</code>: Compare timestamps to determine invalidation.</li> </ul> <h3 id="resolve"><code>resolve</code><a href="#resolve" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>object = {hash boolean = true, timestamp boolean = true}</code></p> <p>Snapshots for resolving of requests.</p> <ul> <li><code>hash</code>: Compare content hashes to determine invalidation (more expensive than <code>timestamp</code>, but changes less often).</li> <li><code>timestamp</code>: Compare timestamps to determine invalidation.</li> </ul> <h3 id="resolveBuildDependencies"><code>resolveBuildDependencies</code><a href="#resolveBuildDependencies" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>object = {hash boolean = true, timestamp boolean = true}</code></p> <p>Snapshots for resolving of build dependencies when using the persistent cache.</p> <ul> <li><code>hash</code>: Compare content hashes to determine invalidation (more expensive than <code>timestamp</code>, but changes less often).</li> <li><code>timestamp</code>: Compare timestamps to determine invalidation.</li> </ul> </div><div class="contributors__section"><hr/><h3>Contributors</h3><div class="contributors"><div class="contributors__list"><a class="contributor" href="javascript:if(confirm('https://github.com/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack'" tppabs="https://github.com/webpack"><img alt="webpack" src="../../icon-square-small-slack.9281492bb267314634b4.png" tppabs="https://webpack.docschina.org/icon-square-small-slack.9281492bb267314634b4.png"/><span class="contributor__name"> <!-- -->webpack</span></a></div></div></div></div></section></div><footer class="footer"><div class="container footer__inner"><section class="footer__left"><a class="footer__link" href="../../guides/getting-started/index.htm" tppabs="https://webpack.docschina.org/guides/getting-started/">èµ·æ­¥</a><a class="footer__link" href="../../organization/index.htm" tppabs="https://webpack.docschina.org/organization/">ç»„ç»‡</a><a class="footer__link" href="../../comparison/index.htm" tppabs="https://webpack.docschina.org/comparison/">æ¯”è¾ƒ</a></section><section class="footer__middle"><a class="footer__icon" href="../../index-1.htm" tppabs="https://webpack.docschina.org/"><img src="../../icon-square-small.85ba630cf0c5f29ae3e3.svg" tppabs="https://webpack.docschina.org/icon-square-small.85ba630cf0c5f29ae3e3.svg" alt="webpack icon"/></a></section><section class="footer__right"><a href="javascript:if(confirm('https://webpack.threadless.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://webpack.threadless.com/'" tppabs="https://webpack.threadless.com/" target="_blank" rel="noopener noreferrer" class="footer__link">å•†åº—</a><a class="footer__link" href="../../glossary/index.htm" tppabs="https://webpack.docschina.org/glossary/">æ¦‚å¿µæœ¯è¯­</a><a class="footer__link" href="../../branding/index.htm" tppabs="https://webpack.docschina.org/branding/">å“ç‰Œ</a><a href="javascript:if(confirm('https://gitter.im/webpack/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://gitter.im/webpack/webpack'" tppabs="https://gitter.im/webpack/webpack" target="_blank" rel="noopener noreferrer" class="footer__link">Gitter</a><a href="javascript:if(confirm('https://github.com/webpack/webpack/releases  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/releases'" tppabs="https://github.com/webpack/webpack/releases" target="_blank" rel="noopener noreferrer" class="footer__link">æ›´æ–°æ—¥å¿—</a><a class="footer__link footer__license" href="../../license.htm" tppabs="https://webpack.docschina.org/license"><img alt="Creative Commons License" src="../../cc.ab77d813bf219c6e34ff.svg" tppabs="https://webpack.docschina.org/cc.ab77d813bf219c6e34ff.svg"/><img alt="Creative Commons License" src="../../by.1360bb2e6d1fc28cdd9e.svg" tppabs="https://webpack.docschina.org/by.1360bb2e6d1fc28cdd9e.svg"/></a></section></div></footer></div></div><script>
window.matchMedia('print').addListener(function(mql) {
  if (!mql.matches) {
      window.close();
  }
});
window.print();
</script><script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "../../../hm.baidu.com/hm.js-39edd8e76884f07399be96cd422c9af3"/*tpa=https://hm.baidu.com/hm.js?39edd8e76884f07399be96cd422c9af3*/;
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script></body></html>