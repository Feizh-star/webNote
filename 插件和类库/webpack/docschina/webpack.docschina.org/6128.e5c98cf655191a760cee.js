(self.webpackChunk=self.webpackChunk||[]).push([[6128],{6128:function(a){a.exports='<p>本插件可以为 source map 的生成提供更好更细粒度的控制。<a href="configuration/devtool/index.htm"/*tpa=https://webpack.docschina.org/configuration/devtool/*/><code>devtool</code></a> 中的某些配置会自动使用它。</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>EvalSourceMapDevToolPlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="options">选项 <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>支持以下选项：</p> <ul> <li><code>test</code> (<code>string|RegExp|array</code>): 默认值为 <code>.js</code> 和 <code>.css</code>，为与给定的模块扩展名相匹配的模块，添加 source map。</li> <li><code>include</code> (<code>string|RegExp|array</code>): 为与给定路径相匹配的模块，添加 source map。</li> <li><code>exclude</code> (<code>string|RegExp|array</code>): 排除一些与给定值相匹配的模块，不会为它们生成映射关系。</li> <li><code>append</code> (<code>string</code>): 将给定的值添加到源代码中，通常是 <code>#sourceMappingURL</code> 注释，<code>[url]</code> 在 source map 文件中将会被替换成 url，值为 <code>false</code> 表示不添加。</li> <li><code>moduleFilenameTemplate</code> (<code>string</code>): 查看 <a href="configuration/output/index.htm#outputdevtoolmodulefilenametemplate"/*tpa=https://webpack.docschina.org/configuration/output/#outputdevtoolmodulefilenametemplate*/><code>output.devtoolModuleFilenameTemplate</code></a>。</li> <li><code>module</code> (<code>boolean</code>): 默认值为 <code>true</code>，表示是否为 loaders 添加 source map。</li> <li><code>columns</code> (<code>boolean</code>): 默认值为 <code>true</code>，表示是否使用列映射(column mapping)。</li> <li><code>protocol</code> (<code>string</code>): 默认协议名为 <code>webpack-internal://</code>，允许用户重新定义协议。</li> </ul> <blockquote class="tip"> <p>将 <code>module</code> 或者 <code>columns</code> 设置为 <code>false</code> 将产生较不精确的源映射，但会明显提高编译性能。</p> </blockquote> <blockquote class="tip"> <p>如果要在 <a href="configuration/mode/index.htm#mode-development"/*tpa=https://webpack.docschina.org/configuration/mode/#mode-development*/>开发模式</a> 下对此插件使用自定义配置，请确保禁用默认配置。 即设置 <code>devtool: false</code>。</p> </blockquote> <h2 id="examples">示例 <a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>以下示例演示了此插件的一些常见用例。</p> <h3 id="basic-use-case">基本用例 <a href="#basic-use-case" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>可以使用以下代码替换配置选项 <code>devtool: eval-source-map</code>，并使用等效的自定义插件配置：</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token comment">// ...</span>\n  devtool<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>EvalSourceMapDevToolPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="exclude-vendor-maps">排除 Vendor(第三方库) Maps <a href="#exclude-vendor-maps" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>下面的代码将排除 <code>vendor.js</code> 包中任何模块 source map 的生成：</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>EvalSourceMapDevToolPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  exclude<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">\'vendor.js\'/*tpa=https://webpack.docschina.org/vendor.js*/</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> '}}]);