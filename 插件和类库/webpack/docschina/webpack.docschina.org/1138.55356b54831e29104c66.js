(self.webpackChunk=self.webpackChunk||[]).push([[1138],{1138:function(n){n.exports='<p><a href="https://npmjs.com/package/node-loader"><img src="https://img.shields.io/npm/v/node-loader.svg" alt="npm"></a> <a href="https://nodejs.org/"><img src="https://img.shields.io/node/v/node-loader.svg" alt="node"></a> <a href="https://david-dm.org/webpack-contrib/node-loader"><img src="https://david-dm.org/webpack-contrib/node-loader.svg" alt="deps"></a> <a href="https://github.com/webpack-contrib/node-loader/actions"><img src="https://github.com/webpack-contrib/node-loader/workflows/node-loader/badge.svg" alt="tests"></a> <a href="https://codecov.io/gh/webpack-contrib/node-loader"><img src="https://codecov.io/gh/webpack-contrib/node-loader/branch/master/graph/badge.svg" alt="coverage"></a> <a href="https://gitter.im/webpack/webpack"><img src="https://badges.gitter.im/webpack/webpack.svg" alt="chat"></a> <a href="https://packagephobia.now.sh/result?p=node-loader"><img src="https://packagephobia.now.sh/badge?p=node-loader" alt="size"></a></p> <p>A <a href="https://nodejs.org/dist/latest/docs/api/addons.html">Node.js add-ons</a> loader.</p> <p>Allows to connect native node modules with <code>.node</code> extension.</p> <blockquote> <p>âš  <code>node-loader</code> only works on the <code>node</code>/<code>electron-main</code>/<code>electron-main</code> targets.</p> </blockquote> <h2 id="getting-started">Getting Started <a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To begin, you\'ll need to install <code>node-loader</code>:</p> <pre><code class="hljs language-console">$ npm install node-loader --save-dev\n</code></pre> <p>Setup the <code>target</code> option to <code>node</code>/<code>electron-main</code>/<code>electron-main</code> value and do not mock the <code>__dirname</code> global variable.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  target<span class="token operator">:</span> <span class="token string">\'node\'</span><span class="token punctuation">,</span>\n  node<span class="token operator">:</span> <span class="token punctuation">{</span>\n    __dirname<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  module<span class="token operator">:</span> <span class="token punctuation">{</span>\n    rules<span class="token operator">:</span> <span class="token punctuation">[</span>\n      <span class="token punctuation">{</span>\n        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.node$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>\n        loader<span class="token operator">:</span> <span class="token string">\'node-loader\'</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="inline">Inline <a href="#inline" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>index.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> node <span class="token keyword">from</span> <span class="token string">\'https://webpack.docschina.org/node-loader!./file.node\'</span><span class="token punctuation">;</span></code></pre> <p>And run <code>webpack</code> via your preferred method.</p> <h3 id="configuration">Configuration <a href="#configuration" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>index.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> node <span class="token keyword">from</span> <span class="token string">\'https://webpack.docschina.org/file.node\'</span><span class="token punctuation">;</span></code></pre> <p>Then add the loader to your <code>webpack</code> config. For example:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  target<span class="token operator">:</span> <span class="token string">\'node\'</span><span class="token punctuation">,</span>\n  node<span class="token operator">:</span> <span class="token punctuation">{</span>\n    __dirname<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  module<span class="token operator">:</span> <span class="token punctuation">{</span>\n    rules<span class="token operator">:</span> <span class="token punctuation">[</span>\n      <span class="token punctuation">{</span>\n        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.node$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>\n        loader<span class="token operator">:</span> <span class="token string">\'node-loader\'</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>And run <code>webpack</code> via your preferred method.</p> <h2 id="options">Options <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="center">Default</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><strong><a href="#flags"><code>flags</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{Number}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Enables/Disables <code>url</code>/<code>image-set</code> functions handling</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#name"><code>name</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{String|Function}</code></span></td> <td align="center" data-th="Default"><span><code>\'[contenthash].[ext]\'</code></span></td> <td align="left" data-th="Description"><span>Specifies a custom filename template for the target file(s).</span></td> </tr> </tbody> </table> <h3 id="flags"><code>flags</code> <a href="#flags" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Number</code> Default: <code>undefined</code></p> <p>The <code>flags</code> argument is an integer that allows to specify dlopen behavior. See the [<code>process.dlopen</code>][https://nodejs.org/api/process.html#process_process_dlopen_module_filename_flags] documentation for details.</p> <p><strong>index.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> node <span class="token keyword">from</span> <span class="token string">\'https://webpack.docschina.org/file.node\'</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> os <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'os\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  target<span class="token operator">:</span> <span class="token string">\'node\'</span><span class="token punctuation">,</span>\n  node<span class="token operator">:</span> <span class="token punctuation">{</span>\n    __dirname<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  module<span class="token operator">:</span> <span class="token punctuation">{</span>\n    rules<span class="token operator">:</span> <span class="token punctuation">[</span>\n      <span class="token punctuation">{</span>\n        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.node$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>\n        loader<span class="token operator">:</span> <span class="token string">\'node-loader\'</span><span class="token punctuation">,</span>\n        options<span class="token operator">:</span> <span class="token punctuation">{</span>\n          flags<span class="token operator">:</span> os<span class="token punctuation">.</span>constants<span class="token punctuation">.</span>dlopen<span class="token punctuation">.</span><span class="token constant">RTLD_NOW</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="name"><code>name</code> <a href="#name" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|Function</code> Default: <code>\'[contenthash].[ext]\'</code></p> <p>Specifies a custom filename template for the target file(s).</p> <h4 id="string"><code>String</code> <a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  target<span class="token operator">:</span> <span class="token string">\'node\'</span><span class="token punctuation">,</span>\n  node<span class="token operator">:</span> <span class="token punctuation">{</span>\n    __dirname<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  module<span class="token operator">:</span> <span class="token punctuation">{</span>\n    rules<span class="token operator">:</span> <span class="token punctuation">[</span>\n      <span class="token punctuation">{</span>\n        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.node$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>\n        loader<span class="token operator">:</span> <span class="token string">\'node-loader\'</span><span class="token punctuation">,</span>\n        options<span class="token operator">:</span> <span class="token punctuation">{</span>\n          name<span class="token operator">:</span> <span class="token string">\'[path][name].[ext]\'</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="function"><code>Function</code> <a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  target<span class="token operator">:</span> <span class="token string">\'node\'</span><span class="token punctuation">,</span>\n  node<span class="token operator">:</span> <span class="token punctuation">{</span>\n    __dirname<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  module<span class="token operator">:</span> <span class="token punctuation">{</span>\n    rules<span class="token operator">:</span> <span class="token punctuation">[</span>\n      <span class="token punctuation">{</span>\n        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.node$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>\n        loader<span class="token operator">:</span> <span class="token string">\'node-loader\'</span><span class="token punctuation">,</span>\n        options<span class="token operator">:</span> <span class="token punctuation">{</span>\n          <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">resourcePath<span class="token punctuation">,</span> resourceQuery</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token comment">// `resourcePath` - `/absolute/path/to/file.js`</span>\n            <span class="token comment">// `resourceQuery` - `?foo=bar`</span>\n\n            <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">\'development\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n              <span class="token keyword">return</span> <span class="token string">\'[path][name].[ext]\'</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n\n            <span class="token keyword">return</span> <span class="token string">\'[contenthash].[ext]\'</span><span class="token punctuation">;</span>\n          <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="contributing">Contributing <a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Please take a moment to read our contributing guidelines if you haven\'t yet done so.</p> <p><a href="https://github.com/webpack-contrib/node-loader/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="license">License <a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="https://github.com/webpack-contrib/node-loader/blob/master/LICENSE">MIT</a></p> '}}]);