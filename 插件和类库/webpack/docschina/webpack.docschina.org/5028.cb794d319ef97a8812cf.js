(self.webpackChunk=self.webpackChunk||[]).push([[5028],{5028:function(n){n.exports='<p><a href="https://npmjs.com/package/source-map-loader"><img src="https://img.shields.io/npm/v/source-map-loader.svg" alt="npm"></a> <a href="https://nodejs.org/"><img src="https://img.shields.io/node/v/source-map-loader.svg" alt="node"></a> <a href="https://david-dm.org/webpack-contrib/source-map-loader"><img src="https://david-dm.org/webpack-contrib/source-map-loader.svg" alt="deps"></a> <a href="https://github.com/webpack-contrib/source-map-loader/actions"><img src="https://github.com/webpack-contrib/source-map-loader/workflows/source-map-loader/badge.svg" alt="tests"></a> <a href="https://codecov.io/gh/webpack-contrib/source-map-loader"><img src="https://codecov.io/gh/webpack-contrib/source-map-loader/branch/master/graph/badge.svg" alt="coverage"></a> <a href="https://gitter.im/webpack/webpack"><img src="https://badges.gitter.im/webpack/webpack.svg" alt="chat"></a> <a href="https://packagephobia.now.sh/result?p=source-map-loader"><img src="https://packagephobia.now.sh/badge?p=source-map-loader" alt="size"></a></p> <p>从现有的源文件中提取 source maps（从 <code>sourceMappingURL</code> 中提取）。</p> <h2 id="getting-started">起步 <a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>安装 <code>source-map-loader</code>：</p> <pre><code class="hljs language-bash"><span class="token function">npm</span> i -D source-map-loader</code></pre> <p>添加 plugin 至 <code>webpack</code> 配置。例：</p> <p><strong>file.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> css <span class="token keyword">from</span> <span class="token string">"file.css"/*tpa=https://webpack.docschina.org/file.css*/</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  module<span class="token operator">:</span> <span class="token punctuation">{</span>\n    rules<span class="token operator">:</span> <span class="token punctuation">[</span>\n      <span class="token punctuation">{</span>\n        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>\n        enforce<span class="token operator">:</span> <span class="token string">"pre"</span><span class="token punctuation">,</span>\n        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"source-map-loader"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><code>source-map-loader</code> 从 JavaScript 入口提取现有的 source maps. 这些 source maps 既可以是内联的也可以是通过 URL 链接引入的。 所有的 source map 数据都按照选定的 <a href="configuration/devtool/index.htm"/*tpa=https://webpack.docschina.org/configuration/devtool/*/>source map style</a> 交给 webpack 处理，这些选定可以在 <a href="configuration/index.htm"/*tpa=https://webpack.docschina.org/configuration/*/>webpack.config.js</a> 的 <code>devtool</code> 选项中配置。 在使用有自己 source maps 的第三方库时，<code>source-map-loader</code> 就显得尤为重要。 如果相关 source map 数据没有按照规范提取、处理并注入 webpack bundle, 浏览器有可能无法正确解读这些数据。<code>source-map-loader</code> 允许 webpack 跨库且持续的维护 source map 数据，因而更易于调试。 <code>source-map-loader</code> 可以从任何 JavaScript 文件中提取，这也包括 <code>node_modules</code> 目录下的 JavaScript 文件。 在设置 <a href="configuration/module/index.htm#ruleinclude"/*tpa=https://webpack.docschina.org/configuration/module/#ruleinclude*/>include</a> 和 <a href="configuration/module/index.htm#ruleexclude"/*tpa=https://webpack.docschina.org/configuration/module/#ruleexclude*/>exclude</a> 规则时，要保证构建性能最优。</p> <p>最后按偏好运行 <code>webpack</code> 方法。</p> <h2 id="options">选项 <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <table> <thead> <tr> <th align="center">选项名</th> <th align="center">类型</th> <th align="center">默认值</th> <th align="left">描述</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="选项名"><span><strong><a href="#filtersourcemappingurl"><code>filterSourceMappingUrl</code></a></strong></span></td> <td align="center" data-th="类型"><span><code>{Function}</code></span></td> <td align="center" data-th="默认值"><span><code>undefined</code></span></td> <td align="left" data-th="描述"><span>允许控制 <code>SourceMappingURL</code> 的行为</span></td> </tr> </tbody> </table> <h3 id="filter-source-mapping-url">filterSourceMappingUrl <a href="#filter-source-mapping-url" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>类型：<code>Function</code> 默认值：<code>undefined</code></p> <p>允许你为 <code>SourceMappingURL</code> 注释指定 loader 的特定行为。</p> <p>此函数的返回值必须为下列之一：</p> <ul> <li><code>true</code> 或 <code>\'consume\'</code> — 使用 source map 并删除 <code>SourceMappingURL</code> 注释（默认行为）</li> <li><code>false</code> 或 <code>\'remove\'</code> — 不使用 source map 并删除 <code>SourceMappingURL</code> 注释</li> <li><code>skip</code> — 不使用 source map 但不删除 <code>SourceMappingURL</code> 注释</li> </ul> <p>示例配置：</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  module<span class="token operator">:</span> <span class="token punctuation">{</span>\n    rules<span class="token operator">:</span> <span class="token punctuation">[</span>\n      <span class="token punctuation">{</span>\n        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>\n        enforce<span class="token operator">:</span> <span class="token string">"pre"</span><span class="token punctuation">,</span>\n        use<span class="token operator">:</span> <span class="token punctuation">[</span>\n          <span class="token punctuation">{</span>\n            loader<span class="token operator">:</span> <span class="token string">"source-map-loader"</span><span class="token punctuation">,</span>\n            options<span class="token operator">:</span> <span class="token punctuation">{</span>\n              <span class="token function-variable function">filterSourceMappingUrl</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> resourcePath</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">broker-source-map-url\\.js$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n                <span class="token punctuation">}</span>\n\n                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">keep-source-mapping-url\\.js$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>resourcePath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                  <span class="token keyword">return</span> <span class="token string">"skip"</span><span class="token punctuation">;</span>\n                <span class="token punctuation">}</span>\n\n                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n              <span class="token punctuation">}</span><span class="token punctuation">,</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span>\n          <span class="token punctuation">}</span><span class="token punctuation">,</span>\n        <span class="token punctuation">]</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="examples">示例 <a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="ignoring-warnings">忽略警告 <a href="#ignoring-warnings" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>忽略警告可以使用以下配置：</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  module<span class="token operator">:</span> <span class="token punctuation">{</span>\n    rules<span class="token operator">:</span> <span class="token punctuation">[</span>\n      <span class="token punctuation">{</span>\n        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>\n        enforce<span class="token operator">:</span> <span class="token string">"pre"</span><span class="token punctuation">,</span>\n        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"source-map-loader"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  ignoreWarnings<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Failed to parse source map</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>欲了解 <code>ignoreWarnings</code> 的更多信息，请查阅<a href="configuration/other-options/index.htm#ignorewarnings"/*tpa=https://webpack.docschina.org/configuration/other-options/#ignorewarnings*/>此文</a>。</p> <h2 id="contributing">贡献 <a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>如果您尚未了解，建议您阅读以下贡献指引。</p> <p><a href="https://github.com/webpack-contrib/source-map-loader/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="license">许可 <a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="https://github.com/webpack-contrib/source-map-loader/blob/master/LICENSE">MIT</a></p> '}}]);