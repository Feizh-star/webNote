<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta name="theme-color" content="#2B3A42"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="robots" content="noindex,nofollow"/><title>webpack å®˜æ–¹ä¸­æ–‡æ–‡æ¡£</title><meta name="description" content="webpack æ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨ã€‚å®ƒçš„ä¸»è¦ç›®æ ‡æ˜¯å°† JavaScript æ–‡ä»¶æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œæ‰“åŒ…åçš„æ–‡ä»¶ç”¨äºåœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ï¼Œä½†å®ƒä¹Ÿèƒ½å¤Ÿèƒœä»»è½¬æ¢ï¼ˆtransformï¼‰ã€æ‰“åŒ…ï¼ˆbundleï¼‰æˆ–åŒ…è£¹ï¼ˆpackageï¼‰ä»»ä½•èµ„æº(resource or asset)ã€‚"/><meta property="og:site_name" content="webpack"/><meta property="og:type" content="website"/><meta property="og:title" content="webpack å®˜æ–¹ä¸­æ–‡æ–‡æ¡£"/><meta property="og:description" name="description" content="webpack æ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨ã€‚å®ƒçš„ä¸»è¦ç›®æ ‡æ˜¯å°† JavaScript æ–‡ä»¶æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œæ‰“åŒ…åçš„æ–‡ä»¶ç”¨äºåœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ï¼Œä½†å®ƒä¹Ÿèƒ½å¤Ÿèƒœä»»è½¬æ¢ï¼ˆtransformï¼‰ã€æ‰“åŒ…ï¼ˆbundleï¼‰æˆ–åŒ…è£¹ï¼ˆpackageï¼‰ä»»ä½•èµ„æº(resource or asset)ã€‚"/><meta property="og:image" content="https://webpack.js.org/icon-pwa-512x512.d3dae4189855b3a72ff9.png"/><meta property="twitter:card" content="summary"/><meta property="twitter:site" content="@webpack"/><meta property="twitter:creator" content="@webpack"/><meta property="twitter:domain" content="https://webpack.js.org/"/><meta name="keywords" content="webpack5, webpack, webpack ä¸­æ–‡æ–‡æ¡£, å°è®°ä¸­æ–‡, docschina, docschina.org, webpack.docschina.org, doc.react-china.org, nodejs.cn, vue.docschina.org, babel.docschina.org, parceljs.docschina.org, rollup.docschina.org, koajs.docschina.org"/><link rel="icon" type="image/x-icon" href="/favicon.f326220248556af65f41.ico"/><link rel="stylesheet" href="../../index.62a0b2891bdf09ef93b2.css" tppabs="https://webpack.docschina.org/index.62a0b2891bdf09ef93b2.css"/><link rel="manifest" href="/manifest.json"/><link rel="canonical" href="https://webpack.js.org/plugins/printable/"/><meta name="mobile-web-app-capable" content="yes"/><link rel="icon" sizes="192x192" href="/icon_192x192.png"/><link rel="icon" sizes="512x512" href="/icon_512x512.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="apple-mobile-web-app-title" content="webpack"/><link rel="apple-touch-icon" href="/icon_180x180.png"/><link rel="mask-icon" href="/logo-on-white-bg.47eff95f9c01c5972f6f.svg" color="#465e69"/><meta name="msapplication-TileImage" content="/icon_150x150.png"/><meta name="msapplication-TileColor" content="#465e69"/></head><body><div id="root"><div class="site"><div class="site__header"><div class="notification-bar"><div class="container notification-bar__inner"><p>Webpack 5 ç°å·²æ­£å¼å‘å¸ƒã€‚è¯·é˜…è¯»æˆ‘ä»¬çš„ <a href="../../blog/2020-10-10-webpack-5-release/index.htm" tppabs="https://webpack.docschina.org/blog/2020-10-10-webpack-5-release/">å‘å¸ƒå…¬å‘Š</a>ã€‚å¦‚è¿˜æœªå‡†å¤‡å‡çº§ï¼Œè¯·é˜…è¯» <a href="javascript:if(confirm('https://v4.webpack.docschina.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://v4.webpack.docschina.org/'" tppabs="https://v4.webpack.docschina.org/">webpack 4 æ–‡æ¡£</a>ã€‚</p></div></div><header class="navigation   "><section class="navigation__inner"><button aria-label="Open menu" class="navigation__mobile"><svg viewBox="-62 138 25 25"><g><g><path d="M-60.2,140.2h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,141-61.2,140.2-60.2,140.2z"></path><path d="M-60.2,148.7h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,149.5-61.2,148.7-60.2,148.7z"></path><path d="M-60.2,157.2h20.9c1,0,1.8,0.8,1.8,1.8l0,0c0,1-0.8,1.8-1.8,1.8h-20.9c-1,0-1.8-0.8-1.8-1.8l0,0 C-62,158-61.2,157.2-60.2,157.2z"></path></g></g></svg></button><a class="navigation__logo" href="../../index-1.htm" tppabs="https://webpack.docschina.org/"><img class="logo" src="../../site-logo.1fcab817090e78435061.svg" tppabs="https://webpack.docschina.org/site-logo.1fcab817090e78435061.svg" alt="webpack logo"/></a><nav class="navigation__items"><a class="navigation__item  navigation__item--active" href="../../concepts/index.htm" tppabs="https://webpack.docschina.org/concepts/">ä¸­æ–‡æ–‡æ¡£</a><a class="navigation__item  " href="../../contribute/index.htm" tppabs="https://webpack.docschina.org/contribute/">å‚ä¸è´¡çŒ®</a><a class="navigation__item  " href="../../vote/index.htm" tppabs="https://webpack.docschina.org/vote/">æŠ•ç¥¨</a><a class="navigation__item  " href="../../blog/index.htm" tppabs="https://webpack.docschina.org/blog/">åšå®¢</a><a href="javascript:if(confirm('https://docschina.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://docschina.org/'" tppabs="https://docschina.org/" target="_blank" rel="noopener noreferrer" class="navigation__item  ">å°è®°ä¸­æ–‡</a><a href="javascript:if(confirm('https://github.com/webpack/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack'" tppabs="https://github.com/webpack/webpack" target="_blank" rel="noopener noreferrer" title="GitHub Repository" class="navigation__item navigation__item--icon "><svg viewBox="0 0 24 24" aria-hidden="true" fill="#fff" width="16"><path d="M12 2A10 10 0 002 12a10 10 0 006.8 9.5c.5 0 .7-.2.7-.5v-1.7C6.7 20 6.1 18 6.1 18c-.4-1.2-1-1.5-1-1.5-1-.6 0-.6 0-.6 1 0 1.5 1 1.5 1 .9 1.6 2.4 1.1 3 .9 0-.7.3-1.1.6-1.4-2.2-.2-4.6-1-4.6-4.9 0-1.1.4-2 1-2.7 0-.3-.4-1.3.2-2.7 0 0 .8-.2 2.7 1a9.4 9.4 0 015 0c2-1.2 2.8-1 2.8-1 .5 1.4.1 2.4 0 2.7.7.7 1 1.6 1 2.7 0 3.8-2.3 4.7-4.5 5 .4.2.7.8.7 1.8V21c0 .3.2.6.7.5 4-1.3 6.8-5 6.8-9.5A10 10 0 0012 2z"></path></svg></a><a href="javascript:if(confirm('https://twitter.com/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://twitter.com/webpack'" tppabs="https://twitter.com/webpack" target="_blank" rel="noopener noreferrer" title="webpack on Twitter" class="navigation__item navigation__item--icon "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" aria-hidden="true" fill="#fff" width="16"><path d="M28 6.937c-.957.425-1.985.711-3.064.84a5.343 5.343 0 002.345-2.951 10.696 10.696 0 01-3.388 1.295 5.334 5.334 0 00-9.089 4.864A15.143 15.143 0 013.809 5.411a5.321 5.321 0 00-.721 2.683 5.33 5.33 0 002.372 4.439 5.323 5.323 0 01-2.416-.667v.067a5.335 5.335 0 004.279 5.23 5.336 5.336 0 01-2.409.092 5.34 5.34 0 004.983 3.705 10.699 10.699 0 01-6.625 2.284c-.43 0-.855-.025-1.273-.075a15.102 15.102 0 008.177 2.396c9.812 0 15.176-8.128 15.176-15.177 0-.231-.005-.461-.015-.69A10.855 10.855 0 0028 6.937z"></path></svg></a><a href="javascript:if(confirm('https://stackoverflow.com/questions/tagged/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://stackoverflow.com/questions/tagged/webpack'" tppabs="https://stackoverflow.com/questions/tagged/webpack" target="_blank" rel="noopener noreferrer" title="webpack on Stack Overflow" class="navigation__item navigation__item--icon "><svg viewBox="0 0 24 24" aria-hidden="true" fill="#fff" width="16"><path d="M17.4 20.2v-5.4h1.8V22H3v-7.2h1.8v5.4h12.6M6.8 14.3l.3-1.7 8.8 1.8-.3 1.8-8.8-1.9m1.1-4.2l.8-1.6 8.1 3.8-.7 1.6-8.2-3.8m2.3-4l1.1-1.4 7 5.8-1.2 1.4L10 6m4.7-4L20 9l-1.4 1-5.4-7 1.4-1m-8 16.5v-1.8h9v1.8h-9z"></path></svg></a><span class="navigation__item navigation__item--icon"><nav class="dropdown navigation__languages"><button aria-haspopup="true" aria-expanded="false" aria-label="Select language"><img class="dropdown__language" alt="select language" src="../../language-icon.87a028c9bf555eeb5932.svg" tppabs="https://webpack.docschina.org/language-icon.87a028c9bf555eeb5932.svg"/><i aria-hidden="true" class="dropdown__arrow"></i></button><div class="dropdown__list "><ul><li><a href="javascript:if(confirm('https://webpack.js.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://webpack.js.org/'" tppabs="https://webpack.js.org/"><span>English</span></a></li><li><a href="../../index-1.htm" tppabs="https://webpack.docschina.org/"><span lang="zh">ä¸­æ–‡</span></a></li></ul></div></nav></span></nav><div class="navigation-search "><input type="text" class="navigation-search__input" placeholder="Search this site..." value=""/><button aria-label="Hide search box" class="navigation-search__icon navigation-search__clear"><svg viewBox="-137 138 25 25"><g transform="translate(0,-952.36218)"><path d="M-131.3,1094.4c-0.4,0-0.9,0.1-1.2,0.5c-0.7,0.7-0.7,1.7,0,2.4l5.6,5.6l-5.6,5.6c-0.7,0.7-0.7,1.7,0,2.4 c0.7,0.7,1.7,0.7,2.4,0l5.6-5.6l5.6,5.6c0.7,0.7,1.7,0.7,2.4,0c0.7-0.7,0.7-1.7,0-2.4l-5.6-5.6l5.6-5.6c0.7-0.7,0.7-1.7,0-2.4 c-0.7-0.7-1.7-0.7-2.4,0l-5.6,5.6l-5.6-5.6C-130.5,1094.5-130.9,1094.4-131.3,1094.4L-131.3,1094.4z"></path></g></svg></button><button aria-label="Show search box" class="navigation-search__icon navigation-search__search"><svg viewBox="-137 138 25 25"><g><path d="M-114.6,162.6l-7.5-7.5c-0.6-0.6-0.6-1.6,0-2.1l0,0c0.6-0.6,1.6-0.6,2.1,0l7.5,7.5c0.6,0.6,0.6,1.6,0,2.1l0,0 C-113,163.1-114,163.1-114.6,162.6z"></path><path d="M-134.1,140.9c-3.9,3.9-3.9,10.2,0,14.1s10.2,3.9,14.1,0s3.9-10.2,0-14.1S-130.2,137-134.1,140.9z M-122.1,153 c-2.7,2.7-7.1,2.7-9.8,0s-2.7-7.1,0-9.8s7.1-2.7,9.8,0C-119.4,145.9-119.4,150.2-122.1,153z"></path></g></svg></button></div></section><div class="navigation-sub"><div class="navigation-sub__inner"><a class="navigation-sub__link " title="api" content="api" href="../../api/index.htm" tppabs="https://webpack.docschina.org/api/">api</a><a class="navigation-sub__link " title="blog" content="blog" href="../../blog/index.htm" tppabs="https://webpack.docschina.org/blog/">blog</a><a class="navigation-sub__link " title="æ¦‚å¿µ" content="æ¦‚å¿µ" href="../../concepts/index.htm" tppabs="https://webpack.docschina.org/concepts/">æ¦‚å¿µ</a><a class="navigation-sub__link " title="é…ç½®" content="é…ç½®" href="../../configuration/index.htm" tppabs="https://webpack.docschina.org/configuration/">é…ç½®</a><a class="navigation-sub__link " title="æŒ‡å—" content="æŒ‡å—" href="../../guides/index.htm" tppabs="https://webpack.docschina.org/guides/">æŒ‡å—</a><a class="navigation-sub__link " title="loader" content="loader" href="../../loaders/index.htm" tppabs="https://webpack.docschina.org/loaders/">loader</a><a class="navigation-sub__link " title="è¿ç§»" content="è¿ç§»" href="../../migrate/index.htm" tppabs="https://webpack.docschina.org/migrate/">è¿ç§»</a><a class="navigation-sub__link navigation-sub__link--active" title="plugin" content="plugin" href="../index.htm" tppabs="https://webpack.docschina.org/plugins/">plugin</a></div></div></header></div><div class="container site__content"><div class="sponsors"><a href="javascript:if(confirm('https://www.ag-grid.com/?utm_source=webpack&utm_medium=banner&utm_campaign=sponsorship  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.ag-grid.com/?utm_source=webpack&utm_medium=banner&utm_campaign=sponsorship'" tppabs="https://www.ag-grid.com/?utm_source=webpack&utm_medium=banner&utm_campaign=sponsorship" target="_blank" rel="noopener noreferrer" class="sponsors__content"><img src="../../ag-grid-logo.4fe9d34532b2c0821fc9.png" tppabs="https://webpack.docschina.org/ag-grid-logo.4fe9d34532b2c0821fc9.png"/><img class="sponsors__img__webpack" src="../../icon-square-small.85ba630cf0c5f29ae3e3.svg" tppabs="https://webpack.docschina.org/icon-square-small.85ba630cf0c5f29ae3e3.svg"/><div class="sponsors__content-cont">ag-grid is proud to partner with webpack</div></a></div><nav class="sidebar site__sidebar"><div class="sidebar__inner"><div class="sidebar__shields"><a href="javascript:if(confirm('https://github.com/webpack/webpack/releases  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/releases'" tppabs="https://github.com/webpack/webpack/releases"><img alt="webpack shield" src="../../../img.shields.io/github/package-json/v/webpack/webpack.svg-label=webpack&style=flat-square&maxAge=3600" tppabs="https://img.shields.io/github/package-json/v/webpack/webpack.svg?label=webpack&style=flat-square&maxAge=3600"/></a></div><div class="sidebar-item sidebar-item--disabled`"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8.2.2.5.4.8.4.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8-.2-.2-.5-.4-.8-.4z" color="#000" style="isolation:auto;mix-blend-mode:normal"></path></svg><a class="sidebar-item__title sidebar-link__print" href="index.htm" tppabs="https://webpack.docschina.org/plugins/printable/" rel="nofollow noopener noreferrer" alt="Print" title="Print" target="_blank">Print Section<img src="../../icon-print.42ad40feec51e6f5f553.svg" tppabs="https://webpack.docschina.org/icon-print.42ad40feec51e6f5f553.svg"/></a></div><div><div class="sidebar-item  sidebar-item--disabled"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8.2.2.5.4.8.4.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8-.2-.2-.5-.4-.8-.4z" color="#000" style="isolation:auto;mix-blend-mode:normal"></path></svg><a class="sidebar-item__title" href="../index.htm" tppabs="https://webpack.docschina.org/plugins/">Plugins</a></div></div><div><div class="sidebar-item  sidebar-item--disabled"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8.2.2.5.4.8.4.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8-.2-.2-.5-.4-.8-.4z" color="#000" style="isolation:auto;mix-blend-mode:normal"></path></svg><a class="sidebar-item__title" href="../automatic-prefetch-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/automatic-prefetch-plugin/">AutomaticPrefetchPlugin</a></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../babel-minify-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/babel-minify-webpack-plugin/">BabelMinifyWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Install"><a href="../babel-minify-webpack-plugin/index.htm#install" tppabs="https://webpack.docschina.org/plugins/babel-minify-webpack-plugin/#install">Install</a></li><li class="sidebar-item__anchor" title="Usage"><a href="../babel-minify-webpack-plugin/index.htm#usage" tppabs="https://webpack.docschina.org/plugins/babel-minify-webpack-plugin/#usage">Usage</a></li><li class="sidebar-item__anchor" title="Options"><a href="../babel-minify-webpack-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/babel-minify-webpack-plugin/#options">Options</a></li><li class="sidebar-item__anchor" title="Why"><a href="../babel-minify-webpack-plugin/index.htm#why" tppabs="https://webpack.docschina.org/plugins/babel-minify-webpack-plugin/#why">Why</a></li><li class="sidebar-item__anchor" title="Maintainers"><a href="../babel-minify-webpack-plugin/index.htm#maintainers" tppabs="https://webpack.docschina.org/plugins/babel-minify-webpack-plugin/#maintainers">Maintainers</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../banner-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/banner-plugin/">BannerPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Options"><a href="../banner-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/banner-plugin/#options">Options</a></li><li class="sidebar-item__anchor" title="Usage"><a href="../banner-plugin/index.htm#usage" tppabs="https://webpack.docschina.org/plugins/banner-plugin/#usage">Usage</a></li><li class="sidebar-item__anchor" title="Placeholders"><a href="../banner-plugin/index.htm#placeholders" tppabs="https://webpack.docschina.org/plugins/banner-plugin/#placeholders">Placeholders</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../closure-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/closure-webpack-plugin/">ClosureWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Older Versions"><a href="../closure-webpack-plugin/index.htm#older-versions" tppabs="https://webpack.docschina.org/plugins/closure-webpack-plugin/#older-versions">Older Versions</a></li><li class="sidebar-item__anchor" title="Install"><a href="../closure-webpack-plugin/index.htm#install" tppabs="https://webpack.docschina.org/plugins/closure-webpack-plugin/#install">Install</a></li><li class="sidebar-item__anchor" title="Usage example"><a href="../closure-webpack-plugin/index.htm#usage-example" tppabs="https://webpack.docschina.org/plugins/closure-webpack-plugin/#usage-example">Usage example</a></li><li class="sidebar-item__anchor" title="Options"><a href="../closure-webpack-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/closure-webpack-plugin/#options">Options</a></li><li class="sidebar-item__anchor" title="Compiler Flags"><a href="../closure-webpack-plugin/index.htm#compiler-flags" tppabs="https://webpack.docschina.org/plugins/closure-webpack-plugin/#compiler-flags">Compiler Flags</a></li><li class="sidebar-item__anchor" title="Aggressive Bundle Mode"><a href="../closure-webpack-plugin/index.htm#aggressive-bundle-mode" tppabs="https://webpack.docschina.org/plugins/closure-webpack-plugin/#aggressive-bundle-mode">Aggressive Bundle Mode</a></li><li class="sidebar-item__anchor" title="Multiple Output Languages"><a href="../closure-webpack-plugin/index.htm#multiple-output-languages" tppabs="https://webpack.docschina.org/plugins/closure-webpack-plugin/#multiple-output-languages">Multiple Output Languages</a></li><li class="sidebar-item__anchor" title="Other tips for Use"><a href="../closure-webpack-plugin/index.htm#other-tips-for-use" tppabs="https://webpack.docschina.org/plugins/closure-webpack-plugin/#other-tips-for-use">Other tips for Use</a></li><li class="sidebar-item__anchor" title="Options"><a href="../closure-webpack-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/closure-webpack-plugin/#options">Options</a></li><li class="sidebar-item__anchor" title="Maintainers"><a href="../closure-webpack-plugin/index.htm#maintainers" tppabs="https://webpack.docschina.org/plugins/closure-webpack-plugin/#maintainers">Maintainers</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../commons-chunk-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/commons-chunk-plugin/">CommonsChunkPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Options"><a href="../commons-chunk-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/commons-chunk-plugin/#options">Options</a></li><li class="sidebar-item__anchor" title="Examples"><a href="../commons-chunk-plugin/index.htm#examples" tppabs="https://webpack.docschina.org/plugins/commons-chunk-plugin/#examples">Examples</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Commons chunk for entries"><a href="../commons-chunk-plugin/index.htm#commons-chunk-for-entries" tppabs="https://webpack.docschina.org/plugins/commons-chunk-plugin/#commons-chunk-for-entries">Commons chunk for entries</a></li><li class="sidebar-item__anchor" title="Explicit vendor chunk"><a href="../commons-chunk-plugin/index.htm#explicit-vendor-chunk" tppabs="https://webpack.docschina.org/plugins/commons-chunk-plugin/#explicit-vendor-chunk">Explicit vendor chunk</a></li><li class="sidebar-item__anchor" title="Move common modules into the parent chunk"><a href="../commons-chunk-plugin/index.htm#move-common-modules-into-the-parent-chunk" tppabs="https://webpack.docschina.org/plugins/commons-chunk-plugin/#move-common-modules-into-the-parent-chunk">Move common modules into the parent chunk</a></li><li class="sidebar-item__anchor" title="Extra async commons chunk"><a href="../commons-chunk-plugin/index.htm#extra-async-commons-chunk" tppabs="https://webpack.docschina.org/plugins/commons-chunk-plugin/#extra-async-commons-chunk">Extra async commons chunk</a></li><li class="sidebar-item__anchor" title="Passing the minChunks property a function"><a href="../commons-chunk-plugin/index.htm#passing-the-minchunks-property-a-function" tppabs="https://webpack.docschina.org/plugins/commons-chunk-plugin/#passing-the-minchunks-property-a-function">Passing the minChunks property a function</a></li></ul></li><li class="sidebar-item__anchor" title="Manifest file"><a href="../commons-chunk-plugin/index.htm#manifest-file" tppabs="https://webpack.docschina.org/plugins/commons-chunk-plugin/#manifest-file">Manifest file</a></li><li class="sidebar-item__anchor" title="Combining implicit common vendor chunks and manifest file"><a href="../commons-chunk-plugin/index.htm#combining-implicit-common-vendor-chunks-and-manifest-file" tppabs="https://webpack.docschina.org/plugins/commons-chunk-plugin/#combining-implicit-common-vendor-chunks-and-manifest-file">Combining implicit common vendor chunks and manifest file</a></li><li class="sidebar-item__anchor" title="More Examples"><a href="../commons-chunk-plugin/index.htm#more-examples" tppabs="https://webpack.docschina.org/plugins/commons-chunk-plugin/#more-examples">More Examples</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../compression-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/compression-webpack-plugin/">CompressionWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Getting Started"><a href="../compression-webpack-plugin/index.htm#getting-started" tppabs="https://webpack.docschina.org/plugins/compression-webpack-plugin/#getting-started">Getting Started</a></li><li class="sidebar-item__anchor" title="Options"><a href="../compression-webpack-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/compression-webpack-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="test"><a href="../compression-webpack-plugin/index.htm#test" tppabs="https://webpack.docschina.org/plugins/compression-webpack-plugin/#test">test</a></li><li class="sidebar-item__anchor" title="include"><a href="../compression-webpack-plugin/index.htm#include" tppabs="https://webpack.docschina.org/plugins/compression-webpack-plugin/#include">include</a></li><li class="sidebar-item__anchor" title="exclude"><a href="../compression-webpack-plugin/index.htm#exclude" tppabs="https://webpack.docschina.org/plugins/compression-webpack-plugin/#exclude">exclude</a></li><li class="sidebar-item__anchor" title="algorithm"><a href="../compression-webpack-plugin/index.htm#algorithm" tppabs="https://webpack.docschina.org/plugins/compression-webpack-plugin/#algorithm">algorithm</a></li><li class="sidebar-item__anchor" title="compressionOptions"><a href="../compression-webpack-plugin/index.htm#compressionoptions" tppabs="https://webpack.docschina.org/plugins/compression-webpack-plugin/#compressionoptions">compressionOptions</a></li><li class="sidebar-item__anchor" title="threshold"><a href="../compression-webpack-plugin/index.htm#threshold" tppabs="https://webpack.docschina.org/plugins/compression-webpack-plugin/#threshold">threshold</a></li><li class="sidebar-item__anchor" title="minRatio"><a href="../compression-webpack-plugin/index.htm#minratio" tppabs="https://webpack.docschina.org/plugins/compression-webpack-plugin/#minratio">minRatio</a></li><li class="sidebar-item__anchor" title="filename"><a href="../compression-webpack-plugin/index.htm#filename" tppabs="https://webpack.docschina.org/plugins/compression-webpack-plugin/#filename">filename</a></li><li class="sidebar-item__anchor" title="deleteOriginalAssets"><a href="../compression-webpack-plugin/index.htm#deleteoriginalassets" tppabs="https://webpack.docschina.org/plugins/compression-webpack-plugin/#deleteoriginalassets">deleteOriginalAssets</a></li></ul></li><li class="sidebar-item__anchor" title="Examples"><a href="../compression-webpack-plugin/index.htm#examples" tppabs="https://webpack.docschina.org/plugins/compression-webpack-plugin/#examples">Examples</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Using Zopfli"><a href="../compression-webpack-plugin/index.htm#using-zopfli" tppabs="https://webpack.docschina.org/plugins/compression-webpack-plugin/#using-zopfli">Using Zopfli</a></li><li class="sidebar-item__anchor" title="Using Brotli"><a href="../compression-webpack-plugin/index.htm#using-brotli" tppabs="https://webpack.docschina.org/plugins/compression-webpack-plugin/#using-brotli">Using Brotli</a></li><li class="sidebar-item__anchor" title="Multiple compressed versions of assets for different algorithm"><a href="../compression-webpack-plugin/index.htm#multiple-compressed-versions-of-assets-for-different-algorithm" tppabs="https://webpack.docschina.org/plugins/compression-webpack-plugin/#multiple-compressed-versions-of-assets-for-different-algorithm">Multiple compressed versions of assets for different algorithm</a></li></ul></li><li class="sidebar-item__anchor" title="Contributing"><a href="../compression-webpack-plugin/index.htm#contributing" tppabs="https://webpack.docschina.org/plugins/compression-webpack-plugin/#contributing">Contributing</a></li><li class="sidebar-item__anchor" title="License"><a href="../compression-webpack-plugin/index.htm#license" tppabs="https://webpack.docschina.org/plugins/compression-webpack-plugin/#license">License</a></li></ul></div></div><div><div class="sidebar-item  sidebar-item--disabled"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8.2.2.5.4.8.4.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8-.2-.2-.5-.4-.8-.4z" color="#000" style="isolation:auto;mix-blend-mode:normal"></path></svg><a class="sidebar-item__title" href="../context-exclusion-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/context-exclusion-plugin/">ContextExclusionPlugin</a></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../context-replacement-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/context-replacement-plugin/">ContextReplacementPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Usage"><a href="../context-replacement-plugin/index.htm#usage" tppabs="https://webpack.docschina.org/plugins/context-replacement-plugin/#usage">Usage</a></li><li class="sidebar-item__anchor" title="Content Callback"><a href="../context-replacement-plugin/index.htm#content-callback" tppabs="https://webpack.docschina.org/plugins/context-replacement-plugin/#content-callback">Content Callback</a></li><li class="sidebar-item__anchor" title="Other Options"><a href="../context-replacement-plugin/index.htm#other-options" tppabs="https://webpack.docschina.org/plugins/context-replacement-plugin/#other-options">Other Options</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../copy-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/copy-webpack-plugin/">CopyWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Getting Started"><a href="../copy-webpack-plugin/index.htm#getting-started" tppabs="https://webpack.docschina.org/plugins/copy-webpack-plugin/#getting-started">Getting Started</a></li><li class="sidebar-item__anchor" title="Options"><a href="../copy-webpack-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/copy-webpack-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Patterns"><a href="../copy-webpack-plugin/index.htm#patterns" tppabs="https://webpack.docschina.org/plugins/copy-webpack-plugin/#patterns">Patterns</a></li><li class="sidebar-item__anchor" title="noErrorOnMissing"><a href="../copy-webpack-plugin/index.htm#noerroronmissing" tppabs="https://webpack.docschina.org/plugins/copy-webpack-plugin/#noerroronmissing">noErrorOnMissing</a></li><li class="sidebar-item__anchor" title="Options"><a href="../copy-webpack-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/copy-webpack-plugin/#options">Options</a></li><li class="sidebar-item__anchor" title="Examples"><a href="../copy-webpack-plugin/index.htm#examples" tppabs="https://webpack.docschina.org/plugins/copy-webpack-plugin/#examples">Examples</a></li></ul></li><li class="sidebar-item__anchor" title="Contributing"><a href="../copy-webpack-plugin/index.htm#contributing" tppabs="https://webpack.docschina.org/plugins/copy-webpack-plugin/#contributing">Contributing</a></li><li class="sidebar-item__anchor" title="License"><a href="../copy-webpack-plugin/index.htm#license" tppabs="https://webpack.docschina.org/plugins/copy-webpack-plugin/#license">License</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../css-minimizer-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/css-minimizer-webpack-plugin/">CssMinimizerWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Getting Started"><a href="../css-minimizer-webpack-plugin/index.htm#getting-started" tppabs="https://webpack.docschina.org/plugins/css-minimizer-webpack-plugin/#getting-started">Getting Started</a></li><li class="sidebar-item__anchor" title="Options"><a href="../css-minimizer-webpack-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/css-minimizer-webpack-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="test"><a href="../css-minimizer-webpack-plugin/index.htm#test" tppabs="https://webpack.docschina.org/plugins/css-minimizer-webpack-plugin/#test">test</a></li><li class="sidebar-item__anchor" title="include"><a href="../css-minimizer-webpack-plugin/index.htm#include" tppabs="https://webpack.docschina.org/plugins/css-minimizer-webpack-plugin/#include">include</a></li><li class="sidebar-item__anchor" title="exclude"><a href="../css-minimizer-webpack-plugin/index.htm#exclude" tppabs="https://webpack.docschina.org/plugins/css-minimizer-webpack-plugin/#exclude">exclude</a></li><li class="sidebar-item__anchor" title="cache"><a href="../css-minimizer-webpack-plugin/index.htm#cache" tppabs="https://webpack.docschina.org/plugins/css-minimizer-webpack-plugin/#cache">cache</a></li><li class="sidebar-item__anchor" title="cacheKeys"><a href="../css-minimizer-webpack-plugin/index.htm#cachekeys" tppabs="https://webpack.docschina.org/plugins/css-minimizer-webpack-plugin/#cachekeys">cacheKeys</a></li><li class="sidebar-item__anchor" title="parallel"><a href="../css-minimizer-webpack-plugin/index.htm#parallel" tppabs="https://webpack.docschina.org/plugins/css-minimizer-webpack-plugin/#parallel">parallel</a></li><li class="sidebar-item__anchor" title="sourceMap"><a href="../css-minimizer-webpack-plugin/index.htm#sourcemap" tppabs="https://webpack.docschina.org/plugins/css-minimizer-webpack-plugin/#sourcemap">sourceMap</a></li><li class="sidebar-item__anchor" title="minify"><a href="../css-minimizer-webpack-plugin/index.htm#minify" tppabs="https://webpack.docschina.org/plugins/css-minimizer-webpack-plugin/#minify">minify</a></li><li class="sidebar-item__anchor" title="minimizerOptions"><a href="../css-minimizer-webpack-plugin/index.htm#minimizeroptions" tppabs="https://webpack.docschina.org/plugins/css-minimizer-webpack-plugin/#minimizeroptions">minimizerOptions</a></li><li class="sidebar-item__anchor" title="warningsFilter"><a href="../css-minimizer-webpack-plugin/index.htm#warningsfilter" tppabs="https://webpack.docschina.org/plugins/css-minimizer-webpack-plugin/#warningsfilter">warningsFilter</a></li></ul></li><li class="sidebar-item__anchor" title="Examples"><a href="../css-minimizer-webpack-plugin/index.htm#examples" tppabs="https://webpack.docschina.org/plugins/css-minimizer-webpack-plugin/#examples">Examples</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Use sourcemaps"><a href="../css-minimizer-webpack-plugin/index.htm#use-sourcemaps" tppabs="https://webpack.docschina.org/plugins/css-minimizer-webpack-plugin/#use-sourcemaps">Use sourcemaps</a></li><li class="sidebar-item__anchor" title="Remove all comments"><a href="../css-minimizer-webpack-plugin/index.htm#remove-all-comments" tppabs="https://webpack.docschina.org/plugins/css-minimizer-webpack-plugin/#remove-all-comments">Remove all comments</a></li></ul></li><li class="sidebar-item__anchor" title="Contributing"><a href="../css-minimizer-webpack-plugin/index.htm#contributing" tppabs="https://webpack.docschina.org/plugins/css-minimizer-webpack-plugin/#contributing">Contributing</a></li><li class="sidebar-item__anchor" title="License"><a href="../css-minimizer-webpack-plugin/index.htm#license" tppabs="https://webpack.docschina.org/plugins/css-minimizer-webpack-plugin/#license">License</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../define-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/define-plugin/">DefinePlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Usage"><a href="../define-plugin/index.htm#usage" tppabs="https://webpack.docschina.org/plugins/define-plugin/#usage">Usage</a></li><li class="sidebar-item__anchor" title="Feature Flags"><a href="../define-plugin/index.htm#feature-flags" tppabs="https://webpack.docschina.org/plugins/define-plugin/#feature-flags">Feature Flags</a></li><li class="sidebar-item__anchor" title="Service URL"><a href="../define-plugin/index.htm#service-urls" tppabs="https://webpack.docschina.org/plugins/define-plugin/#service-urls">Service URL</a></li><li class="sidebar-item__anchor" title="Runtime values via runtimeValue"><a href="../define-plugin/index.htm#runtime-values-via-runtimevalue" tppabs="https://webpack.docschina.org/plugins/define-plugin/#runtime-values-via-runtimevalue">Runtime values via runtimeValue</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../dll-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/dll-plugin/">DllPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="DllPlugin"><a href="../dll-plugin/index.htm#dllplugin" tppabs="https://webpack.docschina.org/plugins/dll-plugin/#dllplugin">DllPlugin</a></li><li class="sidebar-item__anchor" title="DllReferencePlugin"><a href="../dll-plugin/index.htm#dllreferenceplugin" tppabs="https://webpack.docschina.org/plugins/dll-plugin/#dllreferenceplugin">DllReferencePlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="æ¨¡å¼(Modes)"><a href="../dll-plugin/index.htm#modes" tppabs="https://webpack.docschina.org/plugins/dll-plugin/#modes">æ¨¡å¼(Modes)</a></li></ul></li><li class="sidebar-item__anchor" title="ç”¨æ³•(Usage)"><a href="../dll-plugin/index.htm#usage" tppabs="https://webpack.docschina.org/plugins/dll-plugin/#usage">ç”¨æ³•(Usage)</a></li><li class="sidebar-item__anchor" title="ç¤ºä¾‹"><a href="../dll-plugin/index.htm#examples" tppabs="https://webpack.docschina.org/plugins/dll-plugin/#examples">ç¤ºä¾‹</a></li><li class="sidebar-item__anchor" title="å‚è€ƒ"><a href="../dll-plugin/index.htm#references" tppabs="https://webpack.docschina.org/plugins/dll-plugin/#references">å‚è€ƒ</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Source"><a href="../dll-plugin/index.htm#source" tppabs="https://webpack.docschina.org/plugins/dll-plugin/#source">Source</a></li><li class="sidebar-item__anchor" title="Tests"><a href="../dll-plugin/index.htm#tests" tppabs="https://webpack.docschina.org/plugins/dll-plugin/#tests">Tests</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../environment-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/environment-plugin/">EnvironmentPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Usage"><a href="../environment-plugin/index.htm#usage" tppabs="https://webpack.docschina.org/plugins/environment-plugin/#usage">Usage</a></li><li class="sidebar-item__anchor" title="Usage with default values"><a href="../environment-plugin/index.htm#usage-with-default-values" tppabs="https://webpack.docschina.org/plugins/environment-plugin/#usage-with-default-values">Usage with default values</a></li><li class="sidebar-item__anchor" title="Use Case: Git Version"><a href="../environment-plugin/index.htm#use-case-git-version" tppabs="https://webpack.docschina.org/plugins/environment-plugin/#use-case-git-version">Use Case: Git Version</a></li><li class="sidebar-item__anchor" title="DotenvPlugin"><a href="../environment-plugin/index.htm#dotenvplugin" tppabs="https://webpack.docschina.org/plugins/environment-plugin/#dotenvplugin">DotenvPlugin</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../eslint-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/eslint-webpack-plugin/">EslintWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="About plugin"><a href="../eslint-webpack-plugin/index.htm#about-plugin" tppabs="https://webpack.docschina.org/plugins/eslint-webpack-plugin/#about-plugin">About plugin</a></li><li class="sidebar-item__anchor" title="Migrate from eslint-loader"><a href="../eslint-webpack-plugin/index.htm#migrate-from-eslint-loader" tppabs="https://webpack.docschina.org/plugins/eslint-webpack-plugin/#migrate-from-eslint-loader">Migrate from eslint-loader</a></li><li class="sidebar-item__anchor" title="Install"><a href="../eslint-webpack-plugin/index.htm#install" tppabs="https://webpack.docschina.org/plugins/eslint-webpack-plugin/#install">Install</a></li><li class="sidebar-item__anchor" title="Usage"><a href="../eslint-webpack-plugin/index.htm#usage" tppabs="https://webpack.docschina.org/plugins/eslint-webpack-plugin/#usage">Usage</a></li><li class="sidebar-item__anchor" title="Options"><a href="../eslint-webpack-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/eslint-webpack-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="context"><a href="../eslint-webpack-plugin/index.htm#context" tppabs="https://webpack.docschina.org/plugins/eslint-webpack-plugin/#context">context</a></li><li class="sidebar-item__anchor" title="eslintPath"><a href="../eslint-webpack-plugin/index.htm#eslintpath" tppabs="https://webpack.docschina.org/plugins/eslint-webpack-plugin/#eslintpath">eslintPath</a></li><li class="sidebar-item__anchor" title="extensions"><a href="../eslint-webpack-plugin/index.htm#extensions" tppabs="https://webpack.docschina.org/plugins/eslint-webpack-plugin/#extensions">extensions</a></li><li class="sidebar-item__anchor" title="exclude"><a href="../eslint-webpack-plugin/index.htm#exclude" tppabs="https://webpack.docschina.org/plugins/eslint-webpack-plugin/#exclude">exclude</a></li><li class="sidebar-item__anchor" title="files"><a href="../eslint-webpack-plugin/index.htm#files" tppabs="https://webpack.docschina.org/plugins/eslint-webpack-plugin/#files">files</a></li><li class="sidebar-item__anchor" title="fix"><a href="../eslint-webpack-plugin/index.htm#fix" tppabs="https://webpack.docschina.org/plugins/eslint-webpack-plugin/#fix">fix</a></li><li class="sidebar-item__anchor" title="formatter"><a href="../eslint-webpack-plugin/index.htm#formatter" tppabs="https://webpack.docschina.org/plugins/eslint-webpack-plugin/#formatter">formatter</a></li><li class="sidebar-item__anchor" title="lintDirtyModulesOnly"><a href="../eslint-webpack-plugin/index.htm#lintdirtymodulesonly" tppabs="https://webpack.docschina.org/plugins/eslint-webpack-plugin/#lintdirtymodulesonly">lintDirtyModulesOnly</a></li><li class="sidebar-item__anchor" title="Errors and Warning"><a href="../eslint-webpack-plugin/index.htm#errors-and-warning" tppabs="https://webpack.docschina.org/plugins/eslint-webpack-plugin/#errors-and-warning">Errors and Warning</a></li></ul></li><li class="sidebar-item__anchor" title="Changelog"><a href="../eslint-webpack-plugin/index.htm#changelog" tppabs="https://webpack.docschina.org/plugins/eslint-webpack-plugin/#changelog">Changelog</a></li><li class="sidebar-item__anchor" title="License"><a href="../eslint-webpack-plugin/index.htm#license" tppabs="https://webpack.docschina.org/plugins/eslint-webpack-plugin/#license">License</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../eval-source-map-dev-tool-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/eval-source-map-dev-tool-plugin/">EvalSourceMapDevToolPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="é€‰é¡¹"><a href="../eval-source-map-dev-tool-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/eval-source-map-dev-tool-plugin/#options">é€‰é¡¹</a></li><li class="sidebar-item__anchor" title="ç¤ºä¾‹"><a href="../eval-source-map-dev-tool-plugin/index.htm#examples" tppabs="https://webpack.docschina.org/plugins/eval-source-map-dev-tool-plugin/#examples">ç¤ºä¾‹</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="åŸºæœ¬ç”¨ä¾‹"><a href="../eval-source-map-dev-tool-plugin/index.htm#basic-use-case" tppabs="https://webpack.docschina.org/plugins/eval-source-map-dev-tool-plugin/#basic-use-case">åŸºæœ¬ç”¨ä¾‹</a></li><li class="sidebar-item__anchor" title="æ’é™¤ Vendor(ç¬¬ä¸‰æ–¹åº“) Maps"><a href="../eval-source-map-dev-tool-plugin/index.htm#exclude-vendor-maps" tppabs="https://webpack.docschina.org/plugins/eval-source-map-dev-tool-plugin/#exclude-vendor-maps">æ’é™¤ Vendor(ç¬¬ä¸‰æ–¹åº“) Maps</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../extract-text-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/extract-text-webpack-plugin/">ExtractTextWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Install"><a href="../extract-text-webpack-plugin/index.htm#install" tppabs="https://webpack.docschina.org/plugins/extract-text-webpack-plugin/#install">Install</a></li><li class="sidebar-item__anchor" title="Usage"><a href="../extract-text-webpack-plugin/index.htm#usage" tppabs="https://webpack.docschina.org/plugins/extract-text-webpack-plugin/#usage">Usage</a></li><li class="sidebar-item__anchor" title="Options"><a href="../extract-text-webpack-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/extract-text-webpack-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Extracting Sass or LESS"><a href="../extract-text-webpack-plugin/index.htm#extracting-sass-or-less" tppabs="https://webpack.docschina.org/plugins/extract-text-webpack-plugin/#extracting-sass-or-less">Extracting Sass or LESS</a></li><li class="sidebar-item__anchor" title="url() Resolving"><a href="../extract-text-webpack-plugin/index.htm#url-resolving" tppabs="https://webpack.docschina.org/plugins/extract-text-webpack-plugin/#url-resolving">url() Resolving</a></li><li class="sidebar-item__anchor" title="Modify filename"><a href="../extract-text-webpack-plugin/index.htm#modify-filename" tppabs="https://webpack.docschina.org/plugins/extract-text-webpack-plugin/#modify-filename">Modify filename</a></li></ul></li><li class="sidebar-item__anchor" title="Maintainers"><a href="../extract-text-webpack-plugin/index.htm#maintainers" tppabs="https://webpack.docschina.org/plugins/extract-text-webpack-plugin/#maintainers">Maintainers</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../hashed-module-ids-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/hashed-module-ids-plugin/">HashedModuleIdsPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Options"><a href="../hashed-module-ids-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/hashed-module-ids-plugin/#options">Options</a></li><li class="sidebar-item__anchor" title="Usage"><a href="../hashed-module-ids-plugin/index.htm#usage" tppabs="https://webpack.docschina.org/plugins/hashed-module-ids-plugin/#usage">Usage</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../hot-module-replacement-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/hot-module-replacement-plugin/">HotModuleReplacementPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="åŸºæœ¬ä½¿ç”¨"><a href="../hot-module-replacement-plugin/index.htm#basic-usage" tppabs="https://webpack.docschina.org/plugins/hot-module-replacement-plugin/#basic-usage">åŸºæœ¬ä½¿ç”¨</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../html-minimizer-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/html-minimizer-webpack-plugin/">HtmlMinimizerWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Getting Started"><a href="../html-minimizer-webpack-plugin/index.htm#getting-started" tppabs="https://webpack.docschina.org/plugins/html-minimizer-webpack-plugin/#getting-started">Getting Started</a></li><li class="sidebar-item__anchor" title="Options"><a href="../html-minimizer-webpack-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/html-minimizer-webpack-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="test"><a href="../html-minimizer-webpack-plugin/index.htm#test" tppabs="https://webpack.docschina.org/plugins/html-minimizer-webpack-plugin/#test">test</a></li><li class="sidebar-item__anchor" title="include"><a href="../html-minimizer-webpack-plugin/index.htm#include" tppabs="https://webpack.docschina.org/plugins/html-minimizer-webpack-plugin/#include">include</a></li><li class="sidebar-item__anchor" title="exclude"><a href="../html-minimizer-webpack-plugin/index.htm#exclude" tppabs="https://webpack.docschina.org/plugins/html-minimizer-webpack-plugin/#exclude">exclude</a></li><li class="sidebar-item__anchor" title="parallel"><a href="../html-minimizer-webpack-plugin/index.htm#parallel" tppabs="https://webpack.docschina.org/plugins/html-minimizer-webpack-plugin/#parallel">parallel</a></li><li class="sidebar-item__anchor" title="minify"><a href="../html-minimizer-webpack-plugin/index.htm#minify" tppabs="https://webpack.docschina.org/plugins/html-minimizer-webpack-plugin/#minify">minify</a></li><li class="sidebar-item__anchor" title="minimizerOptions"><a href="../html-minimizer-webpack-plugin/index.htm#minimizeroptions" tppabs="https://webpack.docschina.org/plugins/html-minimizer-webpack-plugin/#minimizeroptions">minimizerOptions</a></li></ul></li><li class="sidebar-item__anchor" title="Contributing"><a href="../html-minimizer-webpack-plugin/index.htm#contributing" tppabs="https://webpack.docschina.org/plugins/html-minimizer-webpack-plugin/#contributing">Contributing</a></li><li class="sidebar-item__anchor" title="License"><a href="../html-minimizer-webpack-plugin/index.htm#license" tppabs="https://webpack.docschina.org/plugins/html-minimizer-webpack-plugin/#license">License</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../html-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/html-webpack-plugin/">HtmlWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Installation"><a href="../html-webpack-plugin/index.htm#installation" tppabs="https://webpack.docschina.org/plugins/html-webpack-plugin/#installation">Installation</a></li><li class="sidebar-item__anchor" title="Basic Usage"><a href="../html-webpack-plugin/index.htm#basic-usage" tppabs="https://webpack.docschina.org/plugins/html-webpack-plugin/#basic-usage">Basic Usage</a></li><li class="sidebar-item__anchor" title="Configuration"><a href="../html-webpack-plugin/index.htm#configuration" tppabs="https://webpack.docschina.org/plugins/html-webpack-plugin/#configuration">Configuration</a></li><li class="sidebar-item__anchor" title="Third party addons"><a href="../html-webpack-plugin/index.htm#third-party-addons" tppabs="https://webpack.docschina.org/plugins/html-webpack-plugin/#third-party-addons">Third party addons</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../i18n-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/i18n-webpack-plugin/">I18nWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="å®‰è£…"><a href="../i18n-webpack-plugin/index.htm#install" tppabs="https://webpack.docschina.org/plugins/i18n-webpack-plugin/#install">å®‰è£…</a></li><li class="sidebar-item__anchor" title="ä½¿ç”¨"><a href="../i18n-webpack-plugin/index.htm#usage" tppabs="https://webpack.docschina.org/plugins/i18n-webpack-plugin/#usage">ä½¿ç”¨</a></li><li class="sidebar-item__anchor" title="æ’ä»¶é…ç½®"><a href="../i18n-webpack-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/i18n-webpack-plugin/#options">æ’ä»¶é…ç½®</a></li><li class="sidebar-item__anchor" title="ç»´æŠ¤è€…"><a href="../i18n-webpack-plugin/index.htm#maintainers" tppabs="https://webpack.docschina.org/plugins/i18n-webpack-plugin/#maintainers">ç»´æŠ¤è€…</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../ignore-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/ignore-plugin/">IgnorePlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Using regular expressions"><a href="../ignore-plugin/index.htm#using-regular-expressions" tppabs="https://webpack.docschina.org/plugins/ignore-plugin/#using-regular-expressions">Using regular expressions</a></li><li class="sidebar-item__anchor" title="Using filter functions"><a href="../ignore-plugin/index.htm#using-filter-functions" tppabs="https://webpack.docschina.org/plugins/ignore-plugin/#using-filter-functions">Using filter functions</a></li><li class="sidebar-item__anchor" title="Example of ignoring Moment Locales"><a href="../ignore-plugin/index.htm#example-of-ignoring-moment-locales" tppabs="https://webpack.docschina.org/plugins/ignore-plugin/#example-of-ignoring-moment-locales">Example of ignoring Moment Locales</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../image-minimizer-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/image-minimizer-webpack-plugin/">ImageMinimizerWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Getting Started"><a href="../image-minimizer-webpack-plugin/index.htm#getting-started" tppabs="https://webpack.docschina.org/plugins/image-minimizer-webpack-plugin/#getting-started">Getting Started</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Standalone Loader"><a href="../image-minimizer-webpack-plugin/index.htm#standalone-loader" tppabs="https://webpack.docschina.org/plugins/image-minimizer-webpack-plugin/#standalone-loader">Standalone Loader</a></li><li class="sidebar-item__anchor" title="Standalone Plugin"><a href="../image-minimizer-webpack-plugin/index.htm#standalone-plugin" tppabs="https://webpack.docschina.org/plugins/image-minimizer-webpack-plugin/#standalone-plugin">Standalone Plugin</a></li></ul></li><li class="sidebar-item__anchor" title="Options"><a href="../image-minimizer-webpack-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/image-minimizer-webpack-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Plugin Options"><a href="../image-minimizer-webpack-plugin/index.htm#plugin-options" tppabs="https://webpack.docschina.org/plugins/image-minimizer-webpack-plugin/#plugin-options">Plugin Options</a></li><li class="sidebar-item__anchor" title="Loader Options"><a href="../image-minimizer-webpack-plugin/index.htm#loader-options" tppabs="https://webpack.docschina.org/plugins/image-minimizer-webpack-plugin/#loader-options">Loader Options</a></li></ul></li><li class="sidebar-item__anchor" title="Additional API"><a href="../image-minimizer-webpack-plugin/index.htm#additional-api" tppabs="https://webpack.docschina.org/plugins/image-minimizer-webpack-plugin/#additional-api">Additional API</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="normalizeConfig(config)"><a href="../image-minimizer-webpack-plugin/index.htm#normalizeconfigconfig" tppabs="https://webpack.docschina.org/plugins/image-minimizer-webpack-plugin/#normalizeconfigconfig">normalizeConfig(config)</a></li></ul></li><li class="sidebar-item__anchor" title="Examples"><a href="../image-minimizer-webpack-plugin/index.htm#examples" tppabs="https://webpack.docschina.org/plugins/image-minimizer-webpack-plugin/#examples">Examples</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Optimize images based on size"><a href="../image-minimizer-webpack-plugin/index.htm#optimize-images-based-on-size" tppabs="https://webpack.docschina.org/plugins/image-minimizer-webpack-plugin/#optimize-images-based-on-size">Optimize images based on size</a></li><li class="sidebar-item__anchor" title="Optimize and transform images to webp"><a href="../image-minimizer-webpack-plugin/index.htm#optimize-and-transform-images-to-webp" tppabs="https://webpack.docschina.org/plugins/image-minimizer-webpack-plugin/#optimize-and-transform-images-to-webp">Optimize and transform images to webp</a></li></ul></li><li class="sidebar-item__anchor" title="Contributing"><a href="../image-minimizer-webpack-plugin/index.htm#contributing" tppabs="https://webpack.docschina.org/plugins/image-minimizer-webpack-plugin/#contributing">Contributing</a></li><li class="sidebar-item__anchor" title="License"><a href="../image-minimizer-webpack-plugin/index.htm#license" tppabs="https://webpack.docschina.org/plugins/image-minimizer-webpack-plugin/#license">License</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../internal-plugins/index.htm" tppabs="https://webpack.docschina.org/plugins/internal-plugins/">Internal webpack plugins</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="environment"><a href="../internal-plugins/index.htm#environment" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#environment">environment</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="NodeEnvironmentPlugin"><a href="../internal-plugins/index.htm#nodeenvironmentplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#nodeenvironmentplugin">NodeEnvironmentPlugin</a></li></ul></li><li class="sidebar-item__anchor" title="compiler"><a href="../internal-plugins/index.htm#compiler" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#compiler">compiler</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="MemoryCachePlugin"><a href="../internal-plugins/index.htm#memorycacheplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#memorycacheplugin">MemoryCachePlugin</a></li><li class="sidebar-item__anchor" title="ProgressPlugin"><a href="../internal-plugins/index.htm#progressplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#progressplugin">ProgressPlugin</a></li><li class="sidebar-item__anchor" title="RecordIdsPlugin"><a href="../internal-plugins/index.htm#recordidsplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#recordidsplugin">RecordIdsPlugin</a></li></ul></li><li class="sidebar-item__anchor" title="entry"><a href="../internal-plugins/index.htm#entry" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#entry">entry</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="SingleEntryPlugin"><a href="../internal-plugins/index.htm#singleentryplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#singleentryplugin">SingleEntryPlugin</a></li><li class="sidebar-item__anchor" title="PrefetchPlugin"><a href="../internal-plugins/index.htm#prefetchplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#prefetchplugin">PrefetchPlugin</a></li></ul></li><li class="sidebar-item__anchor" title="output"><a href="../internal-plugins/index.htm#output" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#output">output</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="JsonpTemplatePlugin"><a href="../internal-plugins/index.htm#jsonptemplateplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#jsonptemplateplugin">JsonpTemplatePlugin</a></li><li class="sidebar-item__anchor" title="NodeTemplatePlugin"><a href="../internal-plugins/index.htm#nodetemplateplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#nodetemplateplugin">NodeTemplatePlugin</a></li><li class="sidebar-item__anchor" title="LibraryTemplatePlugin"><a href="../internal-plugins/index.htm#librarytemplateplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#librarytemplateplugin">LibraryTemplatePlugin</a></li><li class="sidebar-item__anchor" title="WebWorkerTemplatePlugin"><a href="../internal-plugins/index.htm#webworkertemplateplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#webworkertemplateplugin">WebWorkerTemplatePlugin</a></li><li class="sidebar-item__anchor" title="EvalDevToolModulePlugin"><a href="../internal-plugins/index.htm#evaldevtoolmoduleplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#evaldevtoolmoduleplugin">EvalDevToolModulePlugin</a></li><li class="sidebar-item__anchor" title="SourceMapDevToolPlugin"><a href="../internal-plugins/index.htm#sourcemapdevtoolplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#sourcemapdevtoolplugin">SourceMapDevToolPlugin</a></li><li class="sidebar-item__anchor" title="HotModuleReplacementPlugin"><a href="../internal-plugins/index.htm#hotmodulereplacementplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#hotmodulereplacementplugin">HotModuleReplacementPlugin</a></li></ul></li><li class="sidebar-item__anchor" title="source"><a href="../internal-plugins/index.htm#source" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#source">source</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="APIPlugin"><a href="../internal-plugins/index.htm#apiplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#apiplugin">APIPlugin</a></li><li class="sidebar-item__anchor" title="CompatibilityPlugin"><a href="../internal-plugins/index.htm#compatibilityplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#compatibilityplugin">CompatibilityPlugin</a></li><li class="sidebar-item__anchor" title="ConstPlugin"><a href="../internal-plugins/index.htm#constplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#constplugin">ConstPlugin</a></li><li class="sidebar-item__anchor" title="ProvidePlugin"><a href="../internal-plugins/index.htm#provideplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#provideplugin">ProvidePlugin</a></li><li class="sidebar-item__anchor" title="NodeStuffPlugin"><a href="../internal-plugins/index.htm#nodestuffplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#nodestuffplugin">NodeStuffPlugin</a></li><li class="sidebar-item__anchor" title="RequireJsStuffPlugin"><a href="../internal-plugins/index.htm#requirejsstuffplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#requirejsstuffplugin">RequireJsStuffPlugin</a></li><li class="sidebar-item__anchor" title="NodeSourcePlugin"><a href="../internal-plugins/index.htm#nodesourceplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#nodesourceplugin">NodeSourcePlugin</a></li><li class="sidebar-item__anchor" title="NodeTargetPlugin"><a href="../internal-plugins/index.htm#nodetargetplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#nodetargetplugin">NodeTargetPlugin</a></li><li class="sidebar-item__anchor" title="AMDPlugin"><a href="../internal-plugins/index.htm#amdplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#amdplugin">AMDPlugin</a></li><li class="sidebar-item__anchor" title="CommonJsPlugin"><a href="../internal-plugins/index.htm#commonjsplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#commonjsplugin">CommonJsPlugin</a></li><li class="sidebar-item__anchor" title="RequireContextPlugin"><a href="../internal-plugins/index.htm#requirecontextplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#requirecontextplugin">RequireContextPlugin</a></li><li class="sidebar-item__anchor" title="RequireEnsurePlugin"><a href="../internal-plugins/index.htm#requireensureplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#requireensureplugin">RequireEnsurePlugin</a></li><li class="sidebar-item__anchor" title="RequireIncludePlugin"><a href="../internal-plugins/index.htm#requireincludeplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#requireincludeplugin">RequireIncludePlugin</a></li><li class="sidebar-item__anchor" title="DefinePlugin"><a href="../internal-plugins/index.htm#defineplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#defineplugin">DefinePlugin</a></li></ul></li><li class="sidebar-item__anchor" title="optimize"><a href="../internal-plugins/index.htm#optimize" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#optimize">optimize</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="LimitChunkCountPlugin"><a href="../internal-plugins/index.htm#limitchunkcountplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#limitchunkcountplugin">LimitChunkCountPlugin</a></li><li class="sidebar-item__anchor" title="MergeDuplicateChunksPlugin"><a href="../internal-plugins/index.htm#mergeduplicatechunksplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#mergeduplicatechunksplugin">MergeDuplicateChunksPlugin</a></li><li class="sidebar-item__anchor" title="RemoveEmptyChunksPlugin"><a href="../internal-plugins/index.htm#removeemptychunksplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#removeemptychunksplugin">RemoveEmptyChunksPlugin</a></li><li class="sidebar-item__anchor" title="MinChunkSizePlugin"><a href="../internal-plugins/index.htm#minchunksizeplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#minchunksizeplugin">MinChunkSizePlugin</a></li><li class="sidebar-item__anchor" title="FlagIncludedChunksPlugin"><a href="../internal-plugins/index.htm#flagincludedchunksplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#flagincludedchunksplugin">FlagIncludedChunksPlugin</a></li><li class="sidebar-item__anchor" title="RealContentHashPlugin"><a href="../internal-plugins/index.htm#realcontenthashplugin" tppabs="https://webpack.docschina.org/plugins/internal-plugins/#realcontenthashplugin">RealContentHashPlugin</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../json-minimizer-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/json-minimizer-webpack-plugin/">JsonMinimizerWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Getting Started"><a href="../json-minimizer-webpack-plugin/index.htm#getting-started" tppabs="https://webpack.docschina.org/plugins/json-minimizer-webpack-plugin/#getting-started">Getting Started</a></li><li class="sidebar-item__anchor" title="Options"><a href="../json-minimizer-webpack-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/json-minimizer-webpack-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="test"><a href="../json-minimizer-webpack-plugin/index.htm#test" tppabs="https://webpack.docschina.org/plugins/json-minimizer-webpack-plugin/#test">test</a></li><li class="sidebar-item__anchor" title="include"><a href="../json-minimizer-webpack-plugin/index.htm#include" tppabs="https://webpack.docschina.org/plugins/json-minimizer-webpack-plugin/#include">include</a></li><li class="sidebar-item__anchor" title="exclude"><a href="../json-minimizer-webpack-plugin/index.htm#exclude" tppabs="https://webpack.docschina.org/plugins/json-minimizer-webpack-plugin/#exclude">exclude</a></li><li class="sidebar-item__anchor" title="minimizerOptions"><a href="../json-minimizer-webpack-plugin/index.htm#minimizeroptions" tppabs="https://webpack.docschina.org/plugins/json-minimizer-webpack-plugin/#minimizeroptions">minimizerOptions</a></li></ul></li><li class="sidebar-item__anchor" title="Contributing"><a href="../json-minimizer-webpack-plugin/index.htm#contributing" tppabs="https://webpack.docschina.org/plugins/json-minimizer-webpack-plugin/#contributing">Contributing</a></li><li class="sidebar-item__anchor" title="License"><a href="../json-minimizer-webpack-plugin/index.htm#license" tppabs="https://webpack.docschina.org/plugins/json-minimizer-webpack-plugin/#license">License</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../limit-chunk-count-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/limit-chunk-count-plugin/">LimitChunkCountPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Options"><a href="../limit-chunk-count-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/limit-chunk-count-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="maxChunks"><a href="../limit-chunk-count-plugin/index.htm#maxchunks" tppabs="https://webpack.docschina.org/plugins/limit-chunk-count-plugin/#maxchunks">maxChunks</a></li><li class="sidebar-item__anchor" title="minChunkSize"><a href="../limit-chunk-count-plugin/index.htm#minchunksize" tppabs="https://webpack.docschina.org/plugins/limit-chunk-count-plugin/#minchunksize">minChunkSize</a></li></ul></li><li class="sidebar-item__anchor" title="Usage via CLI"><a href="../limit-chunk-count-plugin/index.htm#usage-via-cli" tppabs="https://webpack.docschina.org/plugins/limit-chunk-count-plugin/#usage-via-cli">Usage via CLI</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../min-chunk-size-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/min-chunk-size-plugin/">MinChunkSizePlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Usage via CLI"><a href="../min-chunk-size-plugin/index.htm#usage-via-cli" tppabs="https://webpack.docschina.org/plugins/min-chunk-size-plugin/#usage-via-cli">Usage via CLI</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../mini-css-extract-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/">MiniCssExtractPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="å¿«é€Ÿå¼€å§‹"><a href="../mini-css-extract-plugin/index.htm#getting-started" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#getting-started">å¿«é€Ÿå¼€å§‹</a></li><li class="sidebar-item__anchor" title="é€‰é¡¹"><a href="../mini-css-extract-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#options">é€‰é¡¹</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Plugin Options"><a href="../mini-css-extract-plugin/index.htm#plugin-options" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#plugin-options">Plugin Options</a></li><li class="sidebar-item__anchor" title="Loader é€‰é¡¹"><a href="../mini-css-extract-plugin/index.htm#loader-options" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#loader-options">Loader é€‰é¡¹</a></li><li class="sidebar-item__anchor" title="esModule"><a href="../mini-css-extract-plugin/index.htm#esmodule" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#esmodule">esModule</a></li></ul></li><li class="sidebar-item__anchor" title="ç¤ºä¾‹"><a href="../mini-css-extract-plugin/index.htm#examples" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#examples">ç¤ºä¾‹</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="æœ€ç®€å•çš„ä¾‹å­"><a href="../mini-css-extract-plugin/index.htm#minimal-example" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#minimal-example">æœ€ç®€å•çš„ä¾‹å­</a></li><li class="sidebar-item__anchor" title="é€šç”¨ç”¨ä¾‹"><a href="../mini-css-extract-plugin/index.htm#common-use-case" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#common-use-case">é€šç”¨ç”¨ä¾‹</a></li><li class="sidebar-item__anchor" title="publicPath é€‰é¡¹ä¸ºå‡½æ•°"><a href="../mini-css-extract-plugin/index.htm#the-publicpath-option-as-function" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#the-publicpath-option-as-function">publicPath é€‰é¡¹ä¸ºå‡½æ•°</a></li><li class="sidebar-item__anchor" title="é«˜çº§é…ç½®ç¤ºä¾‹"><a href="../mini-css-extract-plugin/index.htm#advanced-configuration-example" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#advanced-configuration-example">é«˜çº§é…ç½®ç¤ºä¾‹</a></li><li class="sidebar-item__anchor" title="æ¨¡å—çƒ­æ›´æ–° (HMR)"><a href="../mini-css-extract-plugin/index.htm#hot-module-reloading-hmr" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#hot-module-reloading-hmr">æ¨¡å—çƒ­æ›´æ–° (HMR)</a></li><li class="sidebar-item__anchor" title="ç”Ÿäº§æ¨¡å¼å‹ç¼©"><a href="../mini-css-extract-plugin/index.htm#minimizing-for-production" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#minimizing-for-production">ç”Ÿäº§æ¨¡å¼å‹ç¼©</a></li><li class="sidebar-item__anchor" title="ä½¿ç”¨é¢„åŠ è½½æˆ–å†…è” CSS"><a href="../mini-css-extract-plugin/index.htm#using-preloaded-or-inlined-css" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#using-preloaded-or-inlined-css">ä½¿ç”¨é¢„åŠ è½½æˆ–å†…è” CSS</a></li><li class="sidebar-item__anchor" title="æå–æ‰€æœ‰çš„ CSS åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­"><a href="../mini-css-extract-plugin/index.htm#extracting-all-css-in-a-single-file" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#extracting-all-css-in-a-single-file">æå–æ‰€æœ‰çš„ CSS åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­</a></li><li class="sidebar-item__anchor" title="åŸºäºå…¥å£æå– CSS"><a href="../mini-css-extract-plugin/index.htm#extracting-css-based-on-entry" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#extracting-css-based-on-entry">åŸºäºå…¥å£æå– CSS</a></li><li class="sidebar-item__anchor" title="æ–‡ä»¶åé€‰é¡¹è®¾ç½®ä¸ºå‡½æ•°"><a href="../mini-css-extract-plugin/index.htm#filename-option-as-function" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#filename-option-as-function">æ–‡ä»¶åé€‰é¡¹è®¾ç½®ä¸ºå‡½æ•°</a></li><li class="sidebar-item__anchor" title="é•¿æœŸç¼“å­˜"><a href="../mini-css-extract-plugin/index.htm#long-term-caching" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#long-term-caching">é•¿æœŸç¼“å­˜</a></li><li class="sidebar-item__anchor" title="ç§»é™¤ Order è­¦å‘Š"><a href="../mini-css-extract-plugin/index.htm#remove-order-warnings" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#remove-order-warnings">ç§»é™¤ Order è­¦å‘Š</a></li><li class="sidebar-item__anchor" title="åª’ä½“æŸ¥è¯¢æ’ä»¶"><a href="../mini-css-extract-plugin/index.htm#media-query-plugin" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#media-query-plugin">åª’ä½“æŸ¥è¯¢æ’ä»¶</a></li></ul></li><li class="sidebar-item__anchor" title="è´¡çŒ®"><a href="../mini-css-extract-plugin/index.htm#contributing" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#contributing">è´¡çŒ®</a></li><li class="sidebar-item__anchor" title="License"><a href="../mini-css-extract-plugin/index.htm#license" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/#license">License</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../module-concatenation-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/module-concatenation-plugin/">ModuleConcatenationPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Optimization Bailouts"><a href="../module-concatenation-plugin/index.htm#optimization-bailouts" tppabs="https://webpack.docschina.org/plugins/module-concatenation-plugin/#optimization-bailouts">Optimization Bailouts</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Module Grouping Algorithm"><a href="../module-concatenation-plugin/index.htm#module-grouping-algorithm" tppabs="https://webpack.docschina.org/plugins/module-concatenation-plugin/#module-grouping-algorithm">Module Grouping Algorithm</a></li><li class="sidebar-item__anchor" title="Debugging Optimization Bailouts"><a href="../module-concatenation-plugin/index.htm#debugging-optimization-bailouts" tppabs="https://webpack.docschina.org/plugins/module-concatenation-plugin/#debugging-optimization-bailouts">Debugging Optimization Bailouts</a></li></ul></li></ul></div></div><div><div class="sidebar-item  sidebar-item--disabled"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="sidebar-item__toggle" width="15" height="17" fill="#175d96"><path d="M10 3.3c-.6 0-1 .4-1.1 1.1v11.2c0 .3.2.6.4.8.2.2.5.4.8.4.6 0 1-.4 1.1-1.1V4.5c0-.3-.2-.6-.4-.8-.2-.2-.5-.4-.8-.4z" color="#000" style="isolation:auto;mix-blend-mode:normal"></path></svg><a class="sidebar-item__title" href="../NoEmitOnErrorsPlugin/index.htm" tppabs="https://webpack.docschina.org/plugins/NoEmitOnErrorsPlugin/">NoEmitOnErrorsPlugin</a></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../normal-module-replacement-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/normal-module-replacement-plugin/">NormalModuleReplacementPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Basic Example"><a href="../normal-module-replacement-plugin/index.htm#basic-example" tppabs="https://webpack.docschina.org/plugins/normal-module-replacement-plugin/#basic-example">Basic Example</a></li><li class="sidebar-item__anchor" title="Advanced Example"><a href="../normal-module-replacement-plugin/index.htm#advanced-example" tppabs="https://webpack.docschina.org/plugins/normal-module-replacement-plugin/#advanced-example">Advanced Example</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../npm-install-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/npm-install-webpack-plugin/">NpmInstallWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Install"><a href="../npm-install-webpack-plugin/index.htm#install" tppabs="https://webpack.docschina.org/plugins/npm-install-webpack-plugin/#install">Install</a></li><li class="sidebar-item__anchor" title="Usage"><a href="../npm-install-webpack-plugin/index.htm#usage" tppabs="https://webpack.docschina.org/plugins/npm-install-webpack-plugin/#usage">Usage</a></li><li class="sidebar-item__anchor" title="Demo"><a href="../npm-install-webpack-plugin/index.htm#demo" tppabs="https://webpack.docschina.org/plugins/npm-install-webpack-plugin/#demo">Demo</a></li><li class="sidebar-item__anchor" title="Features"><a href="../npm-install-webpack-plugin/index.htm#features" tppabs="https://webpack.docschina.org/plugins/npm-install-webpack-plugin/#features">Features</a></li><li class="sidebar-item__anchor" title="Contributing"><a href="../npm-install-webpack-plugin/index.htm#contributing" tppabs="https://webpack.docschina.org/plugins/npm-install-webpack-plugin/#contributing">Contributing</a></li><li class="sidebar-item__anchor" title="Maintainers"><a href="../npm-install-webpack-plugin/index.htm#maintainers" tppabs="https://webpack.docschina.org/plugins/npm-install-webpack-plugin/#maintainers">Maintainers</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../prefetch-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/prefetch-plugin/">PrefetchPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Options"><a href="../prefetch-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/prefetch-plugin/#options">Options</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../profiling-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/profiling-plugin/">ProfilingPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Options"><a href="../profiling-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/profiling-plugin/#options">Options</a></li><li class="sidebar-item__anchor" title="Usage: default"><a href="../profiling-plugin/index.htm#usage-default" tppabs="https://webpack.docschina.org/plugins/profiling-plugin/#usage-default">Usage: default</a></li><li class="sidebar-item__anchor" title="Usage: custom outputPath"><a href="../profiling-plugin/index.htm#usage-custom-outputpath" tppabs="https://webpack.docschina.org/plugins/profiling-plugin/#usage-custom-outputpath">Usage: custom outputPath</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../progress-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/progress-plugin/">ProgressPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Usage"><a href="../progress-plugin/index.htm#usage" tppabs="https://webpack.docschina.org/plugins/progress-plugin/#usage">Usage</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Providing function"><a href="../progress-plugin/index.htm#providing-function" tppabs="https://webpack.docschina.org/plugins/progress-plugin/#providing-function">Providing function</a></li><li class="sidebar-item__anchor" title="Providing object"><a href="../progress-plugin/index.htm#providing-object" tppabs="https://webpack.docschina.org/plugins/progress-plugin/#providing-object">Providing object</a></li></ul></li><li class="sidebar-item__anchor" title="Percentage calculation"><a href="../progress-plugin/index.htm#percentage-calculation" tppabs="https://webpack.docschina.org/plugins/progress-plugin/#percentage-calculation">Percentage calculation</a></li><li class="sidebar-item__anchor" title="Supported Hooks"><a href="../progress-plugin/index.htm#supported-hooks" tppabs="https://webpack.docschina.org/plugins/progress-plugin/#supported-hooks">Supported Hooks</a></li><li class="sidebar-item__anchor" title="Source"><a href="../progress-plugin/index.htm#source" tppabs="https://webpack.docschina.org/plugins/progress-plugin/#source">Source</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../provide-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/provide-plugin/">ProvidePlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Usage: jQuery"><a href="../provide-plugin/index.htm#usage-jquery" tppabs="https://webpack.docschina.org/plugins/provide-plugin/#usage-jquery">Usage: jQuery</a></li><li class="sidebar-item__anchor" title="Usage: jQuery with Angular 1"><a href="../provide-plugin/index.htm#usage-jquery-with-angular-1" tppabs="https://webpack.docschina.org/plugins/provide-plugin/#usage-jquery-with-angular-1">Usage: jQuery with Angular 1</a></li><li class="sidebar-item__anchor" title="Usage: Lodash Map"><a href="../provide-plugin/index.htm#usage-lodash-map" tppabs="https://webpack.docschina.org/plugins/provide-plugin/#usage-lodash-map">Usage: Lodash Map</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Usage: Vue.js"><a href="../provide-plugin/index.htm#usage-vuejs" tppabs="https://webpack.docschina.org/plugins/provide-plugin/#usage-vuejs">Usage: Vue.js</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../source-map-dev-tool-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/source-map-dev-tool-plugin/">SourceMapDevToolPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Options"><a href="../source-map-dev-tool-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/source-map-dev-tool-plugin/#options">Options</a></li><li class="sidebar-item__anchor" title="Examples"><a href="../source-map-dev-tool-plugin/index.htm#examples" tppabs="https://webpack.docschina.org/plugins/source-map-dev-tool-plugin/#examples">Examples</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Basic Use Case"><a href="../source-map-dev-tool-plugin/index.htm#basic-use-case" tppabs="https://webpack.docschina.org/plugins/source-map-dev-tool-plugin/#basic-use-case">Basic Use Case</a></li><li class="sidebar-item__anchor" title="Exclude Vendor Maps"><a href="../source-map-dev-tool-plugin/index.htm#exclude-vendor-maps" tppabs="https://webpack.docschina.org/plugins/source-map-dev-tool-plugin/#exclude-vendor-maps">Exclude Vendor Maps</a></li><li class="sidebar-item__anchor" title="Host Source Maps Externally"><a href="../source-map-dev-tool-plugin/index.htm#host-source-maps-externally" tppabs="https://webpack.docschina.org/plugins/source-map-dev-tool-plugin/#host-source-maps-externally">Host Source Maps Externally</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../split-chunks-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/">SplitChunksPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Defaults"><a href="../split-chunks-plugin/index.htm#defaults" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#defaults">Defaults</a></li><li class="sidebar-item__anchor" title="Configuration"><a href="../split-chunks-plugin/index.htm#configuration" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#configuration">Configuration</a></li><li class="sidebar-item__anchor" title="optimization.splitChunks"><a href="../split-chunks-plugin/index.htm#optimizationsplitchunks" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#optimizationsplitchunks">optimization.splitChunks</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="splitChunks.automaticNameDelimiter"><a href="../split-chunks-plugin/index.htm#splitchunksautomaticnamedelimiter" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#splitchunksautomaticnamedelimiter">splitChunks.automaticNameDelimiter</a></li><li class="sidebar-item__anchor" title="splitChunks.chunks"><a href="../split-chunks-plugin/index.htm#splitchunkschunks" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#splitchunkschunks">splitChunks.chunks</a></li><li class="sidebar-item__anchor" title="splitChunks.maxAsyncRequests"><a href="../split-chunks-plugin/index.htm#splitchunksmaxasyncrequests" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#splitchunksmaxasyncrequests">splitChunks.maxAsyncRequests</a></li><li class="sidebar-item__anchor" title="splitChunks.maxInitialRequests"><a href="../split-chunks-plugin/index.htm#splitchunksmaxinitialrequests" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#splitchunksmaxinitialrequests">splitChunks.maxInitialRequests</a></li><li class="sidebar-item__anchor" title="splitChunks.defaultSizeTypes"><a href="../split-chunks-plugin/index.htm#splitchunksdefaultsizetypes" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#splitchunksdefaultsizetypes">splitChunks.defaultSizeTypes</a></li><li class="sidebar-item__anchor" title="splitChunks.minChunks"><a href="../split-chunks-plugin/index.htm#splitchunksminchunks" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#splitchunksminchunks">splitChunks.minChunks</a></li><li class="sidebar-item__anchor" title="splitChunks.hidePathInfo"><a href="../split-chunks-plugin/index.htm#splitchunkshidepathinfo" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#splitchunkshidepathinfo">splitChunks.hidePathInfo</a></li><li class="sidebar-item__anchor" title="splitChunks.minSize"><a href="../split-chunks-plugin/index.htm#splitchunksminsize" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#splitchunksminsize">splitChunks.minSize</a></li><li class="sidebar-item__anchor" title="splitChunks.enforceSizeThreshold"><a href="../split-chunks-plugin/index.htm#splitchunksenforcesizethreshold" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#splitchunksenforcesizethreshold">splitChunks.enforceSizeThreshold</a></li><li class="sidebar-item__anchor" title="splitChunks.minRemainingSize"><a href="../split-chunks-plugin/index.htm#splitchunksminremainingsize" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#splitchunksminremainingsize">splitChunks.minRemainingSize</a></li><li class="sidebar-item__anchor" title="splitChunks.maxSize"><a href="../split-chunks-plugin/index.htm#splitchunksmaxsize" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#splitchunksmaxsize">splitChunks.maxSize</a></li><li class="sidebar-item__anchor" title="splitChunks.maxAsyncSize"><a href="../split-chunks-plugin/index.htm#splitchunksmaxasyncsize" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#splitchunksmaxasyncsize">splitChunks.maxAsyncSize</a></li><li class="sidebar-item__anchor" title="splitChunks.maxInitialSize"><a href="../split-chunks-plugin/index.htm#splitchunksmaxinitialsize" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#splitchunksmaxinitialsize">splitChunks.maxInitialSize</a></li><li class="sidebar-item__anchor" title="splitChunks.name"><a href="../split-chunks-plugin/index.htm#splitchunksname" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#splitchunksname">splitChunks.name</a></li><li class="sidebar-item__anchor" title="splitChunks.automaticNamePrefix"><a href="../split-chunks-plugin/index.htm#splitchunksautomaticnameprefix" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#splitchunksautomaticnameprefix">splitChunks.automaticNamePrefix</a></li><li class="sidebar-item__anchor" title="splitChunks.usedExports"><a href="../split-chunks-plugin/index.htm#splitchunksusedexports" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#splitchunksusedexports">splitChunks.usedExports</a></li><li class="sidebar-item__anchor" title="splitChunks.cacheGroups"><a href="../split-chunks-plugin/index.htm#splitchunkscachegroups" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#splitchunkscachegroups">splitChunks.cacheGroups</a></li></ul></li><li class="sidebar-item__anchor" title="Examples"><a href="../split-chunks-plugin/index.htm#examples" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#examples">Examples</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Defaults: Example 1"><a href="../split-chunks-plugin/index.htm#defaults-example-1" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#defaults-example-1">Defaults: Example 1</a></li><li class="sidebar-item__anchor" title="Defaults: Example 2"><a href="../split-chunks-plugin/index.htm#defaults-example-2" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#defaults-example-2">Defaults: Example 2</a></li><li class="sidebar-item__anchor" title="Split Chunks: Example 1"><a href="../split-chunks-plugin/index.htm#split-chunks-example-1" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#split-chunks-example-1">Split Chunks: Example 1</a></li><li class="sidebar-item__anchor" title="Split Chunks: Example 2"><a href="../split-chunks-plugin/index.htm#split-chunks-example-2" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#split-chunks-example-2">Split Chunks: Example 2</a></li><li class="sidebar-item__anchor" title="Split Chunks: Example 3"><a href="../split-chunks-plugin/index.htm#split-chunks-example-3" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/#split-chunks-example-3">Split Chunks: Example 3</a></li></ul></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../stylelint-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/stylelint-webpack-plugin/">StylelintWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Install"><a href="../stylelint-webpack-plugin/index.htm#install" tppabs="https://webpack.docschina.org/plugins/stylelint-webpack-plugin/#install">Install</a></li><li class="sidebar-item__anchor" title="Usage"><a href="../stylelint-webpack-plugin/index.htm#usage" tppabs="https://webpack.docschina.org/plugins/stylelint-webpack-plugin/#usage">Usage</a></li><li class="sidebar-item__anchor" title="Options"><a href="../stylelint-webpack-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/stylelint-webpack-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="configFile"><a href="../stylelint-webpack-plugin/index.htm#configfile" tppabs="https://webpack.docschina.org/plugins/stylelint-webpack-plugin/#configfile">configFile</a></li><li class="sidebar-item__anchor" title="context"><a href="../stylelint-webpack-plugin/index.htm#context" tppabs="https://webpack.docschina.org/plugins/stylelint-webpack-plugin/#context">context</a></li><li class="sidebar-item__anchor" title="files"><a href="../stylelint-webpack-plugin/index.htm#files" tppabs="https://webpack.docschina.org/plugins/stylelint-webpack-plugin/#files">files</a></li><li class="sidebar-item__anchor" title="fix"><a href="../stylelint-webpack-plugin/index.htm#fix" tppabs="https://webpack.docschina.org/plugins/stylelint-webpack-plugin/#fix">fix</a></li><li class="sidebar-item__anchor" title="formatter"><a href="../stylelint-webpack-plugin/index.htm#formatter" tppabs="https://webpack.docschina.org/plugins/stylelint-webpack-plugin/#formatter">formatter</a></li><li class="sidebar-item__anchor" title="lintDirtyModulesOnly"><a href="../stylelint-webpack-plugin/index.htm#lintdirtymodulesonly" tppabs="https://webpack.docschina.org/plugins/stylelint-webpack-plugin/#lintdirtymodulesonly">lintDirtyModulesOnly</a></li><li class="sidebar-item__anchor" title="stylelintPath"><a href="../stylelint-webpack-plugin/index.htm#stylelintpath" tppabs="https://webpack.docschina.org/plugins/stylelint-webpack-plugin/#stylelintpath">stylelintPath</a></li><li class="sidebar-item__anchor" title="Errors and Warning"><a href="../stylelint-webpack-plugin/index.htm#errors-and-warning" tppabs="https://webpack.docschina.org/plugins/stylelint-webpack-plugin/#errors-and-warning">Errors and Warning</a></li></ul></li><li class="sidebar-item__anchor" title="Changelog"><a href="../stylelint-webpack-plugin/index.htm#changelog" tppabs="https://webpack.docschina.org/plugins/stylelint-webpack-plugin/#changelog">Changelog</a></li><li class="sidebar-item__anchor" title="License"><a href="../stylelint-webpack-plugin/index.htm#license" tppabs="https://webpack.docschina.org/plugins/stylelint-webpack-plugin/#license">License</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../terser-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/">TerserWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="å…¥é—¨"><a href="../terser-webpack-plugin/index.htm#getting-started" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/#getting-started">å…¥é—¨</a></li><li class="sidebar-item__anchor" title="å…³äº source maps è¯´æ˜"><a href="../terser-webpack-plugin/index.htm#note-about-source-maps" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/#note-about-source-maps">å…³äº source maps è¯´æ˜</a></li><li class="sidebar-item__anchor" title="é€‰é¡¹"><a href="../terser-webpack-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/#options">é€‰é¡¹</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="test"><a href="../terser-webpack-plugin/index.htm#test" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/#test">test</a></li><li class="sidebar-item__anchor" title="include"><a href="../terser-webpack-plugin/index.htm#include" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/#include">include</a></li><li class="sidebar-item__anchor" title="exclude"><a href="../terser-webpack-plugin/index.htm#exclude" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/#exclude">exclude</a></li><li class="sidebar-item__anchor" title="parallel"><a href="../terser-webpack-plugin/index.htm#parallel" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/#parallel">parallel</a></li><li class="sidebar-item__anchor" title="minify"><a href="../terser-webpack-plugin/index.htm#minify" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/#minify">minify</a></li><li class="sidebar-item__anchor" title="terserOptions"><a href="../terser-webpack-plugin/index.htm#terseroptions" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/#terseroptions">terserOptions</a></li><li class="sidebar-item__anchor" title="extractComments"><a href="../terser-webpack-plugin/index.htm#extractcomments" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/#extractcomments">extractComments</a></li></ul></li><li class="sidebar-item__anchor" title="ç¤ºä¾‹"><a href="../terser-webpack-plugin/index.htm#examples" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/#examples">ç¤ºä¾‹</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="ä¿ç•™æ³¨é‡Š"><a href="../terser-webpack-plugin/index.htm#preserve-comments" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/#preserve-comments">ä¿ç•™æ³¨é‡Š</a></li><li class="sidebar-item__anchor" title="åˆ é™¤æ³¨é‡Š"><a href="../terser-webpack-plugin/index.htm#remove-comments" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/#remove-comments">åˆ é™¤æ³¨é‡Š</a></li><li class="sidebar-item__anchor" title="è‡ªå®šä¹‰å‹ç¼©å‡½æ•°"><a href="../terser-webpack-plugin/index.htm#custom-minify-function" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/#custom-minify-function">è‡ªå®šä¹‰å‹ç¼©å‡½æ•°</a></li></ul></li><li class="sidebar-item__anchor" title="è´¡çŒ®"><a href="../terser-webpack-plugin/index.htm#contributing" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/#contributing">è´¡çŒ®</a></li><li class="sidebar-item__anchor" title="è®¸å¯è¯"><a href="../terser-webpack-plugin/index.htm#license" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/#license">è®¸å¯è¯</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../uglifyjs-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/">UglifyjsWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Requirements"><a href="../uglifyjs-webpack-plugin/index.htm#requirements" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#requirements">Requirements</a></li><li class="sidebar-item__anchor" title="Getting Started"><a href="../uglifyjs-webpack-plugin/index.htm#getting-started" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#getting-started">Getting Started</a></li><li class="sidebar-item__anchor" title="Options"><a href="../uglifyjs-webpack-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#options">Options</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="test"><a href="../uglifyjs-webpack-plugin/index.htm#test" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#test">test</a></li><li class="sidebar-item__anchor" title="include"><a href="../uglifyjs-webpack-plugin/index.htm#include" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#include">include</a></li><li class="sidebar-item__anchor" title="exclude"><a href="../uglifyjs-webpack-plugin/index.htm#exclude" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#exclude">exclude</a></li><li class="sidebar-item__anchor" title="chunkFilter"><a href="../uglifyjs-webpack-plugin/index.htm#chunkfilter" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#chunkfilter">chunkFilter</a></li><li class="sidebar-item__anchor" title="cache"><a href="../uglifyjs-webpack-plugin/index.htm#cache" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#cache">cache</a></li><li class="sidebar-item__anchor" title="cacheKeys"><a href="../uglifyjs-webpack-plugin/index.htm#cachekeys" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#cachekeys">cacheKeys</a></li><li class="sidebar-item__anchor" title="parallel"><a href="../uglifyjs-webpack-plugin/index.htm#parallel" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#parallel">parallel</a></li><li class="sidebar-item__anchor" title="sourceMap"><a href="../uglifyjs-webpack-plugin/index.htm#sourcemap" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#sourcemap">sourceMap</a></li><li class="sidebar-item__anchor" title="minify"><a href="../uglifyjs-webpack-plugin/index.htm#minify" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#minify">minify</a></li><li class="sidebar-item__anchor" title="uglifyOptions"><a href="../uglifyjs-webpack-plugin/index.htm#uglifyoptions" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#uglifyoptions">uglifyOptions</a></li><li class="sidebar-item__anchor" title="extractComments"><a href="../uglifyjs-webpack-plugin/index.htm#extractcomments" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#extractcomments">extractComments</a></li><li class="sidebar-item__anchor" title="warningsFilter"><a href="../uglifyjs-webpack-plugin/index.htm#warningsfilter" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#warningsfilter">warningsFilter</a></li></ul></li><li class="sidebar-item__anchor" title="Examples"><a href="../uglifyjs-webpack-plugin/index.htm#examples" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#examples">Examples</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Cache And Parallel"><a href="../uglifyjs-webpack-plugin/index.htm#cache-and-parallel" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#cache-and-parallel">Cache And Parallel</a></li><li class="sidebar-item__anchor" title="Preserve Comments"><a href="../uglifyjs-webpack-plugin/index.htm#preserve-comments" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#preserve-comments">Preserve Comments</a></li><li class="sidebar-item__anchor" title="Remove Comments"><a href="../uglifyjs-webpack-plugin/index.htm#remove-comments" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#remove-comments">Remove Comments</a></li><li class="sidebar-item__anchor" title="Custom Minify Function"><a href="../uglifyjs-webpack-plugin/index.htm#custom-minify-function" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#custom-minify-function">Custom Minify Function</a></li></ul></li><li class="sidebar-item__anchor" title="Contributing"><a href="../uglifyjs-webpack-plugin/index.htm#contributing" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#contributing">Contributing</a></li><li class="sidebar-item__anchor" title="License"><a href="../uglifyjs-webpack-plugin/index.htm#license" tppabs="https://webpack.docschina.org/plugins/uglifyjs-webpack-plugin/#license">License</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../watch-ignore-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/watch-ignore-plugin/">WatchIgnorePlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Options"><a href="../watch-ignore-plugin/index.htm#options" tppabs="https://webpack.docschina.org/plugins/watch-ignore-plugin/#options">Options</a></li></ul></div></div><div><div class="sidebar-item  "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="15" height="17" fill="#175d96" class="sidebar-item__toggle"><path d="M9.2 4.5l4.5 4.7c.2.2.3.5.3.8s-.1.6-.3.8l-4.5 4.7c-.5.4-1.2.4-1.7 0-.4-.5-.4-1 0-1.6l3.8-3.9-3.8-4c-.4-.4-.4-1 0-1.5.5-.4 1.2-.4 1.7 0z"></path></svg><a class="sidebar-item__title" href="../zopfli-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/zopfli-webpack-plugin/">ZopfliWebpackPlugin</a><ul class="sidebar-item__anchors"><li class="sidebar-item__anchor" title="Install"><a href="../zopfli-webpack-plugin/index.htm#install" tppabs="https://webpack.docschina.org/plugins/zopfli-webpack-plugin/#install">Install</a></li><li class="sidebar-item__anchor" title="Usage"><a href="../zopfli-webpack-plugin/index.htm#usage" tppabs="https://webpack.docschina.org/plugins/zopfli-webpack-plugin/#usage">Usage</a></li><li class="sidebar-item__anchor" title="Arguments"><a href="../zopfli-webpack-plugin/index.htm#arguments" tppabs="https://webpack.docschina.org/plugins/zopfli-webpack-plugin/#arguments">Arguments</a></li><li class="sidebar-item__anchor" title="Option Arguments"><a href="../zopfli-webpack-plugin/index.htm#option-arguments" tppabs="https://webpack.docschina.org/plugins/zopfli-webpack-plugin/#option-arguments">Option Arguments</a></li><li class="sidebar-item__anchor" title="Maintainers"><a href="../zopfli-webpack-plugin/index.htm#maintainers" tppabs="https://webpack.docschina.org/plugins/zopfli-webpack-plugin/#maintainers">Maintainers</a></li></ul></div></div><div class="sidebar__docs-version">You are reading webpack <!-- -->5<!-- --> documentation. Change here to:<ul><li><a rel="nofollow" href="javascript:if(confirm('https://v4.webpack.docschina.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://v4.webpack.docschina.org/'" tppabs="https://v4.webpack.docschina.org/">webpack <!-- -->4<!-- --> documentation</a></li></ul></div></div></nav><section class="page"><div class="page-links"><a class="page-links__link" href="javascript:if(confirm('https://github.com/docschina/webpack.js.org/edit/cn/src/content/plugins/printable.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/docschina/webpack.js.org/edit/cn/src/content/plugins/printable.md'" tppabs="https://github.com/docschina/webpack.js.org/edit/cn/src/content/plugins/printable.md">ç¼–è¾‘æ­¤é¡µ<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="page-links__icon" width="12" fill="#1a6bac"><path d="M17.6 2.4C16 1 15 1.2 15 1.2l-6 6L2.2 14l-1 4.8 4.8-1 6.7-6.8 6-6s.3-1.1-1.1-2.6zm-12 14.8l-1.5.4-.7-1-1-.7.4-1.6.5-.4s.8 0 1.8 1 1 1.8 1 1.8l-.4.5z"></path></svg></a><span class="page-links__gap">|</span><button class="page-links__link page-links__print as-link" title="Print this page">æ‰“å°æ–‡æ¡£<img src="../../icon-print.42ad40feec51e6f5f553.svg" tppabs="https://webpack.docschina.org/icon-print.42ad40feec51e6f5f553.svg" alt=""/></button></div><div class="markdown"><h1>Printable</h1><div><h1 id="AutomaticPrefetchPlugin">AutomaticPrefetchPlugin<a href="#AutomaticPrefetchPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>The <code>AutomaticPrefetchPlugin</code> discovers <strong>all modules</strong> from the previous compilation upfront while watching for changes, trying to improve the incremental build times. Compared to <a href="../prefetch-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/prefetch-plugin/"><code>PrefetchPlugin</code></a> which discovers a <strong>single module</strong> upfront.</p> <blockquote class="warning"> <p>May or may not have a performance benefit since the incremental build times are pretty fast.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>AutomaticPrefetchPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h1 id="BabelMinifyWebpackPlugin">BabelMinifyWebpackPlugin<a href="#BabelMinifyWebpackPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>A Webpack Plugin for <a href="javascript:if(confirm('https://github.com/babel/minify  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/babel/minify'" tppabs="https://github.com/babel/minify">babel-minify</a> - A babel based minifier</p> <h2 id="install">Install <a href="#install" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> babel-minify-webpack-plugin --save-dev</code></pre> <h2 id="usage">Usage <a href="#usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-js"><span class="token comment">// webpack.config.js</span>
<span class="token keyword">const</span> MinifyPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"babel-minify-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token comment">//...,</span>
  output<span class="token operator">:</span> <span class="token comment">//...,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MinifyPlugin</span><span class="token punctuation">(</span>minifyOpts<span class="token punctuation">,</span> pluginOpts<span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre> <h2 id="options">Options <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h4 id="minifyopts">minifyOpts <a href="#minifyopts" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>minifyOpts</code> are passed on to babel-preset-minify. You can find a list of <a href="javascript:if(confirm('https://github.com/babel/minify/tree/master/packages/babel-preset-minify  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/babel/minify/tree/master/packages/babel-preset-minify#options'" tppabs="https://github.com/babel/minify/tree/master/packages/babel-preset-minify#options">all available options</a> in the package directory.</p> <p><code>Default: {}</code></p> <h4 id="pluginopts">pluginOpts <a href="#pluginopts" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li><code>test</code>: Test to match files against. Default: <code>/\.js($|\?)/i</code></li> <li><code>include</code>: Files to <code>include</code>. Default: <code>undefined</code></li> <li><code>exclude</code>: Files to <code>exclude</code>. Default: <code>undefined</code></li> <li><code>comments</code>: Preserve Comments. Default: <code>/^\**!|@preserve|@license|@cc_on/</code>, falsy value to remove all comments. Accepts function, object with property test (regex), and values.</li> <li><code>sourceMap</code>: Configure a sourcemap style. Default: <a href="../../configuration/devtool/index.htm" tppabs="https://webpack.docschina.org/configuration/devtool/">webpackConfig.devtool</a></li> <li><code>parserOpts</code>: Configure babel with special parser options.</li> <li><code>babel</code>: Pass in a custom <code>babel-core</code> instead. Default: <code>require("babel-core")</code></li> <li><code>minifyPreset</code>: Pass in a custom <code>babel-minify</code> preset instead. Default: <code>require("babel-preset-minify")</code></li> </ul> <h2 id="why">Why <a href="#why" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>You can also use <a href="javascript:if(confirm('https://github.com/babel/babel-loader  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/babel/babel-loader'" tppabs="https://github.com/babel/babel-loader">babel-loader</a> for webpack and include <code>minify</code> <a href="javascript:if(confirm('https://github.com/babel/minify  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/babel/minify#babel-preset'" tppabs="https://github.com/babel/minify#babel-preset">as a preset</a> and should be much faster than using this - as babel-minify will operate on smaller file sizes. But then, why does this plugin exist at all? -</p> <ul> <li>A webpack loader operates on single files and the minify preset as a webpack loader is going to consider each file to be executed directly in the browser global scope (by default) and will not optimize some things in the toplevel scope. To enable optimizations to take place in the top level scope of the file, use <code>mangle: { topLevel: true }</code> in minifyOptions.</li> <li>When you exclude <code>node_modules</code> from being run through the babel-loader, babel-minify optimizations are not applied to the excluded files as it doesn't pass through the minifier.</li> <li>When you use the babel-loader with webpack, the code generated by webpack for the module system doesn't go through the loader and is not optimized by babel-minify.</li> <li>A webpack plugin can operate on the entire chunk/bundle output and can optimize the whole bundle and you can see some differences in minified output. But this will be a lot slower as the file size is usually really huge. So there is <a href="javascript:if(confirm('https://github.com/webpack-contrib/babel-minify-webpack-plugin/issues/8  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/babel-minify-webpack-plugin/issues/8'" tppabs="https://github.com/webpack-contrib/babel-minify-webpack-plugin/issues/8">another idea</a> where we can apply some optimizations as a part of the loader and some optimizations in a plugin.</li> </ul> <h2 id="maintainers">Maintainers <a href="#maintainers" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <table> <tbody> <tr> <td align="center"> <img width="150" height="150" src="../../../avatars2.githubusercontent.com/u/294474-v=3&s=150.png" tppabs="https://avatars2.githubusercontent.com/u/294474?v=3&s=150"> <br> <a href="javascript:if(confirm('https://github.com/boopathi  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/boopathi'" tppabs="https://github.com/boopathi">Boopathi Rajaa</a> </td> <td align="center"> <img width="150" height="150" src="../../../avatars3.githubusercontent.com/u/166921-v=3&s=150" tppabs="https://avatars3.githubusercontent.com/u/166921?v=3&s=150"> <br> <a href="javascript:if(confirm('https://github.com/bebraw  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/bebraw'" tppabs="https://github.com/bebraw">Juho VepsÃ¤lÃ¤inen</a> </td> <td align="center"> <img width="150" height="150" src="../../../avatars2.githubusercontent.com/u/8420490-v=3&s=150" tppabs="https://avatars2.githubusercontent.com/u/8420490?v=3&s=150"> <br> <a href="javascript:if(confirm('https://github.com/d3viant0ne  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/d3viant0ne'" tppabs="https://github.com/d3viant0ne">Joshua Wiens</a> </td> <td align="center"> <img width="150" height="150" src="../../../avatars3.githubusercontent.com/u/533616-v=3&s=150" tppabs="https://avatars3.githubusercontent.com/u/533616?v=3&s=150"> <br> <a href="javascript:if(confirm('https://github.com/SpaceK33z  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/SpaceK33z'" tppabs="https://github.com/SpaceK33z">Kees Kluskens</a> </td> <td align="center"> <img width="150" height="150" src="../../../avatars3.githubusercontent.com/u/3408176-v=3&s=150" tppabs="https://avatars3.githubusercontent.com/u/3408176?v=3&s=150"> <br> <a href="javascript:if(confirm('https://github.com/TheLarkInn  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/TheLarkInn'" tppabs="https://github.com/TheLarkInn">Sean Larkin</a> </td> </tr> <tbody> </tbody></tbody></table> <h1 id="BannerPlugin">BannerPlugin<a href="#BannerPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Adds a banner to the top of each generated chunk.</p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span>banner<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="options">Options <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-js"><span class="token punctuation">{</span>
  banner<span class="token operator">:</span> string <span class="token operator">|</span> <span class="token keyword">function</span><span class="token punctuation">,</span> <span class="token comment">// the banner as string or function, it will be wrapped in a comment</span>
  raw<span class="token operator">:</span> boolean<span class="token punctuation">,</span> <span class="token comment">// if true, banner will not be wrapped in a comment</span>
  entryOnly<span class="token operator">:</span> boolean<span class="token punctuation">,</span> <span class="token comment">// if true, the banner will only be added to the entry chunks</span>
  test<span class="token operator">:</span> string <span class="token operator">|</span> RegExp <span class="token operator">|</span> <span class="token punctuation">[</span>string<span class="token punctuation">,</span> RegExp<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Include all modules that pass test assertion.</span>
  include<span class="token operator">:</span> string <span class="token operator">|</span> RegExp <span class="token operator">|</span> <span class="token punctuation">[</span>string<span class="token punctuation">,</span> RegExp<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Include all modules matching any of these conditions.</span>
  exclude<span class="token operator">:</span> string <span class="token operator">|</span> RegExp <span class="token operator">|</span> <span class="token punctuation">[</span>string<span class="token punctuation">,</span> RegExp<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// Exclude all modules matching any of these conditions.</span>
<span class="token punctuation">}</span></code></pre> <h2 id="usage">Usage <a href="#usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-javascript"><span class="token keyword">import</span> webpack <span class="token keyword">from</span> <span class="token string">'webpack'</span><span class="token punctuation">;</span>

<span class="token comment">// string</span>
<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  banner<span class="token operator">:</span> <span class="token string">'hello world'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// function</span>
<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">banner</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">yourVariable</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">yourVariable: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>yourVariable<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="placeholders">Placeholders <a href="#placeholders" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Since webpack 2.5.0, placeholders are evaluated in the <code>banner</code> string:</p> <pre><code class="hljs language-javascript"><span class="token keyword">import</span> webpack <span class="token keyword">from</span> <span class="token string">'webpack'</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  banner<span class="token operator">:</span> <span class="token string">'fullhash:[fullhash], chunkhash:[chunkhash], name:[name], filebase:[filebase], query:[query], file:[file]'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h1 id="ClosureWebpackPlugin">ClosureWebpackPlugin<a href="#ClosureWebpackPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="javascript:if(confirm('https://badge.fury.io/js/closure-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://badge.fury.io/js/closure-webpack-plugin'" tppabs="https://badge.fury.io/js/closure-webpack-plugin"><img src="../../../d25lcipzij17d.cloudfront.net/badge.svg-id=js&type=6&v=2.3.0&x2=0" tppabs="https://badge.fury.io/js/closure-webpack-plugin.svg" alt="npm version"></a></p> <p>This plugin supports the use of Google's Closure Tools with webpack.</p> <p><strong>Note: This is the webpack 4 branch.</strong></p> <p><a href="javascript:if(confirm('https://developers.google.com/closure/compiler/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://developers.google.com/closure/compiler/'" tppabs="https://developers.google.com/closure/compiler/">Closure-Compiler</a> is a full optimizing compiler and transpiler. It offers unmatched optimizations, provides type checking and can easily target transpilation to different versions of ECMASCRIPT.</p> <p><a href="javascript:if(confirm('https://developers.google.com/closure/library/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://developers.google.com/closure/library/'" tppabs="https://developers.google.com/closure/library/">Closure-Library</a> is a utility library designed for full compatibility with Closure-Compiler.</p> <h2 id="older-versions">Older Versions <a href="#older-versions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>For webpack 3 support, see <a href="javascript:if(confirm('https://github.com/webpack-contrib/closure-webpack-plugin/tree/webpack-3  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/closure-webpack-plugin/tree/webpack-3'" tppabs="https://github.com/webpack-contrib/closure-webpack-plugin/tree/webpack-3">https://github.com/webpack-contrib/closure-webpack-plugin/tree/webpack-3</a></p> <h2 id="install">Install <a href="#install" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>You must install both the google-closure-compiler package as well as the closure-webpack-plugin.</p> <pre><code>npm install --save-dev closure-webpack-plugin google-closure-compiler
</code></pre> <h2 id="usage-example">Usage example <a href="#usage-example" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-js"><span class="token keyword">const</span> ClosurePlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'closure-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">ClosurePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>mode<span class="token operator">:</span> <span class="token string">'STANDARD'</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token comment">// compiler flags here</span>
        <span class="token comment">//</span>
        <span class="token comment">// for debugging help, try these:</span>
        <span class="token comment">//</span>
        <span class="token comment">// formatting: 'PRETTY_PRINT'</span>
        <span class="token comment">// debug: true,</span>
        <span class="token comment">// renaming: false</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="options">Options <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li><strong>platform</strong> - <code>native</code>, <code>java</code> or <code>javascript</code>. Controls which version to use of closure-compiler. By default the plugin will attempt to automatically choose the fastest option available. <ul> <li><code>JAVASCRIPT</code> does not require the JVM to be installed. Not all flags are supported.</li> <li><code>JAVA</code> utilizes the jvm. Utilizes multiple threads for parsing and results in faster compilation for large builds.</li> <li><code>NATIVE</code> only available on linux or MacOS. Faster compilation times without requiring a JVM.</li> </ul> </li> <li><strong>mode</strong> - <code>STANDARD</code> (default) or <code>AGGRESSIVE_BUNDLE</code>. Controls how the plugin utilizes the compiler. <ul> <li><code>STANDARD</code> mode, closure-compiler is used as a direct replacement for other minifiers as well as most Babel transformations.</li> <li><code>AGGRESSIVE_BUNDLE</code> mode, the compiler performs additional optimizations of modules to produce a much smaller file</li> </ul> </li> <li><strong>childCompilations</strong> - boolean or function. Defaults to <code>false</code>.</li> </ul> <p>In order to decrease build times, this plugin by default only operates on the main compilation. Plugins such as extract-text-plugin and html-webpack-plugin run as child compilations and usually do not need transpilation or minification. You can enable this for all child compilations by setting this option to <code>true</code>. For specific control, the option can be set to a function which will be passed a compilation object.<br> Example: <code>function(compilation) { return /html-webpack/.test(compilation.name); }</code>.</p> <ul> <li><strong>output</strong> - An object with either <code>filename</code> or <code>chunkfilename</code> properties. Used to override the</li> </ul> <p>output file naming for a particular compilation. See <a href="javascript:if(confirm('https://webpack.js.org/configuration/output/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://webpack.js.org/configuration/output/'" tppabs="https://webpack.js.org/configuration/output/">https://webpack.js.org/configuration/output/</a> for details.</p> <ul> <li><strong>test</strong> - An optional string or regular expression to determine whether a chunk is included in the compilation</li> <li><strong>extraCommandArgs</strong> - Optional string or Array of strings to pass to the google-closure-compiler plugin. Can be used to pass flags to the java process.</li> </ul> <h2 id="compiler-flags">Compiler Flags <a href="#compiler-flags" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The plugin controls several compiler flags. The following flags should not be used in any mode:</p> <ul> <li>module_resolution</li> <li>output_wrapper</li> <li>dependency_mode</li> <li>create_source_map</li> <li>module</li> <li>entry_point</li> </ul> <h2 id="aggressive-bundle-mode">Aggressive Bundle Mode <a href="#aggressive-bundle-mode" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>In this mode, the compiler rewrites CommonJS modules and hoists require calls. Some modules are not compatible with this type of rewriting. In particular, hoisting will cause the following code to execute out of order:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">addPolyfillToFoo</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Aggressive Bundle Mode utilizes a custom runtime in which modules within a chunk file are all included in the same scope. This avoids <a href="javascript:if(confirm('https://nolanlawson.com/2016/08/15/the-cost-of-small-modules/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nolanlawson.com/2016/08/15/the-cost-of-small-modules/'" tppabs="https://nolanlawson.com/2016/08/15/the-cost-of-small-modules/">the cost of small modules</a>.</p> <p>In Aggressive Bundle Mode, a file can only appear in a single output chunk. Use the <a href="../split-chunks-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/">Split Chunks Plugin</a> to split duplicated files into a single output chunk. If a module is utilized by more than one chunk, the plugin will move it up to the first common parent to prevent code duplication.</p> <p>The <a href="../../configuration/optimization/index.htm#optimizationconcatenatemodules" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationconcatenatemodules">concatenatedModules optimization</a> is not compatible with this mode since Closure-Compiler performs an equivalent optimization). The plugin will emit a warning if this optimization is not disabled.</p> <h2 id="multiple-output-languages">Multiple Output Languages <a href="#multiple-output-languages" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>You can add the plugin multiple times. This easily allows you to target multiple output languages. Use <code>ECMASCRIPT_2015</code> for modern browsers and <code>ECMASCRIPT5</code> for older browsers.</p> <p>Use the <code>output</code> option to change the filenames of specific plugin instances.</p> <p>Use <code>&#x3C;script type="module" src="es6_out_path.js"></code> to target modern browsers and <code>&#x3C;script nomodule src="es5_out_path.js"></code> for older browsers.</p> <p>See the <a href="javascript:if(confirm('https://github.com/webpack-contrib/closure-webpack-plugin/tree/master/demo/es5-and-es6  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/closure-webpack-plugin/tree/master/demo/es5-and-es6'" tppabs="https://github.com/webpack-contrib/closure-webpack-plugin/tree/master/demo/es5-and-es6">es5 and es6 output demo</a> for an example.</p> <h2 id="other-tips-for-use">Other tips for Use <a href="#other-tips-for-use" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li>Don't use babel at the same time - closure-compiler is also a transpiler. If you need <a href="javascript:if(confirm('https://github.com/google/closure-compiler/wiki/ECMAScript6  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/google/closure-compiler/wiki/ECMAScript6'" tppabs="https://github.com/google/closure-compiler/wiki/ECMAScript6">features not yet supported</a> by closure-compiler, have babel only target those features. Closure Compiler can transpile async/await - you don't need babel for that functionality either.</li> </ul> <h1 id="closure-library-plugin">Closure Library Plugin <a href="#closure-library-plugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>In order for webpack to recognize <code>goog.require</code>, <code>goog.provide</code>, <code>goog.module</code> and related primitives, a separate plugin is shipped.</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ClosurePlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'closure-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ClosurePlugin<span class="token punctuation">.</span>LibraryPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      closureLibraryBase<span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>
        <span class="token string">'google-closure-library/closure/goog/base'</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
      deps<span class="token operator">:</span> <span class="token punctuation">[</span>
        require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'google-closure-library/closure/goog/deps'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'./public/deps.js'</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>The plugin adds extra functionality to support using Closure Library without Closure Compiler. This is typically used during development mode. When the webpack mode is <code>production</code>, only dependency information is provided to webpack as Closure Compiler will natively recognize the Closure Library primitives.</p> <p>The Closure Library Plugin is only compatible with the <code>AGGRESSIVE_BUNDLE</code> mode of the Closure-Compiler webpack plugin.</p> <h2 id="options">Options <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li> <p><strong>closureLibraryBase</strong> - (optional) string. Path to the base.js file in Closure-Library.</p> </li> <li> <p><strong>deps</strong> - (optional) string or Array. Closures style dependency mappings. Typically generated by the <a href="javascript:if(confirm('https://developers.google.com/closure/library/docs/depswriter  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://developers.google.com/closure/library/docs/depswriter'" tppabs="https://developers.google.com/closure/library/docs/depswriter">depswriter.py script</a> included with Closure-Library.</p> </li> <li> <p><strong>extraDeps</strong> - (optional) Object. Mapping of namespace to file path for closure-library provided namespaces.</p> </li> </ul> <h2 id="maintainers">Maintainers <a href="#maintainers" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <table> <tbody> <tr> <td align="center"> <a href="javascript:if(confirm('https://github.com/ChadKillingsworth  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/ChadKillingsworth'" tppabs="https://github.com/ChadKillingsworth"> <img width="150" alt="" height="150" src="../../../avatars.githubusercontent.com/u/1247639-v=3" tppabs="https://avatars.githubusercontent.com/u/1247639?v=3"> <br> Chad Killingsworth </a> </td> <td align="center"> <a href="javascript:if(confirm('https://github.com/d3viant0ne  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/d3viant0ne'" tppabs="https://github.com/d3viant0ne"> <img width="150" alt="" height="150" src="../../../avatars.githubusercontent.com/u/8420490-v=3.jpg" tppabs="https://avatars.githubusercontent.com/u/8420490?v=3"> <br> Joshua Wiens </a> </td> </tr> <tbody> </tbody></tbody></table> <h1 id="CommonsChunkPlugin">CommonsChunkPlugin<a href="#CommonsChunkPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>The <code>CommonsChunkPlugin</code> is an opt-in feature that creates a separate file (known as a chunk), consisting of common modules shared between multiple entry points.</p> <blockquote class="warning"> <p>The CommonsChunkPlugin has been removed in webpack v4 legato. To learn how chunks are treated in the latest version, check out the <a href="../split-chunks-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/split-chunks-plugin/">SplitChunksPlugin</a>.</p> </blockquote> <p>By separating common modules from bundles, the resulting chunked file can be loaded once initially, and stored in cache for later use. This results in page speed optimizations as the browser can quickly serve the shared code from cache, rather than being forced to load a larger bundle whenever a new page is visited.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="options">Options <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-js"><span class="token punctuation">{</span>
  name<span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token comment">// or</span>
  names<span class="token operator">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// The chunk name of the commons chunk. An existing chunk can be selected by passing a name of an existing chunk.</span>
  <span class="token comment">// If an array of strings is passed this is equal to invoking the plugin multiple times for each chunk name.</span>
  <span class="token comment">// If omitted and `options.async` or `options.children` is set all chunks are used, otherwise `options.filename`</span>
  <span class="token comment">// is used as chunk name.</span>
  <span class="token comment">// When using `options.async` to create common chunks from other async chunks you must specify an entry-point</span>
  <span class="token comment">// chunk name here instead of omitting the `option.name`.</span>

  filename<span class="token operator">:</span> string<span class="token punctuation">,</span>
  <span class="token comment">// The filename template for the commons chunk. Can contain the same placeholders as `output.filename`.</span>
  <span class="token comment">// If omitted the original filename is not modified (usually `output.filename` or `output.chunkFilename`).</span>
  <span class="token comment">// This option is not permitted if you're using `options.async` as well, see below for more details.</span>

  minChunks<span class="token operator">:</span> number<span class="token operator">|</span><span class="token number">Infinity</span><span class="token operator">|</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> count</span><span class="token punctuation">)</span> <span class="token operator">=></span> boolean<span class="token punctuation">,</span>
  <span class="token comment">// The minimum number of chunks which need to contain a module before it's moved into the commons chunk.</span>
  <span class="token comment">// The number must be greater than or equal 2 and lower than or equal to the number of chunks.</span>
  <span class="token comment">// Passing `Infinity` just creates the commons chunk, but moves no modules into it.</span>
  <span class="token comment">// By providing a `function` you can add custom logic. (Defaults to the number of chunks)</span>

  chunks<span class="token operator">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// Select the source chunks by chunk names. The chunk must be a child of the commons chunk.</span>
  <span class="token comment">// If omitted all entry chunks are selected.</span>

  children<span class="token operator">:</span> boolean<span class="token punctuation">,</span>
  <span class="token comment">// If `true` all children of the commons chunk are selected</span>

  deepChildren<span class="token operator">:</span> boolean<span class="token punctuation">,</span>
  <span class="token comment">// If `true` all descendants of the commons chunk are selected</span>

  async<span class="token operator">:</span> boolean<span class="token operator">|</span>string<span class="token punctuation">,</span>
  <span class="token comment">// If `true` a new async commons chunk is created as child of `options.name` and sibling of `options.chunks`.</span>
  <span class="token comment">// It is loaded in parallel with `options.chunks`.</span>
  <span class="token comment">// Instead of using `option.filename`, it is possible to change the name of the output file by providing</span>
  <span class="token comment">// the desired string here instead of `true`.</span>

  minSize<span class="token operator">:</span> number<span class="token punctuation">,</span>
  <span class="token comment">// Minimum size of all common module before a commons chunk is created.</span>
<span class="token punctuation">}</span></code></pre> <h2 id="examples">Examples <a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="commons-chunk-for-entries">Commons chunk for entries <a href="#commons-chunk-for-entries" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Generate an extra chunk, which contains common modules shared between entry points.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'commons'</span><span class="token punctuation">,</span>
  <span class="token comment">// (the commons chunk name)</span>

  filename<span class="token operator">:</span> <span class="token string">'commons.js'</span><span class="token punctuation">,</span>
  <span class="token comment">// (the filename of the commons chunk)</span>

  <span class="token comment">// minChunks: 3,</span>
  <span class="token comment">// (Modules must be shared between 3 entries)</span>

  <span class="token comment">// chunks: ["pageA", "pageB"],</span>
  <span class="token comment">// (Only use these entries)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>You must load the generated chunk before the entry point:</p> <pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>commons.js<span class="token punctuation">"</span></span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>entry.bundle.js<span class="token punctuation">"</span></span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span></code></pre> <h3 id="explicit-vendor-chunk">Explicit vendor chunk <a href="#explicit-vendor-chunk" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Split your code into vendor and application.</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    vendor<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'jquery'</span><span class="token punctuation">,</span> <span class="token string">'other-lib'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    app<span class="token operator">:</span> <span class="token string">'./entry'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token string">'vendor'</span><span class="token punctuation">,</span>
      <span class="token comment">// filename: "vendor.js"</span>
      <span class="token comment">// (Give the chunk a different name)</span>

      minChunks<span class="token operator">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span>
      <span class="token comment">// (with more entries, this ensures that no other module</span>
      <span class="token comment">//  goes into the vendor chunk)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <pre><code class="hljs language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>vendor.js<span class="token punctuation">"</span></span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app.js<span class="token punctuation">"</span></span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span></code></pre> <blockquote class="tip"> <p>In combination with long term caching you may need to use the <a href="javascript:if(confirm('https://github.com/soundcloud/chunk-manifest-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/soundcloud/chunk-manifest-webpack-plugin'" tppabs="https://github.com/soundcloud/chunk-manifest-webpack-plugin"><code>ChunkManifestWebpackPlugin</code></a> to avoid the vendor chunk changes. You should also use records to ensure stable module ids, e.g. using <code>NamedModulesPlugin</code> or <a href="../hashed-module-ids-plugin.htm" tppabs="https://webpack.docschina.org/plugins/hashed-module-ids-plugin"><code>HashedModuleIdsPlugin</code></a>.</p> </blockquote> <h3 id="move-common-modules-into-the-parent-chunk">Move common modules into the parent chunk <a href="#move-common-modules-into-the-parent-chunk" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>With <a href="../../guides/code-splitting.htm" tppabs="https://webpack.docschina.org/guides/code-splitting">Code Splitting</a>, multiple child chunks of an entry chunk can have common dependencies. To prevent duplication these can be moved into the parent. This reduces overall size, but does have a negative effect on the initial load time. If it is expected that users will need to download many sibling chunks, i.e. children of the entry chunk, then this should improve load time overall.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// names: ["app", "subPageA"]</span>
  <span class="token comment">// (choose the chunks, or omit for all chunks)</span>

  children<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// (select all children of chosen chunks)</span>

  <span class="token comment">// minChunks: 3,</span>
  <span class="token comment">// (3 children must share the module before it's moved)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="extra-async-commons-chunk">Extra async commons chunk <a href="#extra-async-commons-chunk" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Similar to the above one, but instead of moving common modules into the parent (which increases initial load time) a new async-loaded additional commons chunk is used. This is automatically downloaded in parallel when the additional chunk is downloaded.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'app'</span><span class="token punctuation">,</span>
  <span class="token comment">// or</span>
  names<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'app'</span><span class="token punctuation">,</span> <span class="token string">'subPageA'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// the name or list of names must match the name or names</span>
  <span class="token comment">// of the entry points that create the async chunks</span>

  children<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// (use all children of the chunk)</span>

  async<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token comment">// (create an async commons chunk)</span>

  minChunks<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token comment">// (3 children must share the module before it's separated)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="passing-the-minchunks-property-a-function">Passing the <code>minChunks</code> property a function <a href="#passing-the-minchunks-property-a-function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>You also have the ability to pass the <code>minChunks</code> property a function. This function is called by the <code>CommonsChunkPlugin</code> and calls the function with <code>module</code> and <code>count</code> arguments.</p> <p>The <code>module</code> argument represents each module in the chunks you have provided via the <code>name</code>/<code>names</code> property. <code>module</code> has the shape of a <a href="../../../github.com/webpack/webpack/blob/master/lib/NormalModule.js" tppabs="https://github.com/webpack/webpack/blob/master/lib/NormalModule.js">NormalModule</a>, which has two particularly useful properties for this use case:</p> <ul> <li><code>module.context</code>: The directory that stores the file. For example: <code>'/my_project/node_modules/example-dependency'</code></li> <li><code>module.resource</code>: The name of the file being processed. For example: <code>'/my_project/node_modules/example-dependency/index.js'</code></li> </ul> <p>The <code>count</code> argument represents how many chunks the <code>module</code> is used in.</p> <p>This option is useful when you want to have fine-grained control over how the CommonsChunk algorithm determines where modules should be moved to.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'my-single-lib-chunk'</span><span class="token punctuation">,</span>
  filename<span class="token operator">:</span> <span class="token string">'my-single-lib-chunk.js'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">minChunks</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> count</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// If module has a path, and inside of the path exists the name "somelib",</span>
    <span class="token comment">// and it is used in 3 separate chunks/entries, then break it out into</span>
    <span class="token comment">// a separate chunk with chunk keyname "my-single-lib-chunk", and filename "my-single-lib-chunk.js"</span>
    <span class="token keyword">return</span> module<span class="token punctuation">.</span>resource <span class="token operator">&#x26;&#x26;</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">somelib</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>resource<span class="token punctuation">)</span> <span class="token operator">&#x26;&#x26;</span> count <span class="token operator">===</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>As seen above, this example allows you to move only one lib to a separate file if and only if all conditions are met inside the function.</p> <p>This concept may be used to obtain implicit common vendor chunks:</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'vendor'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">minChunks</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// this assumes your vendor imports exist in the node_modules directory</span>
    <span class="token keyword">return</span> module<span class="token punctuation">.</span>context <span class="token operator">&#x26;&#x26;</span> module<span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'node_modules'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="manifest-file">Manifest file <a href="#manifest-file" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To extract the webpack bootstrap logic into a separate file, use the <code>CommonsChunkPlugin</code> on a <code>name</code> which is not defined as <code>entry</code>. Commonly the name <code>manifest</code> is used. See the <a href="../../guides/caching.htm" tppabs="https://webpack.docschina.org/guides/caching">caching guide</a> for details.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'manifest'</span><span class="token punctuation">,</span>
  minChunks<span class="token operator">:</span> <span class="token number">Infinity</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="combining-implicit-common-vendor-chunks-and-manifest-file">Combining implicit common vendor chunks and manifest file <a href="#combining-implicit-common-vendor-chunks-and-manifest-file" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Since the <code>vendor</code> and <code>manifest</code> chunk use a different definition for <code>minChunks</code>, you need to invoke the plugin twice:</p> <pre><code class="hljs language-javascript"><span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'vendor'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">minChunks</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> module<span class="token punctuation">.</span>context <span class="token operator">&#x26;&#x26;</span> module<span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'node_modules'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'manifest'</span><span class="token punctuation">,</span>
    minChunks<span class="token operator">:</span> <span class="token number">Infinity</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre> <h2 id="more-examples">More Examples <a href="#more-examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li><a href="javascript:if(confirm('https://github.com/webpack/webpack/tree/master/examples/common-chunk-and-vendor-chunk  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/tree/master/examples/common-chunk-and-vendor-chunk'" tppabs="https://github.com/webpack/webpack/tree/master/examples/common-chunk-and-vendor-chunk">Common and Vendor Chunks</a></li> <li><a href="javascript:if(confirm('https://github.com/webpack/webpack/tree/8b888fedfaeaac6bd39168c0952cc19e6c34280a/examples/multiple-commons-chunks  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/tree/8b888fedfaeaac6bd39168c0952cc19e6c34280a/examples/multiple-commons-chunks'" tppabs="https://github.com/webpack/webpack/tree/8b888fedfaeaac6bd39168c0952cc19e6c34280a/examples/multiple-commons-chunks">Multiple Common Chunks</a></li> <li><a href="javascript:if(confirm('https://github.com/webpack/webpack/tree/8b888fedfaeaac6bd39168c0952cc19e6c34280a/examples/multiple-entry-points-commons-chunk-css-bundle  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/tree/8b888fedfaeaac6bd39168c0952cc19e6c34280a/examples/multiple-entry-points-commons-chunk-css-bundle'" tppabs="https://github.com/webpack/webpack/tree/8b888fedfaeaac6bd39168c0952cc19e6c34280a/examples/multiple-entry-points-commons-chunk-css-bundle">Multiple Entry Points with Commons Chunk</a></li> </ul> <h1 id="CompressionWebpackPlugin">CompressionWebpackPlugin<a href="#CompressionWebpackPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="javascript:if(confirm('https://npmjs.com/package/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://npmjs.com/package/babel-minify-webpack-plugin'" tppabs="https://npmjs.com/package/babel-minify-webpack-plugin"><img src="../../../img.shields.io/npm/v/babel-minify-webpack-plugin.svg" tppabs="https://img.shields.io/npm/v/babel-minify-webpack-plugin.svg" alt="npm"></a> <a href="javascript:if(confirm('https://nodejs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/'" tppabs="https://nodejs.org/"><img src="../../../img.shields.io/node/v/compression-webpack-plugin.svg" tppabs="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="javascript:if(confirm('https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../status.david-dm.org/gh/webpack-contrib/babel-minify-webpack-plugin.svg" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin.svg" alt="deps"></a> <a href="javascript:if(confirm('https://github.com/webpack-contrib/compression-webpack-plugin/actions  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/compression-webpack-plugin/actions'" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="../../../github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="javascript:if(confirm('https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" alt="cover"></a> <a href="javascript:if(confirm('https://gitter.im/webpack/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://gitter.im/webpack/webpack'" tppabs="https://gitter.im/webpack/webpack"><img src="../../../img.shields.io/badge/gitter-webpack-webpack-brightgreen.svg" tppabs="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="javascript:if(confirm('https://packagephobia.now.sh/result?p=compression-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://packagephobia.now.sh/result?p=compression-webpack-plugin'" tppabs="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="../../../badgen.net/packagephobia/install/compression-webpack-plugin" tppabs="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <p>Prepare compressed versions of assets to serve them with Content-Encoding.</p> <h2 id="getting-started">Getting Started <a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To begin, you'll need to install <code>compression-webpack-plugin</code>:</p> <pre><code class="hljs language-console">$ npm install compression-webpack-plugin --save-dev
</code></pre> <p>Then add the plugin to your <code>webpack</code> config. For example:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> CompressionPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"compression-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>And run <code>webpack</code> via your preferred method.</p> <h2 id="options">Options <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="center">Default</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><strong><a href="#test"><code>test</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{String|RegExp|Array&#x3C;String|RegExp>}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Include all assets that pass test assertion</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#include"><code>include</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{String|RegExp|Array&#x3C;String|RegExp>}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Include all assets matching any of these conditions</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#exclude"><code>exclude</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{String|RegExp|Array&#x3C;String|RegExp>}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Exclude all assets matching any of these conditions</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#algorithm"><code>algorithm</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{String|Function}</code></span></td> <td align="center" data-th="Default"><span><code>gzip</code></span></td> <td align="left" data-th="Description"><span>The compression algorithm/function</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#compressionoptions"><code>compressionOptions</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{Object}</code></span></td> <td align="center" data-th="Default"><span>maximum available compression level, for gzip: <code>{ level: 9 }</code></span></td> <td align="left" data-th="Description"><span>Compression options for <code>algorithm</code></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#threshold"><code>threshold</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{Number}</code></span></td> <td align="center" data-th="Default"><span><code>0</code></span></td> <td align="left" data-th="Description"><span>Only assets bigger than this size are processed (in bytes)</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#minratio"><code>minRatio</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{Number}</code></span></td> <td align="center" data-th="Default"><span><code>0.8</code></span></td> <td align="left" data-th="Description"><span>Only assets that compress better than this ratio are processed (<code>minRatio = Compressed Size / Original Size</code>)</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#filename"><code>filename</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{String|Function}</code></span></td> <td align="center" data-th="Default"><span><code>[path][base].gz</code></span></td> <td align="left" data-th="Description"><span>The target asset filename</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#deleteoriginalassets"><code>deleteOriginalAssets</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{Boolean|'keep-source-map'}</code></span></td> <td align="center" data-th="Default"><span><code>false</code></span></td> <td align="left" data-th="Description"><span>Whether to delete the original assets or not</span></td> </tr> </tbody> </table> <h3 id="test"><code>test</code> <a href="#test" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Include all assets that pass test assertion.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js(\?.*)?$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="include"><code>include</code> <a href="#include" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Include all assets matching any of these conditions.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      include<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/includes</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="exclude"><code>exclude</code> <a href="#exclude" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Exclude all assets matching any of these conditions.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/excludes</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="algorithm"><code>algorithm</code> <a href="#algorithm" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|Function</code> Default: <code>gzip</code></p> <p>The compression algorithm/function.</p> <blockquote> <p>â„¹ï¸ If you use custom function for the <code>algorithm</code> option, the default value of the <code>compressionOptions</code> option is <code>{}</code>.</p> </blockquote> <h4 id="string"><code>String</code> <a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>The algorithm is taken from <a href="javascript:if(confirm('https://nodejs.org/api/zlib.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/api/zlib.html'" tppabs="https://nodejs.org/api/zlib.html">zlib</a>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      algorithm<span class="token operator">:</span> <span class="token string">"gzip"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="function"><code>Function</code> <a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Allow to specify a custom compression function.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function">algorithm</span><span class="token punctuation">(</span><span class="token parameter">input<span class="token punctuation">,</span> compressionOptions<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">compressionFunction</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> compressionOptions<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="compressionoptions"><code>compressionOptions</code> <a href="#compressionoptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Object</code> Default: <code>{ level: 9 }</code></p> <p>Compression options for <code>algorithm</code>.</p> <p>You can find all options here <a href="javascript:if(confirm('https://nodejs.org/api/zlib.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/api/zlib.html#zlib_class_options'" tppabs="https://nodejs.org/api/zlib.html#zlib_class_options">zlib</a>.</p> <blockquote> <p>â„¹ï¸ If you use custom function for the <code>algorithm</code> option, the default value is <code>{}</code>.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      compressionOptions<span class="token operator">:</span> <span class="token punctuation">{</span> level<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="threshold"><code>threshold</code> <a href="#threshold" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Number</code> Default: <code>0</code></p> <p>Only assets bigger than this size are processed. In bytes.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      threshold<span class="token operator">:</span> <span class="token number">8192</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minratio"><code>minRatio</code> <a href="#minratio" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Number</code> Default: <code>0.8</code></p> <p>Only assets that compress better than this ratio are processed (<code>minRatio = Compressed Size / Original Size</code>). Example: you have <code>image.png</code> file with 1024b size, compressed version of file has 768b size, so <code>minRatio</code> equal <code>0.75</code>. In other words assets will be processed when the <code>Compressed Size / Original Size</code> value less <code>minRatio</code> value.</p> <p>You can use <code>1</code> value to process assets that are smaller than the original.</p> <p>Use a value of <code>Infinity</code> to process all assets even if they are larger than the original size or their original size is <code>0</code> bytes (useful when you are pre-zipping all assets for AWS).</p> <p>Use a value of <code>Number.MAX_SAFE_INTEGER</code> to process all assets even if they are larger than the original size, excluding assets with their original size is <code>0</code> bytes.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// Compress all assets, including files with `0` bytes size</span>
      <span class="token comment">// minRatio: Infinity</span>

      <span class="token comment">// Compress all assets, excluding files with `0` bytes size</span>
      <span class="token comment">// minRatio: Number.MAX_SAFE_INTEGER</span>

      minRatio<span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="filename"><code>filename</code> <a href="#filename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|Function</code> Default: <code>"[path][base].gz"</code></p> <p>The target asset filename.</p> <h4 id="string"><code>String</code> <a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>For example we have <code>assets/images/image.png?foo=bar#hash</code>:</p> <p><code>[path]</code> is replaced with the directories to the original asset, included trailing <code>/</code> (<code>assets/images/</code>).</p> <p><code>[file]</code> is replaced with the path of original asset (<code>assets/images/image.png</code>).</p> <p><code>[base]</code> is replaced with the base (<code>[name]</code> + <code>[ext]</code>) of the original asset (<code>image.png</code>).</p> <p><code>[name]</code> is replaced with the name of the original asset (<code>image</code>).</p> <p><code>[ext]</code> is replaced with the extension of the original asset, included <code>.</code> (<code>.png</code>).</p> <p><code>[query]</code> is replaced with the query of the original asset, included <code>?</code> (<code>?foo=bar</code>).</p> <p><code>[fragment]</code> is replaced with the fragment (in the concept of URL it is called <code>hash</code>) of the original asset (<code>#hash</code>).</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">"[path][base].gz"</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="function"><code>Function</code> <a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function">filename</span><span class="token punctuation">(</span><span class="token parameter">pathData</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// The `pathData` argument contains all placeholders - `path`/`name`/`ext`/etc</span>
        <span class="token comment">// Available properties described above, for the `String` notation</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.svg$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>pathData<span class="token punctuation">.</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token string">"assets/svg/[path][base].gz"</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token string">"assets/js/[path][base].gz"</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="deleteoriginalassets"><code>deleteOriginalAssets</code> <a href="#deleteoriginalassets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Boolean | 'keep-source-map'</code> Default: <code>false</code></p> <p>Whether to delete the original assets or not.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      deleteOriginalAssets<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>To exclude sourcemaps from compression</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.map$</span><span class="token regex-delimiter">/</span></span>
      deleteOriginalAssets<span class="token operator">:</span> <span class="token string">'keep-source-map'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="examples">Examples <a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="using-zopfli">Using Zopfli <a href="#using-zopfli" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Prepare compressed versions of assets using <code>zopfli</code> library.</p> <blockquote> <p>â„¹ï¸ <code>@gfx/zopfli</code> require minimum <code>8</code> version of <code>node</code>.</p> </blockquote> <p>To begin, you'll need to install <code>@gfx/zopfli</code>:</p> <pre><code class="hljs language-console">$ npm install @gfx/zopfli --save-dev
</code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> zopfli <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"@gfx/zopfli"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      compressionOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        numiterations<span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token function">algorithm</span><span class="token punctuation">(</span><span class="token parameter">input<span class="token punctuation">,</span> compressionOptions<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> zopfli<span class="token punctuation">.</span><span class="token function">gzip</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> compressionOptions<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="using-brotli">Using Brotli <a href="#using-brotli" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><a href="javascript:if(confirm('https://en.wikipedia.org/wiki/Brotli  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://en.wikipedia.org/wiki/Brotli'" tppabs="https://en.wikipedia.org/wiki/Brotli">Brotli</a> is a compression algorithm originally developed by Google, and offers compression superior to gzip.</p> <p>Node 10.16.0 and later has <a href="javascript:if(confirm('https://nodejs.org/api/zlib.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/api/zlib.html#zlib_zlib_createbrotlicompress_options'" tppabs="https://nodejs.org/api/zlib.html#zlib_zlib_createbrotlicompress_options">native support</a> for Brotli compression in its zlib module.</p> <p>We can take advantage of this built-in support for Brotli in Node 10.16.0 and later by just passing in the appropriate <code>algorithm</code> to the CompressionPlugin:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> zlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"zlib"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">"[path][base].br"</span><span class="token punctuation">,</span>
      algorithm<span class="token operator">:</span> <span class="token string">"brotliCompress"</span><span class="token punctuation">,</span>
      test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(js|css|html|svg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      compressionOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        params<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token punctuation">[</span>zlib<span class="token punctuation">.</span>constants<span class="token punctuation">.</span><span class="token constant">BROTLI_PARAM_QUALITY</span><span class="token punctuation">]</span><span class="token operator">:</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>webpack<span class="token operator">-</span>contrib<span class="token operator">/</span>compression<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin<span class="token operator">/</span>blob<span class="token operator">/</span>master<span class="token operator">/</span><span class="token number">11</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      threshold<span class="token operator">:</span> <span class="token number">10240</span><span class="token punctuation">,</span>
      minRatio<span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span>
      deleteOriginalAssets<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>Note</strong> Brotliâ€™s <code>BROTLI_PARAM_QUALITY</code> option is functionally equivalent to zlibâ€™s <code>level</code> option. You can find all Brotliâ€™s options in <a href="javascript:if(confirm('https://nodejs.org/api/zlib.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/api/zlib.html#zlib_class_brotlioptions'" tppabs="https://nodejs.org/api/zlib.html#zlib_class_brotlioptions">the relevant part of the zlib module documentation</a>.</p> <h3 id="multiple-compressed-versions-of-assets-for-different-algorithm">Multiple compressed versions of assets for different algorithm <a href="#multiple-compressed-versions-of-assets-for-different-algorithm" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> zlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"zlib"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">"[path][base].gz"</span><span class="token punctuation">,</span>
      algorithm<span class="token operator">:</span> <span class="token string">"gzip"</span><span class="token punctuation">,</span>
      test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$|\.css$|\.html$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      threshold<span class="token operator">:</span> <span class="token number">10240</span><span class="token punctuation">,</span>
      minRatio<span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">"[path][base].br"</span><span class="token punctuation">,</span>
      algorithm<span class="token operator">:</span> <span class="token string">"brotliCompress"</span><span class="token punctuation">,</span>
      test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(js|css|html|svg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      compressionOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        params<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token punctuation">[</span>zlib<span class="token punctuation">.</span>constants<span class="token punctuation">.</span><span class="token constant">BROTLI_PARAM_QUALITY</span><span class="token punctuation">]</span><span class="token operator">:</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>webpack<span class="token operator">-</span>contrib<span class="token operator">/</span>compression<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin<span class="token operator">/</span>blob<span class="token operator">/</span>master<span class="token operator">/</span><span class="token number">11</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      threshold<span class="token operator">:</span> <span class="token number">10240</span><span class="token punctuation">,</span>
      minRatio<span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="contributing">Contributing <a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/compression-webpack-plugin/blob/master/.github/CONTRIBUTING.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/compression-webpack-plugin/blob/master/.github/CONTRIBUTING.md'" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="license">License <a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/compression-webpack-plugin/blob/master/LICENSE  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/compression-webpack-plugin/blob/master/LICENSE'" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="ContextExclusionPlugin">ContextExclusionPlugin<a href="#ContextExclusionPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><em>Context</em> refers to a <a href="../../guides/dependency-management/index.htm#require-with-expression" tppabs="https://webpack.docschina.org/guides/dependency-management/#require-with-expression">require with an expression</a> such as <code>require('./locale/' + name + '.json')</code>.</p> <p>The <code>ContextExclusionPlugin</code> allows you to exclude context. Provide RegExp as an argument when initializing the Plugin to exclude all context that matches it.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ContextExclusionPlugin</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">dont</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h1 id="ContextReplacementPlugin">ContextReplacementPlugin<a href="#ContextReplacementPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><em>Context</em> refers to a <a href="../../guides/dependency-management/index.htm#require-with-expression" tppabs="https://webpack.docschina.org/guides/dependency-management/#require-with-expression">require with an expression</a> such as <code>require('./locale/' + name + '.json')</code>. When encountering such an expression, webpack infers the directory (<code>'./locale/'</code>) and a regular expression (<code>/^.*\.json$/</code>). Since the <code>name</code> is not known at compile time, webpack includes every file as module in the bundle.</p> <p>The <code>ContextReplacementPlugin</code> allows you to override the inferred information. There are various ways to configure the plugin:</p> <h2 id="usage">Usage <a href="#usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-typescript"><span class="token keyword">new</span> <span class="token class-name">webpack</span><span class="token punctuation">.</span><span class="token function">ContextReplacementPlugin</span><span class="token punctuation">(</span>
  resourceRegExp<span class="token operator">:</span> RegExp<span class="token punctuation">,</span>
  newContentResource<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  newContentRecursive<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>
  newContentRegExp<span class="token operator">?</span><span class="token operator">:</span> RegExp
<span class="token punctuation">)</span></code></pre> <p>If the resource (directory) matches <code>resourceRegExp</code>, the plugin replaces the default resource, recursive flag or generated regular expression with <code>newContentResource</code>, <code>newContentRecursive</code> or <code>newContextRegExp</code> respectively. If <code>newContentResource</code> is relative, it is resolved relative to the previous resource.</p> <p>Here's a small example to restrict module usage:</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ContextReplacementPlugin</span><span class="token punctuation">(</span>
  <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">moment[/\\]locale$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">de|fr|hu</span><span class="token regex-delimiter">/</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>The <code>moment/locale</code> context is restricted to files matching <code>/de|fr|hu/</code>. Thus only those locales are included (see <a href="javascript:if(confirm('https://github.com/moment/moment/issues/2373  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/moment/moment/issues/2373'" tppabs="https://github.com/moment/moment/issues/2373">this issue</a> for more information).</p> <h2 id="content-callback">Content Callback <a href="#content-callback" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-typescript"><span class="token keyword">new</span> <span class="token class-name">webpack</span><span class="token punctuation">.</span><span class="token function">ContextReplacementPlugin</span><span class="token punctuation">(</span>
  resourceRegExp<span class="token operator">:</span> RegExp<span class="token punctuation">,</span>
  <span class="token function-variable function">newContentCallback</span><span class="token operator">:</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>The <code>newContentCallback</code> function is given a <a href="../../api/plugins/module-factories/index.htm" tppabs="https://webpack.docschina.org/api/plugins/module-factories/"><code>data</code> object of the <code>ContextModuleFactory</code></a> and is expected to overwrite the <code>request</code> attribute of the supplied object.</p> <p>Using this callback we can dynamically redirect requests to a new location:</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ContextReplacementPlugin</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\.\/locale$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/moment\/</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>context<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

  Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    regExp<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\.\/\w+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    request<span class="token operator">:</span> <span class="token string">'../../locale'</span> <span class="token comment">// resolved relatively</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="other-options">Other Options <a href="#other-options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The <code>newContentResource</code> and <code>newContentCreateContextMap</code> parameters are also available:</p> <pre><code class="hljs language-typescript"><span class="token keyword">new</span> <span class="token class-name">webpack</span><span class="token punctuation">.</span><span class="token function">ContextReplacementPlugin</span><span class="token punctuation">(</span>
  resourceRegExp<span class="token operator">:</span> RegExp<span class="token punctuation">,</span>
  newContentResource<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  newContentCreateContextMap<span class="token operator">:</span> object <span class="token comment">// mapping runtime-request (userRequest) to compile-time-request (request)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>These two parameters can be used together to redirect requests in a more targeted way. The <code>newContentCreateContextMap</code> allows you to map runtime requests to compile requests in the form of an object:</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">ContextReplacementPlugin</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">selector</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">'./folder'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token string">'./request'</span><span class="token operator">:</span> <span class="token string">'./request'</span><span class="token punctuation">,</span>
  <span class="token string">'./other-request'</span><span class="token operator">:</span> <span class="token string">'./new-request'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h1 id="CopyWebpackPlugin">CopyWebpackPlugin<a href="#CopyWebpackPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="javascript:if(confirm('https://npmjs.com/package/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://npmjs.com/package/babel-minify-webpack-plugin'" tppabs="https://npmjs.com/package/babel-minify-webpack-plugin"><img src="../../../img.shields.io/npm/v/babel-minify-webpack-plugin.svg" tppabs="https://img.shields.io/npm/v/babel-minify-webpack-plugin.svg" alt="npm"></a> <a href="javascript:if(confirm('https://nodejs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/'" tppabs="https://nodejs.org/"><img src="../../../img.shields.io/node/v/compression-webpack-plugin.svg" tppabs="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="javascript:if(confirm('https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../status.david-dm.org/gh/webpack-contrib/babel-minify-webpack-plugin.svg" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin.svg" alt="deps"></a> <a href="javascript:if(confirm('https://github.com/webpack-contrib/compression-webpack-plugin/actions  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/compression-webpack-plugin/actions'" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="../../../github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="javascript:if(confirm('https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" alt="cover"></a> <a href="javascript:if(confirm('https://gitter.im/webpack/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://gitter.im/webpack/webpack'" tppabs="https://gitter.im/webpack/webpack"><img src="../../../img.shields.io/badge/gitter-webpack-webpack-brightgreen.svg" tppabs="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="javascript:if(confirm('https://packagephobia.now.sh/result?p=compression-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://packagephobia.now.sh/result?p=compression-webpack-plugin'" tppabs="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="../../../badgen.net/packagephobia/install/compression-webpack-plugin" tppabs="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <p>Copies individual files or entire directories, which already exist, to the build directory.</p> <h2 id="getting-started">Getting Started <a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To begin, you'll need to install <code>copy-webpack-plugin</code>:</p> <pre><code class="hljs language-console">$ npm install copy-webpack-plugin --save-dev
</code></pre> <p>Then add the plugin to your <code>webpack</code> config. For example:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> CopyPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"copy-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"source"</span><span class="token punctuation">,</span> to<span class="token operator">:</span> <span class="token string">"dest"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"other"</span><span class="token punctuation">,</span> to<span class="token operator">:</span> <span class="token string">"public"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote> <p>â„¹ï¸ <code>webpack-copy-plugin</code> is not designed to copy files generated from the build process; rather, it is to copy files that already exist in the source tree, as part of the build process.</p> </blockquote> <blockquote> <p>â„¹ï¸ If you want <code>webpack-dev-server</code> to write files to the output directory during development, you can force it with the <a href="javascript:if(confirm('https://github.com/webpack/webpack-dev-middleware  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack-dev-middleware#writetodisk'" tppabs="https://github.com/webpack/webpack-dev-middleware#writetodisk"><code>writeToDisk</code></a> option or the <a href="javascript:if(confirm('https://github.com/gajus/write-file-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/gajus/write-file-webpack-plugin'" tppabs="https://github.com/gajus/write-file-webpack-plugin"><code>write-file-webpack-plugin</code></a>.</p> </blockquote> <blockquote> <p>â„¹ï¸ You can get the original source filename from <a href="../../api/stats/index.htm#asset-objects" tppabs="https://webpack.docschina.org/api/stats/#asset-objects">Asset Objects</a>.</p> </blockquote> <h2 id="options">Options <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The plugin's signature:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> CopyPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"copy-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"source"</span><span class="token punctuation">,</span> to<span class="token operator">:</span> <span class="token string">"dest"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"other"</span><span class="token punctuation">,</span> to<span class="token operator">:</span> <span class="token string">"public"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span>
        concurrency<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="patterns">Patterns <a href="#patterns" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="center">Default</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><a href="#from"><code>from</code></a></span></td> <td align="center" data-th="Type"><span><code>{String}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Glob or path from where we Ñopy files.</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#to"><code>to</code></a></span></td> <td align="center" data-th="Type"><span><code>{String|Function}</code></span></td> <td align="center" data-th="Default"><span><code>compiler.options.output</code></span></td> <td align="left" data-th="Description"><span>Output path.</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#context"><code>context</code></a></span></td> <td align="center" data-th="Type"><span><code>{String}</code></span></td> <td align="center" data-th="Default"><span><code>options.context || compiler.options.context</code></span></td> <td align="left" data-th="Description"><span>A path that determines how to interpret the <code>from</code> path.</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#globoptions"><code>globOptions</code></a></span></td> <td align="center" data-th="Type"><span><code>{Object}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span><a href="javascript:if(confirm('https://github.com/sindresorhus/globby  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/sindresorhus/globby#options'" tppabs="https://github.com/sindresorhus/globby#options">Options</a> passed to the glob pattern matching library including <code>ignore</code> option.</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#filter"><code>filter</code></a></span></td> <td align="center" data-th="Type"><span><code>{Function}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Allows to filter copied assets.</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#totype"><code>toType</code></a></span></td> <td align="center" data-th="Type"><span><code>{String}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Determinate what is <code>to</code> option - directory, file or template.</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#force"><code>force</code></a></span></td> <td align="center" data-th="Type"><span><code>{Boolean}</code></span></td> <td align="center" data-th="Default"><span><code>false</code></span></td> <td align="left" data-th="Description"><span>Overwrites files already in <code>compilation.assets</code> (usually added by other plugins/loaders).</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#transform"><code>transform</code></a></span></td> <td align="center" data-th="Type"><span><code>{Object}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Allows to modify the file contents. Enable <code>transform</code> caching. You can use <code>{ transform: {cache: { key: 'my-cache-key' }} }</code> to invalidate the cache.</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#noerroronmissing"><code>noErrorOnMissing</code></a></span></td> <td align="center" data-th="Type"><span><code>{Boolean}</code></span></td> <td align="center" data-th="Default"><span><code>false</code></span></td> <td align="left" data-th="Description"><span>Doesn't generate an error on missing file(s).</span></td> </tr> <tr> <td align="center" data-th="Name"><span><a href="#info"><code>info</code></a></span></td> <td align="center" data-th="Type"><span><code>{Object|Function}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Allows to add assets info.</span></td> </tr> </tbody> </table> <h4 id="from"><code>from</code> <a href="#from" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String</code> Default: <code>undefined</code></p> <p>Glob or path from where we Ñopy files. Globs accept <a href="javascript:if(confirm('https://github.com/mrmlnc/fast-glob  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/mrmlnc/fast-glob#pattern-syntax'" tppabs="https://github.com/mrmlnc/fast-glob#pattern-syntax">fast-glob pattern-syntax</a>. Glob can only be a <code>string</code>.</p> <blockquote> <p>âš ï¸ Don't use directly <code>\\</code> in <code>from</code> option if it is a <code>glob</code> (i.e <code>path\to\file.ext</code>) option because on UNIX the backslash is a valid character inside a path component, i.e., it's not a separator. On Windows, the forward slash and the backward slash are both separators. Instead please use <code>/</code>.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"relative/path/to/file.ext"</span><span class="token punctuation">,</span>
        <span class="token string">"relative/path/to/dir"</span><span class="token punctuation">,</span>
        path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">,</span> <span class="token string">"file.ext"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">,</span> <span class="token string">"dir"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">"**/*"</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"**/*"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// If absolute path is a `glob` we replace backslashes with forward slashes, because only forward slashes can be used in the `glob`</span>
        path<span class="token punctuation">.</span>posix<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>
          path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token string">"*.txt"</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="for-windows"><code>For windows</code> <a href="#for-windows" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>If you define <code>from</code> as absolute file path or absolute folder path on <code>Windows</code>, you can use windows path segment (<code>\\</code>)</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"file.txt"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>But you should always use forward-slashes in <code>glob</code> expressions See <a href="javascript:if(confirm('https://github.com/mrmlnc/fast-glob  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/mrmlnc/fast-glob#how-to-write-patterns-on-windows'" tppabs="https://github.com/mrmlnc/fast-glob#how-to-write-patterns-on-windows">fast-glob manual</a>.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token comment">// If absolute path is a `glob` we replace backslashes with forward slashes, because only forward slashes can be used in the `glob`</span>
          <span class="token keyword">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span>posix<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>
            path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"fixtures"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">"*.txt"</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>The <code>context</code> behaves differently depending on what the <code>from</code> is (<code>glob</code>, <code>file</code> or <code>dir</code>). More <a href="#examples"><code>examples</code></a></p> <h4 id="to"><code>to</code> <a href="#to" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String|Function</code> Default: <code>compiler.options.output</code></p> <h5 id="string">String <a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>Output path.</p> <blockquote> <p>âš ï¸ Don't use directly <code>\\</code> in <code>to</code> (i.e <code>path\to\dest</code>) option because on UNIX the backslash is a valid character inside a path component, i.e., it's not a separator. On Windows, the forward slash and the backward slash are both separators. Instead please use <code>/</code> or <code>path</code> methods.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"**/*"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"relative/path/to/dest/"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"**/*"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"/absolute/path/to/dest/"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"**/*"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"[path][name].[contenthash].[ext]"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="function">Function <a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>Allows to modify the writing path.</p> <blockquote> <p>âš ï¸ Don't return directly <code>\\</code> in <code>to</code> (i.e <code>path\to\newFile</code>) option because on UNIX the backslash is a valid character inside a path component, i.e., it's not a separator. On Windows, the forward slash and the backward slash are both separators. Instead please use <code>/</code> or <code>path</code> methods.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.png"</span><span class="token punctuation">,</span>
          <span class="token function">to</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> context<span class="token punctuation">,</span> absoluteFilename <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token string">"dest/newPath/[name][ext]"</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.png"</span><span class="token punctuation">,</span>
          <span class="token function">to</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> context<span class="token punctuation">,</span> absoluteFilename <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"dest/newPath/[name][ext]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="context"><code>context</code> <a href="#context" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String</code> Default: <code>options.context|compiler.options.context</code></p> <p>A path that determines how to interpret the <code>from</code> path.</p> <blockquote> <p>âš ï¸ Don't use directly <code>\\</code> in <code>context</code> (i.e <code>path\to\context</code>) option because on UNIX the backslash is a valid character inside a path component, i.e., it's not a separator. On Windows, the forward slash and the backward slash are both separators. Instead please use <code>/</code> or <code>path</code> methods.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.txt"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/"</span><span class="token punctuation">,</span>
          context<span class="token operator">:</span> <span class="token string">"app/"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>The <code>context</code> option can be an absolute or relative path. If <code>context</code> is a relative, then it is converted to absolute based to <code>compiler.options.context</code></p> <p>Also, <code>context</code> indicates how to interpret the search results. Further, he is considered in this role.</p> <p>To determine the structure from which the found resources will be copied to the destination folder, the <code>context</code> option is used.</p> <p>If <code>from</code> is a file, then <code>context</code> is equal to the directory in which this file is located. Accordingly, the result will be only the file name.</p> <p>If <code>from</code> is a directory, then <code>context</code> is the same as <code>from</code> and is equal to the directory itself. In this case, the result will be a hierarchical structure of the found folders and files relative to the specified directory.</p> <p>If <code>from</code> is a glob, then regardless of the <code>context</code> option, the result will be the structure specified in the <code>from</code> option</p> <p>More <a href="#examples"><code>examples</code></a></p> <h4 id="globoptions"><code>globOptions</code> <a href="#globoptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Object</code> Default: <code>undefined</code></p> <p>Allows to configute the glob pattern matching library used by the plugin. <a href="javascript:if(confirm('https://github.com/sindresorhus/globby  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/sindresorhus/globby#options'" tppabs="https://github.com/sindresorhus/globby#options">See the list of supported options</a> To exclude files from the selection, you should use <a href="javascript:if(confirm('https://github.com/mrmlnc/fast-glob  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/mrmlnc/fast-glob#ignore'" tppabs="https://github.com/mrmlnc/fast-glob#ignore">globOptions.ignore option</a></p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"public/**/*"</span><span class="token punctuation">,</span>
          globOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
            dot<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            gitignore<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            ignore<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"**/file.*"</span><span class="token punctuation">,</span> <span class="token string">"**/ignored-directory/**"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="filter"><code>filter</code> <a href="#filter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Function</code> Default: <code>undefined</code></p> <blockquote> <p>â„¹ï¸ To ignore files by path please use the [<code>globOptions.ignore</code>](<a href="javascript:if(confirm('https://github.com/webpack-contrib/copy-webpack-plugin/blob/master/(  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/copy-webpack-plugin/blob/master/(#globoptions)'" tppabs="https://github.com/webpack-contrib/copy-webpack-plugin/blob/master/(#globoptions)">https://github.com/webpack-contrib/copy-webpack-plugin/blob/master/(#globoptions)</a> option.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>promise<span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"public/**/*"</span><span class="token punctuation">,</span>
          <span class="token function-variable function">filter</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">resourcePath</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> fs<span class="token punctuation">.</span>promises<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>resourcePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> content <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>content <span class="token operator">===</span> <span class="token string">"my-custom-content"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="totype"><code>toType</code> <a href="#totype" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String</code> Default: <code>undefined</code></p> <p>Determinate what is <code>to</code> option - directory, file or template. Sometimes it is hard to say what is <code>to</code>, example <code>path/to/dir-with.ext</code>. If you want to copy files in directory you need use <code>dir</code> option. We try to automatically determine the <code>type</code> so you most likely do not need this option.</p> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="center">Default</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><strong><code>'dir'</code></strong></span></td> <td align="center" data-th="Type"><span><code>{String}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>If <code>to</code> has no extension or ends on <code>'/'</code></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>'file'</code></strong></span></td> <td align="center" data-th="Type"><span><code>{String}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>If <code>to</code> is not a directory and is not a template</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>'template'</code></strong></span></td> <td align="center" data-th="Type"><span><code>{String}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>If <code>to</code> contains <a href="javascript:if(confirm('https://github.com/webpack-contrib/file-loader  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/file-loader#placeholders'" tppabs="https://github.com/webpack-contrib/file-loader#placeholders">a template pattern</a></span></td> </tr> </tbody> </table> <h5 id="dir"><code>'dir'</code> <a href="#dir" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"path/to/file.txt"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"directory/with/extension.ext"</span><span class="token punctuation">,</span>
          toType<span class="token operator">:</span> <span class="token string">"dir"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="file"><code>'file'</code> <a href="#file" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"path/to/file.txt"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"file/without/extension"</span><span class="token punctuation">,</span>
          toType<span class="token operator">:</span> <span class="token string">"file"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="template"><code>'template'</code> <a href="#template" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/[name].[hash].[ext]"</span><span class="token punctuation">,</span>
          toType<span class="token operator">:</span> <span class="token string">"template"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="force"><code>force</code> <a href="#force" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Boolean</code> Default: <code>false</code></p> <p>Overwrites files already in <code>compilation.assets</code> (usually added by other plugins/loaders).</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/**/*"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/"</span><span class="token punctuation">,</span>
          force<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="transform"><code>transform</code> <a href="#transform" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Function|Object</code> Default: <code>undefined</code></p> <p>Allows to modify the file contents.</p> <h5 id="Function"><code>Function</code><a href="#Function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.png"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/"</span><span class="token punctuation">,</span>
          <span class="token comment">// The `content` argument is a [`Buffer`](https://nodejs.org/api/buffer.html) object, it could be converted to a `String` to be processed using `content.toString()`</span>
          <span class="token comment">// The `absoluteFrom` argument is a `String`, it is absolute path from where the file is being copied</span>
          <span class="token function">transform</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> absoluteFrom</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">optimize</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="object"><code>Object</code> <a href="#object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="center">Default</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><strong><a href="#transformer"><code>transformer</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{Function}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Allows to modify the file contents.</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><a href="#cache"><code>cache</code></a></strong></span></td> <td align="center" data-th="Type"><span><code>{Boolean|Object}</code></span></td> <td align="center" data-th="Default"><span><code>false</code></span></td> <td align="left" data-th="Description"><span>Enable <code>transform</code> caching. You can use <code>transform: { cache: { key: 'my-cache-key' } }</code> to invalidate the cache.</span></td> </tr> </tbody> </table> <h6 id="transformer"><code>transformer</code> <a href="#transformer" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6> <p>Type: <code>Function</code> Default: <code>undefined</code></p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.png"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/"</span><span class="token punctuation">,</span>
          <span class="token comment">// The `content` argument is a [`Buffer`](https://nodejs.org/api/buffer.html) object, it could be converted to a `String` to be processed using `content.toString()`</span>
          <span class="token comment">// The `absoluteFrom` argument is a `String`, it is absolute path from where the file is being copied</span>
          transform<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function">transformer</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> absoluteFrom</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token function">optimize</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.png"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/"</span><span class="token punctuation">,</span>
          transform<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function">transformer</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token function">optimize</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h6 id="cache"><code>cache</code> <a href="#cache" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6> <p>Type: <code>Boolean|Object</code> Default: <code>false</code></p> <p><strong>webpack.config.js</strong></p> <p>Enable/disable and configure caching. Default path to cache directory: <code>node_modules/.cache/copy-webpack-plugin</code>.</p> <h6 id="boolean"><code>Boolean</code> <a href="#boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h6> <p>Enables/Disable <code>transform</code> caching.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.png"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/"</span><span class="token punctuation">,</span>
          transform<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function">transformer</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token function">optimize</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            cache<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="object"><code>Object</code> <a href="#object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>Enables <code>transform</code> caching and setup cache directory and invalidation keys.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.png"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/"</span><span class="token punctuation">,</span>
          transform<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function">transformer</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token function">optimize</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            cache<span class="token operator">:</span> <span class="token punctuation">{</span>
              directory<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"cache-directory"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              keys<span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">// May be useful for invalidating cache based on external values</span>
                <span class="token comment">// For example, you can invalid cache based on `process.version` - { node: process.version }</span>
                key<span class="token operator">:</span> <span class="token string">"value"</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>You can setup invalidation keys using a function.</p> <p>Simple function:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.png"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/"</span><span class="token punctuation">,</span>
          transform<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function">transformer</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token function">optimize</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            cache<span class="token operator">:</span> <span class="token punctuation">{</span>
              directory<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"cache-directory"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token function-variable function">keys</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">defaultCacheKeys<span class="token punctuation">,</span> absoluteFrom</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> keys <span class="token operator">=</span> <span class="token function">getCustomCacheInvalidationKeysSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">return</span> <span class="token punctuation">{</span>
                  <span class="token operator">...</span>defaultCacheKeys<span class="token punctuation">,</span>
                  keys<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Async function:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/*.png"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"dest/"</span><span class="token punctuation">,</span>
          transform<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token function">transformer</span><span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token function">optimize</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            cache<span class="token operator">:</span> <span class="token punctuation">{</span>
              directory<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"cache-directory"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token function-variable function">keys</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">defaultCacheKeys<span class="token punctuation">,</span> absoluteFrom</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> keys <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getCustomCacheInvalidationKeysAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">return</span> <span class="token punctuation">{</span>
                  <span class="token operator">...</span>defaultCacheKeys<span class="token punctuation">,</span>
                  keys<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="noerroronmissing"><code>noErrorOnMissing</code> <a href="#noerroronmissing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Boolean</code> Default: <code>false</code></p> <p>Doesn't generate an error on missing file(s);</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"missing-file.txt"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          noErrorOnMissing<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="info"><code>info</code><a href="#info" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Object|Function&#x3C;Object></code> Default: <code>undefined</code></p> <p>Allows to add assets info.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"relative/path/to/file.ext"</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"**/*"</span><span class="token punctuation">,</span>
          <span class="token comment">// Terser skip this file for minimization</span>
          info<span class="token operator">:</span> <span class="token punctuation">{</span> minimized<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">"relative/path/to/file.ext"</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"**/*"</span><span class="token punctuation">,</span>
          <span class="token comment">// Terser skip this file for minimization</span>
          <span class="token function-variable function">info</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span> minimized<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="options">Options <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="center">Default</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><a href="#concurrency"><code>concurrency</code></a></span></td> <td align="center" data-th="Type"><span><code>{Number}</code></span></td> <td align="center" data-th="Default"><span><code>100</code></span></td> <td align="left" data-th="Description"><span>Limits the number of simultaneous requests to fs</span></td> </tr> </tbody> </table> <h4 id="concurrency"><code>concurrency</code> <a href="#concurrency" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>limits the number of simultaneous requests to fs</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>patterns<span class="token punctuation">]</span><span class="token punctuation">,</span>
      options<span class="token operator">:</span> <span class="token punctuation">{</span> concurrency<span class="token operator">:</span> <span class="token number">50</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="examples">Examples <a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <h4 id="different-variants-from-glob-file-or-dir">Different variants <code>from</code> (<code>glob</code>, <code>file</code> or <code>dir</code>). <a href="#different-variants-from-glob-file-or-dir" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Take for example the following file structure:</p> <pre><code>src/directory-nested/deep-nested/deepnested-file.txt
src/directory-nested/nested-file.txt
</code></pre> <h5 id="from-is-a-glob">From is a Glob <a href="#from-is-a-glob" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>Everything that you specify in <code>from</code> will be included in the result:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/directory-nested/**/*"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Result:</p> <pre><code class="hljs language-txt">src/directory-nested/deep-nested/deepnested-file.txt,
src/directory-nested/nested-file.txt
</code></pre> <p>If you want only content <code>src/directory-nested/</code>, you should only indicate <code>glob</code> in <code>from</code>. The path to the folder in which the search should take place, should be moved to <code>context</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"**/*"</span><span class="token punctuation">,</span>
          context<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">,</span> <span class="token string">"directory-nested"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Result:</p> <pre><code class="hljs language-txt">deep-nested/deepnested-file.txt,
nested-file.txt
</code></pre> <h5 id="from-is-a-dir">From is a Dir <a href="#from-is-a-dir" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">,</span> <span class="token string">"directory-nested"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Result:</p> <pre><code class="hljs language-txt">deep-nested/deepnested-file.txt,
nested-file.txt
</code></pre> <p>Technically, this is <code>**/*</code> with a predefined context equal to the specified directory.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"**/*"</span><span class="token punctuation">,</span>
          context<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">,</span> <span class="token string">"directory-nested"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Result:</p> <pre><code class="hljs language-txt">deep-nested/deepnested-file.txt,
nested-file.txt
</code></pre> <h5 id="from-is-a-file">From is a File <a href="#from-is-a-file" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>
            __dirname<span class="token punctuation">,</span>
            <span class="token string">"src"</span><span class="token punctuation">,</span>
            <span class="token string">"directory-nested"</span><span class="token punctuation">,</span>
            <span class="token string">"nested-file.txt"</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Result:</p> <pre><code class="hljs language-txt">nested-file.txt
</code></pre> <p>Technically, this is a filename with a predefined context equal to <code>path.dirname(pathToFile)</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"nested-file.txt"</span><span class="token punctuation">,</span>
          context<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">,</span> <span class="token string">"directory-nested"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Result:</p> <pre><code class="hljs language-txt">nested-file.txt
</code></pre> <h4 id="ignoring-files">Ignoring files <a href="#ignoring-files" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span>posix<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>
            path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">"**/*"</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
          globOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
            ignore<span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token comment">// Ignore all `txt` files</span>
              <span class="token string">"**/*.txt"</span><span class="token punctuation">,</span>
              <span class="token comment">// Ignore all files in all subdirectories</span>
              <span class="token string">"**/subdir/**"</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="flatten-copy">Flatten copy <a href="#flatten-copy" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Removes all directory references and only copies file names.</p> <blockquote> <p>âš ï¸ If files have the same name, the result is non-deterministic.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"src/**/*"</span><span class="token punctuation">,</span>
          to<span class="token operator">:</span> <span class="token string">"[name].[ext]"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Result:</p> <pre><code class="hljs language-txt">file-1.txt
file-2.txt
nested-file.txt
</code></pre> <h4 id="copy-in-new-directory">Copy in new directory <a href="#copy-in-new-directory" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token comment">// When copying files starting with a dot, must specify the toType option</span>
          <span class="token comment">// toType: "file",</span>
          <span class="token function">to</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> context<span class="token punctuation">,</span> absoluteFilename <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">newdirectory/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path<span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> absoluteFilename<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"directory"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Result:</p> <pre><code class="hljs language-txt">"newdirectory/file-1.txt",
"newdirectory/nestedfile.txt",
"newdirectory/nested/deep-nested/deepnested.txt",
"newdirectory/nested/nestedfile.txt",
</code></pre> <h2 id="contributing">Contributing <a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/copy-webpack-plugin/blob/master/.github/CONTRIBUTING.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/copy-webpack-plugin/blob/master/.github/CONTRIBUTING.md'" tppabs="https://github.com/webpack-contrib/copy-webpack-plugin/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="license">License <a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/copy-webpack-plugin/blob/master/LICENSE  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/copy-webpack-plugin/blob/master/LICENSE'" tppabs="https://github.com/webpack-contrib/copy-webpack-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="CssMinimizerWebpackPlugin">CssMinimizerWebpackPlugin<a href="#CssMinimizerWebpackPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="javascript:if(confirm('https://npmjs.com/package/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://npmjs.com/package/babel-minify-webpack-plugin'" tppabs="https://npmjs.com/package/babel-minify-webpack-plugin"><img src="../../../img.shields.io/npm/v/babel-minify-webpack-plugin.svg" tppabs="https://img.shields.io/npm/v/babel-minify-webpack-plugin.svg" alt="npm"></a> <a href="javascript:if(confirm('https://nodejs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/'" tppabs="https://nodejs.org/"><img src="../../../img.shields.io/node/v/compression-webpack-plugin.svg" tppabs="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="javascript:if(confirm('https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../status.david-dm.org/gh/webpack-contrib/babel-minify-webpack-plugin.svg" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin.svg" alt="deps"></a> <a href="javascript:if(confirm('https://github.com/webpack-contrib/compression-webpack-plugin/actions  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/compression-webpack-plugin/actions'" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="../../../github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="javascript:if(confirm('https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" alt="cover"></a> <a href="javascript:if(confirm('https://gitter.im/webpack/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://gitter.im/webpack/webpack'" tppabs="https://gitter.im/webpack/webpack"><img src="../../../img.shields.io/badge/gitter-webpack-webpack-brightgreen.svg" tppabs="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="javascript:if(confirm('https://packagephobia.now.sh/result?p=compression-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://packagephobia.now.sh/result?p=compression-webpack-plugin'" tppabs="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="../../../badgen.net/packagephobia/install/compression-webpack-plugin" tppabs="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <p>This plugin uses <a href="javascript:if(confirm('https://cssnano.co/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://cssnano.co/'" tppabs="https://cssnano.co/">cssnano</a> to optimize and minify your CSS.</p> <p>Just like <a href="javascript:if(confirm('https://github.com/NMFR/optimize-css-assets-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/NMFR/optimize-css-assets-webpack-plugin'" tppabs="https://github.com/NMFR/optimize-css-assets-webpack-plugin">optimize-css-assets-webpack-plugin</a> but more accurate with source maps and assets using query string, allows to cache and works in parallel mode.</p> <h2 id="getting-started">Getting Started <a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To begin, you'll need to install <code>css-minimizer-webpack-plugin</code>:</p> <pre><code class="hljs language-console">$ npm install css-minimizer-webpack-plugin --save-dev
</code></pre> <p>Then add the plugin to your <code>webpack</code> configuration. For example:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CssMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'css-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    loaders<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.s?css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'sass-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// For webpack@5 you can use the `...` syntax to extend existing minimizers (i.e. `terser-webpack-plugin`), uncomment the next line</span>
      <span class="token comment">// `...`</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>This will enable CSS optimization only in production mode. If you want to run it also in development set the <code>optimization.minimize</code> option to <code>true</code>.</p> <p>And run <code>webpack</code> via your preferred method.</p> <h2 id="options">Options <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="test"><code>test</code> <a href="#test" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> - default: <code>/\.css(\?.*)?$/i</code></p> <p>Test to match files against.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.foo\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="include"><code>include</code> <a href="#include" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Files to include.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        include<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/includes</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="exclude"><code>exclude</code> <a href="#exclude" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Files to exclude.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/excludes</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="cache"><code>cache</code> <a href="#cache" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <blockquote> <p>âš  Ignored in webpack 5! Please use <a href="javascript:if(confirm('https://webpack.js.org/configuration/other-options/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://webpack.js.org/configuration/other-options/#cache'" tppabs="https://webpack.js.org/configuration/other-options/#cache">https://webpack.js.org/configuration/other-options/#cache</a>.</p> </blockquote> <p>Type: <code>Boolean|String</code> Default: <code>true</code></p> <p>Enable file caching. Default path to cache directory: <code>node_modules/.cache/css-minimizer-webpack-plugin</code>.</p> <blockquote> <p>â„¹ï¸ If you use your own <code>minify</code> function please read the <code>minify</code> section for cache invalidation correctly.</p> </blockquote> <h4 id="boolean"><code>Boolean</code> <a href="#boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Enable/disable file caching.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        cache<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="string"><code>String</code> <a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Enable file caching and set path to cache directory.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        cache<span class="token operator">:</span> <span class="token string">'path/to/cache'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="cachekeys"><code>cacheKeys</code> <a href="#cachekeys" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <blockquote> <p>âš  Ignored in webpack 5! Please use <a href="javascript:if(confirm('https://webpack.js.org/configuration/other-options/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://webpack.js.org/configuration/other-options/#cache'" tppabs="https://webpack.js.org/configuration/other-options/#cache">https://webpack.js.org/configuration/other-options/#cache</a>.</p> </blockquote> <p>Type: <code>Function&#x3C;(defaultCacheKeys, file) -> Object></code> Default: <code>defaultCacheKeys => defaultCacheKeys</code></p> <p>Allows you to override default cache keys.</p> <p>Default cache keys:</p> <pre><code class="hljs language-js"><span class="token punctuation">(</span><span class="token punctuation">{</span>
  cssMinimizer<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'cssnano/package.json'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>version<span class="token punctuation">,</span> <span class="token comment">// cssnano version</span>
  <span class="token string">'css-minimizer-webpack-plugin'</span><span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../package.json'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>version<span class="token punctuation">,</span> <span class="token comment">// plugin version</span>
  <span class="token string">'css-minimizer-webpack-plugin-options'</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span> <span class="token comment">// plugin options</span>
  path<span class="token operator">:</span> compiler<span class="token punctuation">.</span>outputPath <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>compiler<span class="token punctuation">.</span>outputPath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>file<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> file<span class="token punctuation">,</span> <span class="token comment">// asset path</span>
  hash<span class="token operator">:</span> crypto<span class="token punctuation">.</span><span class="token function">createHash</span><span class="token punctuation">(</span><span class="token string">'md4'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">digest</span><span class="token punctuation">(</span><span class="token string">'hex'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// source file hash</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        cache<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token function-variable function">cacheKeys</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">defaultCacheKeys<span class="token punctuation">,</span> file</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          defaultCacheKeys<span class="token punctuation">.</span>myCacheKey <span class="token operator">=</span> <span class="token string">'myCacheKeyValue'</span><span class="token punctuation">;</span>

          <span class="token keyword">return</span> defaultCacheKeys<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="parallel"><code>parallel</code> <a href="#parallel" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Boolean|Number</code> Default: <code>true</code></p> <p>Use multi-process parallel running to improve the build speed. Default number of concurrent runs: <code>os.cpus().length - 1</code>.</p> <blockquote> <p>â„¹ï¸ Parallelization can speedup your build significantly and is therefore <strong>highly recommended</strong>.</p> </blockquote> <h4 id="boolean"><code>Boolean</code> <a href="#boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Enable/disable multi-process parallel running.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        parallel<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="number"><code>Number</code> <a href="#number" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Enable multi-process parallel running and set number of concurrent runs.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        parallel<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="sourcemap"><code>sourceMap</code> <a href="#sourcemap" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Boolean|Object</code> Default: <code>false</code> (see below for details around <code>devtool</code> value and <code>SourceMapDevToolPlugin</code> plugin)</p> <p>Enable (and configure) source map support. Use <a href="javascript:if(confirm('https://github.com/postcss/postcss-loader  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/postcss/postcss-loader#sourcemap'" tppabs="https://github.com/postcss/postcss-loader#sourcemap">PostCss SourceMap options</a>. Default configuration when enabled: <code>{ inline: false }</code>.</p> <p><strong>Works only with <code>source-map</code>, <code>inline-source-map</code>, <code>hidden-source-map</code> and <code>nosources-source-map</code> values for the <a href="../../configuration/devtool/index.htm" tppabs="https://webpack.docschina.org/configuration/devtool/"><code>devtool</code></a> option.</strong></p> <p>Why? Because CSS support only these source map types.</p> <p>The plugin respect the <a href="../../configuration/devtool/index.htm" tppabs="https://webpack.docschina.org/configuration/devtool/"><code>devtool</code></a> and using the <code>SourceMapDevToolPlugin</code> plugin. Using supported <code>devtool</code> values enable source map generation. Using <code>SourceMapDevToolPlugin</code> with enabled the <code>columns</code> option enables source map generation.</p> <p>Use source maps to map error message locations to modules (this slows down the compilation). If you use your own <code>minify</code> function please read the <code>minify</code> section for handling source maps correctly.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minify"><code>minify</code> <a href="#minify" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Function</code> Default: <code>undefined</code></p> <p>Allows you to override default minify function. By default plugin uses <a href="javascript:if(confirm('https://github.com/cssnano/cssnano  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/cssnano/cssnano'" tppabs="https://github.com/cssnano/cssnano">cssnano</a> package. Useful for using and testing unpublished versions or forks.</p> <blockquote> <p>âš ï¸ <strong>Always use <code>require</code> inside <code>minify</code> function when <code>parallel</code> option enabled</strong>.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token function-variable function">minify</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> inputMap<span class="token punctuation">,</span> minimizerOptions</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> postcss <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'postcss'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token keyword">const</span> plugin <span class="token operator">=</span> postcss<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span>
            <span class="token string">'custom-plugin'</span><span class="token punctuation">,</span>
            <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token parameter">css<span class="token punctuation">,</span> result</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
              <span class="token comment">// custom code</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>filename<span class="token punctuation">,</span> input<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token keyword">const</span> postcssOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token keyword">from</span><span class="token operator">:</span> filename<span class="token punctuation">,</span>
            to<span class="token operator">:</span> filename<span class="token punctuation">,</span>
            map<span class="token operator">:</span> <span class="token punctuation">{</span>
              prev<span class="token operator">:</span> inputMap<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>

          <span class="token keyword">return</span> <span class="token function">postcss</span><span class="token punctuation">(</span><span class="token punctuation">[</span>plugin<span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> postcssOptions<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
              <span class="token keyword">return</span> <span class="token punctuation">{</span>
                css<span class="token operator">:</span> result<span class="token punctuation">.</span>css<span class="token punctuation">,</span>
                map<span class="token operator">:</span> result<span class="token punctuation">.</span>map<span class="token punctuation">,</span>
                warnings<span class="token operator">:</span> result<span class="token punctuation">.</span><span class="token function">warnings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minimizeroptions"><code>minimizerOptions</code> <a href="#minimizeroptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Object</code> Default: <code>{ preset: 'default' }</code></p> <p>Cssnano optimisations <a href="javascript:if(confirm('https://cssnano.co/docs/optimisations  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://cssnano.co/docs/optimisations'" tppabs="https://cssnano.co/docs/optimisations">options</a>.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          preset<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">'default'</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              discardComments<span class="token operator">:</span> <span class="token punctuation">{</span> removeAll<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="warningsfilter"><code>warningsFilter</code> <a href="#warningsfilter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Function&#x3C;(warning, file, source) -> Boolean></code> Default: <code>() => true</code></p> <p>Allow to filter css-minimizer warnings (By default <a href="javascript:if(confirm('https://github.com/cssnano/cssnano  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/cssnano/cssnano'" tppabs="https://github.com/cssnano/cssnano">cssnano</a>). Return <code>true</code> to keep the warning, a falsy value (<code>false</code>/<code>null</code>/<code>undefined</code>) otherwise.</p> <blockquote> <p>âš ï¸ The <code>source</code> argument will contain <code>undefined</code> if you don't use source maps.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function-variable function">warningsFilter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">warning<span class="token punctuation">,</span> file<span class="token punctuation">,</span> source</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Dropping unreachable code</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>warning<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">file\.css</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">source\.css</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="examples">Examples <a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="use-sourcemaps">Use sourcemaps <a href="#use-sourcemaps" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Don't forget to enable <code>sourceMap</code> options for all loaders.</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> CssMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'css-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    loaders<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.s?css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> options<span class="token operator">:</span> <span class="token punctuation">{</span> sourceMap<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> loader<span class="token operator">:</span> <span class="token string">'sass-loader'</span><span class="token punctuation">,</span> options<span class="token operator">:</span> <span class="token punctuation">{</span> sourceMap<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="remove-all-comments">Remove all comments <a href="#remove-all-comments" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Remove all comments (including comments starting with <code>/*!</code>).</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          preset<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">'default'</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              discardComments<span class="token operator">:</span> <span class="token punctuation">{</span> removeAll<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="using-custom-minifier-cssohttpsgithubcomcsscsso">Using custom minifier <a href="javascript:if(confirm('https://github.com/css/csso  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/css/csso'" tppabs="https://github.com/css/csso">csso</a> <a href="#using-custom-minifier-cssohttpsgithubcomcsscsso" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>By default plugin uses <a href="javascript:if(confirm('https://github.com/cssnano/cssnano  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/cssnano/cssnano'" tppabs="https://github.com/cssnano/cssnano">cssnano</a> package. It is possible to use another minify function.</p> <blockquote> <p>âš ï¸ <strong>Always use <code>require</code> inside <code>minify</code> function when <code>parallel</code> option enabled</strong>.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  devtool<span class="token operator">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token function-variable function">minify</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> inputMap</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> csso <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'csso'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">const</span> sourcemap <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'source-map'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>filename<span class="token punctuation">,</span> input<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">const</span> minifiedCss <span class="token operator">=</span> csso<span class="token punctuation">.</span><span class="token function">minify</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token punctuation">{</span>
            filename<span class="token operator">:</span> filename<span class="token punctuation">,</span>
            sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token keyword">if</span> <span class="token punctuation">(</span>inputMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            minifiedCss<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">applySourceMap</span><span class="token punctuation">(</span>
              <span class="token keyword">new</span> <span class="token class-name">sourcemap<span class="token punctuation">.</span>SourceMapConsumer</span><span class="token punctuation">(</span>inputMap<span class="token punctuation">)</span><span class="token punctuation">,</span>
              filename
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token keyword">return</span> <span class="token punctuation">{</span>
            css<span class="token operator">:</span> minifiedCss<span class="token punctuation">.</span>css<span class="token punctuation">,</span>
            map<span class="token operator">:</span> minifiedCss<span class="token punctuation">.</span>map<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="using-custom-minifier-clean-csshttpsgithubcomjakubpawlowiczclean-css">Using custom minifier <a href="javascript:if(confirm('https://github.com/jakubpawlowicz/clean-css  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/jakubpawlowicz/clean-css'" tppabs="https://github.com/jakubpawlowicz/clean-css">clean-css</a> <a href="#using-custom-minifier-clean-csshttpsgithubcomjakubpawlowiczclean-css" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>By default plugin uses <a href="javascript:if(confirm('https://github.com/cssnano/cssnano  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/cssnano/cssnano'" tppabs="https://github.com/cssnano/cssnano">cssnano</a> package. It is possible to use another minify function.</p> <blockquote> <p>âš ï¸ <strong>Always use <code>require</code> inside <code>minify</code> function when <code>parallel</code> option enabled</strong>.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  devtool<span class="token operator">:</span> <span class="token string">'source-map'</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token function-variable function">minify</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> inputMap</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token comment">// eslint-disable-next-line global-require</span>
          <span class="token keyword">const</span> CleanCSS <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'clean-css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>filename<span class="token punctuation">,</span> input<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">const</span> minifiedCss <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">new</span> <span class="token class-name">CleanCSS</span><span class="token punctuation">(</span><span class="token punctuation">{</span> sourceMap<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">minify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token punctuation">[</span>filename<span class="token punctuation">]</span><span class="token operator">:</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>webpack<span class="token operator">-</span>contrib<span class="token operator">/</span>css<span class="token operator">-</span>minimizer<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin<span class="token operator">/</span>blob<span class="token operator">/</span>master<span class="token operator">/</span><span class="token operator">%</span><span class="token number">7</span>B
              styles<span class="token operator">:</span> input<span class="token punctuation">,</span>
              sourceMap<span class="token operator">:</span> inputMap<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token keyword">return</span> <span class="token punctuation">{</span>
            css<span class="token operator">:</span> minifiedCss<span class="token punctuation">.</span>styles<span class="token punctuation">,</span>
            map<span class="token operator">:</span> minifiedCss<span class="token punctuation">.</span>sourceMap<span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            warnings<span class="token operator">:</span> minifiedCss<span class="token punctuation">.</span>warnings<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="contributing">Contributing <a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/css-minimizer-webpack-plugin/blob/master/.github/CONTRIBUTING.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/css-minimizer-webpack-plugin/blob/master/.github/CONTRIBUTING.md'" tppabs="https://github.com/webpack-contrib/css-minimizer-webpack-plugin/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="license">License <a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/css-minimizer-webpack-plugin/blob/master/LICENSE  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/css-minimizer-webpack-plugin/blob/master/LICENSE'" tppabs="https://github.com/webpack-contrib/css-minimizer-webpack-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="DefinePlugin">DefinePlugin<a href="#DefinePlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><code>DefinePlugin</code> å…è®¸åœ¨ <strong>ç¼–è¯‘æ—¶</strong> åˆ›å»ºé…ç½®çš„å…¨å±€å¸¸é‡ï¼Œè¿™åœ¨éœ€è¦åŒºåˆ†å¼€å‘æ¨¡å¼ä¸ç”Ÿäº§æ¨¡å¼è¿›è¡Œä¸åŒçš„æ“ä½œæ—¶ï¼Œéå¸¸æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæƒ³åœ¨å¼€å‘æ„å»ºä¸­è¿›è¡Œæ—¥å¿—è®°å½•ï¼Œè€Œä¸åœ¨ç”Ÿäº§æ„å»ºä¸­è¿›è¡Œï¼Œå°±å¯ä»¥å®šä¹‰ä¸€ä¸ªå…¨å±€å¸¸é‡å»åˆ¤æ–­æ˜¯å¦è®°å½•æ—¥å¿—ã€‚è¿™å°±æ˜¯ <code>DefinePlugin</code> çš„å‘å…‰ä¹‹å¤„ï¼Œè®¾ç½®å¥½å®ƒï¼Œå°±å¯ä»¥å¿˜æ‰å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒçš„æ„å»ºè§„åˆ™ã€‚</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// å®šä¹‰...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="usage">Usage <a href="#usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>ä¼ é€’ç»™ <code>DefinePlugin</code> çš„æ¯ä¸ªé”®éƒ½æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦æˆ–å¤šä¸ªä»¥ <code>.</code> è¿æ¥çš„æ ‡è¯†ç¬¦ã€‚</p> <ul> <li>å¦‚æœè¯¥å€¼ä¸ºå­—ç¬¦ä¸²ï¼Œå®ƒå°†è¢«ä½œä¸ºä»£ç ç‰‡æ®µæ¥ä½¿ç”¨ã€‚</li> <li>å¦‚æœè¯¥å€¼ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™å°†è¢«è½¬æ¢æˆå­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬å‡½æ•°æ–¹æ³•ï¼‰ã€‚</li> <li>å¦‚æœå€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™å®ƒæ‰€æœ‰çš„é”®å°†ä½¿ç”¨ç›¸åŒæ–¹æ³•å®šä¹‰ã€‚</li> <li>å¦‚æœé”®æ·»åŠ  <code>typeof</code> ä½œä¸ºå‰ç¼€ï¼Œå®ƒä¼šè¢«å®šä¹‰ä¸º typeof è°ƒç”¨ã€‚</li> </ul> <p>è¿™äº›å€¼å°†å†…è”åˆ°ä»£ç ä¸­ï¼Œä»è€Œå…è®¸é€šè¿‡ä»£ç å‹ç¼©æ¥åˆ é™¤å†—ä½™çš„æ¡ä»¶åˆ¤æ–­ã€‚</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token constant">PRODUCTION</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token constant">VERSION</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">'5fa3b9'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token constant">BROWSER_SUPPORTS_HTML5</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token constant">TWO</span><span class="token operator">:</span> <span class="token string">'1+1'</span><span class="token punctuation">,</span>
  <span class="token string">'typeof window'</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string">'process.env.NODE_ENV'</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <pre><code class="hljs language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Running App version '</span> <span class="token operator">+</span> <span class="token constant">VERSION</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">BROWSER_SUPPORTS_HTML5</span><span class="token punctuation">)</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html5shiv'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p>åœ¨ä¸º <code>process</code> å®šä¹‰å€¼æ—¶ï¼Œ<code>'process.env.NODE_ENV': JSON.stringify('production')</code> ä¼šæ¯” <code>process: { env: { NODE_ENV: JSON.stringify('production') } }</code> æ›´å¥½ï¼Œåè€…ä¼šè¦†ç›– <code>process</code> å¯¹è±¡ï¼Œè¿™å¯èƒ½ä¼šç ´åä¸æŸäº›æ¨¡å—çš„å…¼å®¹æ€§ï¼Œå› ä¸ºè¿™äº›æ¨¡å—ä¼šåœ¨ process å¯¹è±¡ä¸Šå®šä¹‰å…¶ä»–å€¼ã€‚</p> </blockquote> <blockquote class="tip"> <p>è¯·æ³¨æ„ï¼Œç”±äºæœ¬æ’ä»¶ä¼šç›´æ¥æ›¿æ¢æ–‡æœ¬ï¼Œå› æ­¤æä¾›çš„å€¼å¿…é¡»åœ¨å­—ç¬¦ä¸²æœ¬èº«ä¸­å†åŒ…å«ä¸€ä¸ª <strong>å®é™…çš„å¼•å·</strong> ã€‚é€šå¸¸ï¼Œå¯ä»¥ä½¿ç”¨ç±»ä¼¼ <code>'"production"'</code> è¿™æ ·çš„æ›¿æ¢å¼•å·ï¼Œæˆ–è€…ç›´æ¥ç”¨ <code>JSON.stringify('production')</code>ã€‚</p> </blockquote> <pre><code class="hljs language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">PRODUCTION</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Debug info'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">PRODUCTION</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Production log'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p>æœªç» webpack å‹ç¼©è¿‡çš„ä»£ç ï¼š</p> <pre><code class="hljs language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Debug info'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Production log'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p>ç»è¿‡å‹ç¼©åï¼š</p> <pre><code class="hljs language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Production log'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="feature-flags">Feature Flags <a href="#feature-flags" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>ä½¿ç”¨ <a href="javascript:if(confirm('https://en.wikipedia.org/wiki/Feature_toggle  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://en.wikipedia.org/wiki/Feature_toggle'" tppabs="https://en.wikipedia.org/wiki/Feature_toggle">feature flags</a> åœ¨ç”Ÿäº§/å¼€å‘æ„å»ºä¸­å¯ä»¥å¯ç”¨/ç¦ç”¨é¡¹ç›®çš„ä¸åŒç‰¹æ€§ã€‚</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string">'NICE_FEATURE'</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string">'EXPERIMENTAL_FEATURE'</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="service-urls">Service URL <a href="#service-urls" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>åœ¨ç”Ÿäº§æˆ–å¼€å‘æ„å»ºä¸­ä½¿ç”¨ä¸åŒçš„æœåŠ¡ URLï¼š</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string">'SERVICE_URL'</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">'https://dev.example.com'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="runtime-values-via-runtimevalue">Runtime values via <code>runtimeValue</code> <a href="#runtime-values-via-runtimevalue" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><code>function (getterFunction, [string]) => getterFunction()</code></p> <p>It is possible to define variables with values that rely on files and will be re-evaluated when such files change in the file system. This means webpack will rebuild when such watched files change.</p> <p>Arguments:</p> <ul> <li>The first argument of the <code>webpack.DefinePlugin.runtimeValue</code> is a <code>function</code> that should return the value to be assigned to the definition.</li> <li>The second argument is an array of file paths to watch for. Pass <code>true</code> instead of <code>[string]</code> here to flag the module as uncacheable.</li> </ul> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> fileDep <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'sample.txt'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token constant">BUILT_AT</span><span class="token operator">:</span> webpack<span class="token punctuation">.</span>DefinePlugin<span class="token punctuation">.</span><span class="token function">runtimeValue</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span>now<span class="token punctuation">,</span> <span class="token punctuation">[</span>fileDep<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>The value of <code>BUILT_AT</code> would be the time at which the <code>'sample.txt'</code> was last updated in the file system, e.g. <code>1597953013291</code>.</p> <h1 id="DllPlugin">DllPlugin<a href="#DllPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><code>DllPlugin</code> å’Œ <code>DllReferencePlugin</code> ç”¨æŸç§æ–¹æ³•å®ç°äº†æ‹†åˆ† bundlesï¼ŒåŒæ—¶è¿˜å¤§å¹…åº¦æå‡äº†æ„å»ºçš„é€Ÿåº¦ã€‚"DLL" ä¸€è¯ä»£è¡¨å¾®è½¯æœ€åˆå¼•å…¥çš„åŠ¨æ€é“¾æ¥åº“ã€‚</p> <h2 id="dllplugin"><code>DllPlugin</code> <a href="#dllplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>æ­¤æ’ä»¶ç”¨äºåœ¨å•ç‹¬çš„ webpack é…ç½®ä¸­åˆ›å»ºä¸€ä¸ª dll-only-bundleã€‚ æ­¤æ’ä»¶ä¼šç”Ÿæˆä¸€ä¸ªåä¸º <code>manifest.json</code> çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯ç”¨äºè®© <a href="#dllreferenceplugin"><code>DllReferencePlugin</code></a> èƒ½å¤Ÿæ˜ å°„åˆ°ç›¸åº”çš„ä¾èµ–ä¸Šã€‚</p> <ul> <li><code>context</code>ï¼ˆå¯é€‰ï¼‰ï¼š manifest æ–‡ä»¶ä¸­è¯·æ±‚çš„ context (é»˜è®¤å€¼ä¸º webpack çš„ context)</li> <li><code>format</code> (boolean = false)ï¼šå¦‚æœä¸º <code>true</code>ï¼Œåˆ™ manifest json æ–‡ä»¶ (è¾“å‡ºæ–‡ä»¶) å°†è¢«æ ¼å¼åŒ–ã€‚</li> <li><code>name</code>ï¼šæš´éœ²å‡ºçš„ DLL çš„å‡½æ•°åï¼ˆ<a href="../../../github.com/webpack/webpack/blob/master/lib/TemplatedPathPlugin.js" tppabs="https://github.com/webpack/webpack/blob/master/lib/TemplatedPathPlugin.js">TemplatePaths</a>ï¼š<code>[fullhash]</code> &#x26; <code>[name]</code> ï¼‰</li> <li><code>path</code>ï¼šmanifest.json æ–‡ä»¶çš„ <strong>ç»å¯¹è·¯å¾„</strong>ï¼ˆè¾“å‡ºæ–‡ä»¶ï¼‰</li> <li><code>entryOnly</code> (boolean = true)ï¼šå¦‚æœä¸º <code>true</code>ï¼Œåˆ™ä»…æš´éœ²å…¥å£</li> <li><code>type</code>ï¼šdll bundle çš„ç±»å‹</li> </ul> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllPlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p>æˆ‘ä»¬å»ºè®® DllPlugin åªåœ¨ <code>entryOnly: true</code> æ—¶ä½¿ç”¨ï¼Œå¦åˆ™ DLL ä¸­çš„ tree shaking å°†æ— æ³•å·¥ä½œï¼Œå› ä¸ºæ‰€æœ‰ exports å‡å¯ä½¿ç”¨ã€‚</p> </blockquote> <p>åœ¨ç»™å®šçš„ <code>path</code> è·¯å¾„ä¸‹åˆ›å»ºä¸€ä¸ª <code>manifest.json</code> æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶åŒ…å«äº†ä» require å’Œ import ä¸­ request åˆ°æ¨¡å— id çš„æ˜ å°„ã€‚ <code>DllReferencePlugin</code> ä¹Ÿä¼šç”¨åˆ°è¿™ä¸ªæ–‡ä»¶ã€‚</p> <p>æ­¤æ’ä»¶ä¸ <a href="../../configuration/output/index.htm#outputlibrary" tppabs="https://webpack.docschina.org/configuration/output/#outputlibrary"><code>output.library</code></a> çš„é€‰é¡¹ç›¸ç»“åˆå¯ä»¥æš´éœ²å‡ºï¼ˆä¹Ÿç§°ä¸ºæ”¾å…¥å…¨å±€ä½œç”¨åŸŸï¼‰dll å‡½æ•°ã€‚</p> <h2 id="dllreferenceplugin"><code>DllReferencePlugin</code> <a href="#dllreferenceplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>æ­¤æ’ä»¶é…ç½®åœ¨ webpack çš„ä¸»é…ç½®æ–‡ä»¶ä¸­ï¼Œæ­¤æ’ä»¶ä¼šæŠŠ dll-only-bundles å¼•ç”¨åˆ°éœ€è¦çš„é¢„ç¼–è¯‘çš„ä¾èµ–ä¸­ã€‚</p> <ul> <li><code>context</code>ï¼šï¼ˆ<strong>ç»å¯¹è·¯å¾„</strong>ï¼‰ manifest (æˆ–è€…æ˜¯å†…å®¹å±æ€§)ä¸­è¯·æ±‚çš„ä¸Šä¸‹æ–‡</li> <li><code>extensions</code>ï¼šç”¨äºè§£æ dll bundle ä¸­æ¨¡å—çš„æ‰©å±•å (ä»…åœ¨ä½¿ç”¨ 'scope' æ—¶ä½¿ç”¨)ã€‚</li> <li><code>manifest</code> ï¼šåŒ…å« <code>content</code> å’Œ <code>name</code> çš„å¯¹è±¡ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸² â€”â€” ç¼–è¯‘æ—¶ç”¨äºåŠ è½½ JSON manifest çš„ç»å¯¹è·¯å¾„</li> <li><code>content</code> (å¯é€‰)ï¼š è¯·æ±‚åˆ°æ¨¡å— id çš„æ˜ å°„ï¼ˆé»˜è®¤å€¼ä¸º <code>manifest.content</code>ï¼‰</li> <li><code>name</code> (å¯é€‰)ï¼šdll æš´éœ²åœ°æ–¹çš„åç§°ï¼ˆé»˜è®¤å€¼ä¸º <code>manifest.name</code>ï¼‰ï¼ˆå¯å‚è€ƒ<a href="../../configuration/externals/index.htm" tppabs="https://webpack.docschina.org/configuration/externals/"><code>externals</code></a>ï¼‰</li> <li><code>scope</code> (å¯é€‰)ï¼šdll ä¸­å†…å®¹çš„å‰ç¼€</li> <li><code>sourceType</code> (å¯é€‰)ï¼šdll æ˜¯å¦‚ä½•æš´éœ²çš„ (<a href="../../configuration/output/index.htm#outputlibrarytarget" tppabs="https://webpack.docschina.org/configuration/output/#outputlibrarytarget">libraryTarget</a>)</li> </ul> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllReferencePlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>é€šè¿‡å¼•ç”¨ dll çš„ manifest æ–‡ä»¶æ¥æŠŠä¾èµ–çš„åç§°æ˜ å°„åˆ°æ¨¡å—çš„ id ä¸Šï¼Œä¹‹åå†åœ¨éœ€è¦çš„æ—¶å€™é€šè¿‡å†…ç½®çš„ <code>__webpack_require__</code> å‡½æ•°æ¥ <code>require</code> å¯¹åº”çš„æ¨¡å—</p> <blockquote class="warning"> <p>ä¿æŒ <code>name</code> ä¸ <a href="../../configuration/output/index.htm#outputlibrary" tppabs="https://webpack.docschina.org/configuration/output/#outputlibrary"><code>output.library</code></a> ä¸€è‡´ã€‚</p> </blockquote> <h3 id="modes">æ¨¡å¼(Modes) <a href="#modes" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>è¿™ä¸ªæ’ä»¶æ”¯æŒä¸¤ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯ä½œç”¨åŸŸï¼ˆ<em>scoped</em>ï¼‰å’Œæ˜ å°„ï¼ˆ<em>mapped</em>ï¼‰ã€‚</p> <h4 id="scoped-mode">Scoped Mode <a href="#scoped-mode" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>dll ä¸­çš„å†…å®¹å¯ä»¥ä½¿ç”¨æ¨¡å—å‰ç¼€çš„æ–¹å¼å¼•ç”¨ï¼Œä¸¾ä¾‹æ¥è¯´ï¼Œè®¾ç½® <code>scope = 'xyz'</code>ï¼Œè¿™ä¸ª dll ä¸­çš„åä¸º <code>abc</code> çš„æ–‡ä»¶å¯ä»¥é€šè¿‡ <code>require('xyz/abc')</code> æ¥è·å–ã€‚</p> <blockquote class="tip"> <p><a href="javascript:if(confirm('https://github.com/webpack/webpack/tree/master/examples/dll-user  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/tree/master/examples/dll-user'" tppabs="https://github.com/webpack/webpack/tree/master/examples/dll-user">æŸ¥çœ‹ scope çš„ä½¿ç”¨ç¤ºä¾‹</a></p> </blockquote> <h4 id="mapped-mode">Mapped Mode <a href="#mapped-mode" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>dll ä¸­çš„å†…å®¹ä¼šè¢«æ˜ å°„åˆ°å½“å‰ç›®å½•ä¸‹ã€‚å¦‚æœè¢« <code>require</code> çš„æ–‡ä»¶ä¸ dll ä¸­çš„æŸä¸ªæ–‡ä»¶åŒ¹é…ï¼ˆè§£æä¹‹åï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ª dll ä¸­çš„æ–‡ä»¶å°±ä¼šè¢«ä½¿ç”¨ã€‚</p> <p>ç”±äºè¿™æ˜¯åœ¨è§£æäº† dll ä¸­æ¯ä¸ªæ–‡ä»¶ä¹‹åæ‰è§¦å‘çš„ï¼Œå› æ­¤ç›¸åŒçš„è·¯å¾„å¿…é¡»èƒ½å¤Ÿç¡®ä¿è¿™ä¸ª dll bundle çš„ä½¿ç”¨è€…ï¼ˆä¸ä¸€å®šæ˜¯äººï¼Œå¯æŒ‡æŸäº›ä»£ç ï¼‰æœ‰æƒé™è®¿é—®ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œ å‡å¦‚ä¸€ä¸ª dll bundle ä¸­å«æœ‰ <code>loadash</code> åº“ä»¥åŠæ–‡ä»¶ <code>abc</code>ï¼Œ é‚£ä¹ˆ <code>require("lodash")</code> å’Œ <code>require("./abc")</code> éƒ½ä¸ä¼šè¢«ç¼–è¯‘è¿›ä¸» bundle æ–‡ä»¶ä¸­ï¼Œè€Œæ˜¯ä¼šè¢« dll æ‰€ä½¿ç”¨ã€‚</p> <h2 id="usage">ç”¨æ³•(Usage) <a href="#usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <blockquote class="warning"> <p><code>DllReferencePlugin</code> å’Œ <code>DllPlugin</code> éƒ½æ˜¯åœ¨ <em>å•ç‹¬çš„</em> webpack é…ç½®ä¸­ä½¿ç”¨çš„ã€‚</p> </blockquote> <p><strong>webpack.vendor.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  context<span class="token operator">:</span> __dirname<span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'[name]_[fullhash]'</span><span class="token punctuation">,</span>
  path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'manifest.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.app.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  context<span class="token operator">:</span> __dirname<span class="token punctuation">,</span>
  manifest<span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./manifest.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  scope<span class="token operator">:</span> <span class="token string">'xyz'</span><span class="token punctuation">,</span>
  sourceType<span class="token operator">:</span> <span class="token string">'commonjs2'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="examples">ç¤ºä¾‹ <a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="javascript:if(confirm('https://github.com/webpack/webpack/tree/master/examples/dll  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/tree/master/examples/dll'" tppabs="https://github.com/webpack/webpack/tree/master/examples/dll">Vendor</a> å’Œ <a href="javascript:if(confirm('https://github.com/webpack/webpack/tree/master/examples/dll-user  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/tree/master/examples/dll-user'" tppabs="https://github.com/webpack/webpack/tree/master/examples/dll-user">User</a></p> <p><em>ä¸¤ä¸ªå•ç‹¬çš„ç”¨ä¾‹ï¼Œç”¨æ¥åˆ†åˆ«æ¼”ç¤ºä½œç”¨åŸŸï¼ˆscopeï¼‰å’Œä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰ã€‚</em></p> <blockquote class="tip"> <p>å¤šä¸ª <code>DllPlugins</code> å’Œ <code>DllReferencePlugins</code>ã€‚</p> </blockquote> <h2 id="references">å‚è€ƒ <a href="#references" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="source">Source <a href="#source" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li><a href="../../../github.com/webpack/webpack/blob/master/lib/DllPlugin.js" tppabs="https://github.com/webpack/webpack/blob/master/lib/DllPlugin.js">DllPlugin source</a></li> <li><a href="../../../github.com/webpack/webpack/blob/master/lib/DllReferencePlugin.js" tppabs="https://github.com/webpack/webpack/blob/master/lib/DllReferencePlugin.js">DllReferencePlugin source</a></li> <li><a href="../../../github.com/webpack/webpack/blob/master/lib/DllEntryPlugin.js" tppabs="https://github.com/webpack/webpack/blob/master/lib/DllEntryPlugin.js">DllEntryPlugin source</a></li> <li><a href="../../../github.com/webpack/webpack/blob/master/lib/DllModuleFactory.js" tppabs="https://github.com/webpack/webpack/blob/master/lib/DllModuleFactory.js">DllModuleFactory source</a></li> <li><a href="../../../github.com/webpack/webpack/blob/master/lib/LibManifestPlugin.js" tppabs="https://github.com/webpack/webpack/blob/master/lib/LibManifestPlugin.js">ManifestPlugin source</a></li> </ul> <h3 id="tests">Tests <a href="#tests" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li><a href="../../../github.com/webpack/webpack/blob/master/test/configCases/dll-plugin/0-create-dll/webpack.config.js" tppabs="https://github.com/webpack/webpack/blob/master/test/configCases/dll-plugin/0-create-dll/webpack.config.js">DllPlugin creation test</a></li> <li><a href="../../../github.com/webpack/webpack/blob/master/test/configCases/dll-plugin/2-use-dll-without-scope/webpack.config.js" tppabs="https://github.com/webpack/webpack/blob/master/test/configCases/dll-plugin/2-use-dll-without-scope/webpack.config.js">DllPlugin without scope test</a></li> <li><a href="javascript:if(confirm('https://github.com/webpack/webpack/tree/master/test/configCases/dll-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/tree/master/test/configCases/dll-plugin'" tppabs="https://github.com/webpack/webpack/tree/master/test/configCases/dll-plugin">DllReferencePlugin use Dll test</a></li> </ul> <h1 id="EnvironmentPlugin">EnvironmentPlugin<a href="#EnvironmentPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>The <code>EnvironmentPlugin</code> is shorthand for using the <a href="../define-plugin.htm" tppabs="https://webpack.docschina.org/plugins/define-plugin"><code>DefinePlugin</code></a> on <a href="javascript:if(confirm('https://nodejs.org/api/process.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/api/process.html#process_process_env'" tppabs="https://nodejs.org/api/process.html#process_process_env"><code>process.env</code></a> keys.</p> <h2 id="usage">Usage <a href="#usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The <code>EnvironmentPlugin</code> accepts either an array of keys or an object mapping its keys to their default values.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>EnvironmentPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'NODE_ENV'</span><span class="token punctuation">,</span> <span class="token string">'DEBUG'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>This is equivalent to the following <code>DefinePlugin</code> application:</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string">'process.env.NODE_ENV'</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string">'process.env.DEBUG'</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DEBUG</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p>Not specifying the environment variable raises an "<code>EnvironmentPlugin</code> - <code>${key}</code> environment variable is undefined" error.</p> </blockquote> <h2 id="usage-with-default-values">Usage with default values <a href="#usage-with-default-values" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Alternatively, the <code>EnvironmentPlugin</code> supports an object, which maps keys to their default values. The default value for a key is taken if the key is undefined in <code>process.env</code>.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>EnvironmentPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token constant">NODE_ENV</span><span class="token operator">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span> <span class="token comment">// use 'development' unless process.env.NODE_ENV is defined</span>
  <span class="token constant">DEBUG</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p>Variables coming from <code>process.env</code> are always strings.</p> </blockquote> <blockquote class="tip"> <p>Unlike <a href="../define-plugin.htm" tppabs="https://webpack.docschina.org/plugins/define-plugin"><code>DefinePlugin</code></a>, default values are applied to <code>JSON.stringify</code> by the <code>EnvironmentPlugin</code>.</p> </blockquote> <blockquote class="tip"> <p>To specify an unset default value, use <code>null</code> instead of <code>undefined</code>.</p> </blockquote> <blockquote class="warning"> <p>If an environment variable is not found during bundling and no default value was provided, webpack will throw an error instead of a warning.</p> </blockquote> <p><strong>Example:</strong></p> <p>Let's investigate the result when running the previous <code>EnvironmentPlugin</code> configuration on a test file <code>entry.js</code>:</p> <pre><code class="hljs language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Welcome to production'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DEBUG</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Debugging output'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p>When executing <code>NODE_ENV=production webpack</code> in the terminal to build, <code>entry.js</code> becomes this:</p> <pre><code class="hljs language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'production'</span> <span class="token operator">===</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// &#x3C;-- 'production' from NODE_ENV is taken</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Welcome to production'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// &#x3C;-- default value is taken</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Debugging output'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p>Running <code>DEBUG=false webpack</code> yields:</p> <pre><code class="hljs language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'development'</span> <span class="token operator">===</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// &#x3C;-- default value is taken</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Welcome to production'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'false'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// &#x3C;-- 'false' from DEBUG is taken</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Debugging output'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <h2 id="use-case-git-version">Use Case: Git Version <a href="#use-case-git-version" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The following <code>EnvironmentPlugin</code> configuration provides <code>process.env.GIT_VERSION</code> (such as "v5.4.0-2-g25139f57f") and <code>process.env.GIT_AUTHOR_DATE</code> (such as "2020-11-04T12:25:16+01:00") corresponding to the last Git commit of the repository:</p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> child_process <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'child_process'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">git</span><span class="token punctuation">(</span><span class="token parameter">command</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> child_process<span class="token punctuation">.</span><span class="token function">execSync</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">git </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>command<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span> encoding<span class="token operator">:</span> <span class="token string">'utf8'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>EnvironmentPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token constant">GIT_VERSION</span><span class="token operator">:</span> <span class="token function">git</span><span class="token punctuation">(</span><span class="token string">'describe --always'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token constant">GIT_AUTHOR_DATE</span><span class="token operator">:</span> <span class="token function">git</span><span class="token punctuation">(</span><span class="token string">'log -1 --format=%aI'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="dotenvplugin"><code>DotenvPlugin</code> <a href="#dotenvplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The third-party <a href="javascript:if(confirm('https://github.com/mrsteele/dotenv-webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/mrsteele/dotenv-webpack'" tppabs="https://github.com/mrsteele/dotenv-webpack"><code>DotenvPlugin</code></a> (<code>dotenv-webpack</code>) allows you to expose (a subset of) <a href="javascript:if(confirm('https://www.npmjs.com/package/dotenv  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://www.npmjs.com/package/dotenv'" tppabs="https://www.npmjs.com/package/dotenv">dotenv variables</a>:</p> <pre><code class="hljs language-bash">// .env
<span class="token assign-left variable">DB_HOST</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1
<span class="token assign-left variable">DB_PASS</span><span class="token operator">=</span>foobar
<span class="token assign-left variable">S3_API</span><span class="token operator">=</span>mysecretkey</code></pre> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">Dotenv</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  path<span class="token operator">:</span> <span class="token string">'./.env'</span><span class="token punctuation">,</span> <span class="token comment">// Path to .env file (this is the default)</span>
  safe<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// load .env.example (defaults to "false" which does not use dotenv-safe)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h1 id="EslintWebpackPlugin">EslintWebpackPlugin<a href="#EslintWebpackPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="javascript:if(confirm('https://npmjs.com/package/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://npmjs.com/package/babel-minify-webpack-plugin'" tppabs="https://npmjs.com/package/babel-minify-webpack-plugin"><img src="../../../img.shields.io/npm/v/babel-minify-webpack-plugin.svg" tppabs="https://img.shields.io/npm/v/babel-minify-webpack-plugin.svg" alt="npm"></a> <a href="javascript:if(confirm('https://nodejs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/'" tppabs="https://nodejs.org/"><img src="../../../img.shields.io/node/v/compression-webpack-plugin.svg" tppabs="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="javascript:if(confirm('https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../status.david-dm.org/gh/webpack-contrib/babel-minify-webpack-plugin.svg" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin.svg" alt="deps"></a> <a href="javascript:if(confirm('https://github.com/webpack-contrib/compression-webpack-plugin/actions  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/compression-webpack-plugin/actions'" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="../../../github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="javascript:if(confirm('https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" alt="coverage"></a> <a href="javascript:if(confirm('https://gitter.im/webpack/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://gitter.im/webpack/webpack'" tppabs="https://gitter.im/webpack/webpack"><img src="../../../img.shields.io/badge/gitter-webpack-webpack-brightgreen.svg" tppabs="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="javascript:if(confirm('https://packagephobia.now.sh/result?p=compression-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://packagephobia.now.sh/result?p=compression-webpack-plugin'" tppabs="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="../../../badgen.net/packagephobia/install/compression-webpack-plugin" tppabs="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <blockquote> <p>A ESLint plugin for webpack</p> </blockquote> <h2 id="About-plugin">About plugin<a href="#About-plugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The plugin was born with the purpose of solving some problems of the <a href="javascript:if(confirm('https://github.com/webpack-contrib/eslint-loader  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/eslint-loader'" tppabs="https://github.com/webpack-contrib/eslint-loader">eslint-loader</a>.</p> <table> <thead> <tr> <th>info</th> <th align="center">eslint-webpack-plugin</th> <th align="center">eslint-loader</th> </tr> </thead> <tbody> <tr> <td data-th="info"><span>Easy configuration</span></td> <td align="center" data-th="eslint-webpack-plugin"><span>:heavy_check_mark:</span></td> <td align="center" data-th="eslint-loader"><span>:heavy_multiplication_x:</span></td> </tr> <tr> <td data-th="info"><span>Generate unique an output report</span></td> <td align="center" data-th="eslint-webpack-plugin"><span>:heavy_check_mark:</span></td> <td align="center" data-th="eslint-loader"><span>:heavy_multiplication_x:</span></td> </tr> <tr> <td data-th="info"><span>Using cache directly from eslint</span></td> <td align="center" data-th="eslint-webpack-plugin"><span>:heavy_check_mark:</span></td> <td align="center" data-th="eslint-loader"><span>:heavy_multiplication_x:</span></td> </tr> <tr> <td data-th="info"><span>Lint only changed files</span></td> <td align="center" data-th="eslint-webpack-plugin"><span>:heavy_check_mark:</span></td> <td align="center" data-th="eslint-loader"><span>:heavy_multiplication_x:</span></td> </tr> </tbody> </table> <h2 id="Migrate-from-eslint-loader">Migrate from <code>eslint-loader</code><a href="#Migrate-from-eslint-loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The loader <code>eslint-loader</code> will be deprecated soon, please use this plugin instead.</p> <p>Before:</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">'eslint-loader'</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// eslint options (if necessary)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>After:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ESLintPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'eslint-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">ESLintPlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="Install">Install<a href="#Install" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> eslint-webpack-plugin --save-dev</code></pre> <p><strong>Note</strong>: You also need to install <code>eslint >= 7</code> from npm, if you haven't already:</p> <pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> eslint --save-dev</code></pre> <h2 id="Usage">Usage<a href="#Usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>In your webpack configuration:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ESLintPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'eslint-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">ESLintPlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="Options">Options<a href="#Options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>You can pass <a href="javascript:if(confirm('https://eslint.org/docs/developer-guide/nodejs-api  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://eslint.org/docs/developer-guide/nodejs-api#%e2%97%86-new-eslint-options'" tppabs="https://eslint.org/docs/developer-guide/nodejs-api#%e2%97%86-new-eslint-options">eslint options</a>.</p> <p>Note that the config option you provide will be passed to the <code>ESLint</code> class. This is a different set of options than what you'd specify in <code>package.json</code> or <code>.eslintrc</code>. See the <a href="javascript:if(confirm('https://eslint.org/docs/developer-guide/nodejs-api  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://eslint.org/docs/developer-guide/nodejs-api#%e2%97%86-new-eslint-options'" tppabs="https://eslint.org/docs/developer-guide/nodejs-api#%e2%97%86-new-eslint-options">eslint docs</a> for more details.</p> <p><strong>Warning</strong>: In eslint-webpack-plugin version 1 the options were passed to the now deprecated <a href="javascript:if(confirm('https://eslint.org/docs/developer-guide/nodejs-api  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://eslint.org/docs/developer-guide/nodejs-api#cliengine'" tppabs="https://eslint.org/docs/developer-guide/nodejs-api#cliengine">CLIEngine</a>.</p> <h3 id="context"><code>context</code><a href="#context" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String</code></li> <li>Default: <code>compiler.context</code></li> </ul> <p>A string indicating the root of your files.</p> <h3 id="eslintPath"><code>eslintPath</code><a href="#eslintPath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String</code></li> <li>Default: <code>eslint</code></li> </ul> <p>Path to <code>eslint</code> instance that will be used for linting. If the <code>eslintPath</code> is a folder like a official eslint, or specify a <code>formatter</code> option. now you dont have to install <code>eslint</code>.</p> <h3 id="extensions"><code>extensions</code><a href="#extensions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String|Array[String]</code></li> <li>Default: <code>'js'</code></li> </ul> <p>Specify extensions that should be checked.</p> <h3 id="exclude"><code>exclude</code><a href="#exclude" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String|Array[String]</code></li> <li>Default: <code>'node_modules'</code></li> </ul> <p>Specify the files and/or directories to exclude. Must be relative to <code>options.context</code>.</p> <h3 id="files"><code>files</code><a href="#files" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String|Array[String]</code></li> <li>Default: <code>null</code></li> </ul> <p>Specify directories, files, or globs. Must be relative to <code>options.context</code>. Directories are traveresed recursively looking for files matching <code>options.extensions</code>. File and glob patterns ignore <code>options.extensions</code>.</p> <h3 id="fix"><code>fix</code><a href="#fix" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will enable <a href="javascript:if(confirm('https://eslint.org/docs/developer-guide/nodejs-api  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://eslint.org/docs/developer-guide/nodejs-api#%e2%97%86-eslint-outputfixes-results'" tppabs="https://eslint.org/docs/developer-guide/nodejs-api#%e2%97%86-eslint-outputfixes-results">ESLint autofix feature</a>.</p> <p><strong>Be careful: this option will change source files.</strong></p> <h3 id="formatter"><code>formatter</code><a href="#formatter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String|Function</code></li> <li>Default: <code>'stylish'</code></li> </ul> <p>Accepts a function that will have one argument: an array of eslint messages (object). The function must return the output as a string. You can use official <a href="javascript:if(confirm('https://eslint.org/docs/user-guide/formatters/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://eslint.org/docs/user-guide/formatters/'" tppabs="https://eslint.org/docs/user-guide/formatters/">eslint formatters</a>.</p> <h3 id="lintDirtyModulesOnly"><code>lintDirtyModulesOnly</code><a href="#lintDirtyModulesOnly" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Lint only changed files, skip lint on start.</p> <h4 id="threads"><code>threads</code><a href="#threads" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean | Number</code></li> <li>Default: <code>false</code></li> </ul> <p>Will run lint tasks across a thread pool. The pool size is automatic unless you specify a number.</p> <h3 id="Errors-and-Warning">Errors and Warning<a href="#Errors-and-Warning" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>By default the plugin will auto adjust error reporting depending on eslint errors/warnings counts.</strong> You can still force this behavior by using <code>emitError</code> <strong>or</strong> <code>emitWarning</code> options:</p> <h4 id="emitError"><code>emitError</code><a href="#emitError" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will always return errors, if set to <code>true</code>.</p> <h4 id="emitWarning"><code>emitWarning</code><a href="#emitWarning" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will always return warnings, if set to <code>true</code>.</p> <h4 id="failOnError"><code>failOnError</code><a href="#failOnError" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will cause the module build to fail if there are any errors, if set to <code>true</code>.</p> <h4 id="failOnWarning"><code>failOnWarning</code><a href="#failOnWarning" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will cause the module build to fail if there are any warnings, if set to <code>true</code>.</p> <h4 id="quiet"><code>quiet</code><a href="#quiet" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will process and report errors only and ignore warnings, if set to <code>true</code>.</p> <h4 id="outputReport"><code>outputReport</code><a href="#outputReport" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean|Object</code></li> <li>Default: <code>false</code></li> </ul> <p>Write the output of the errors to a file, for example a checkstyle xml file for use for reporting on Jenkins CI.</p> <p>The <code>filePath</code> is an absolute path or relative to the webpack config: <code>output.path</code>. You can pass in a different <code>formatter</code> for the output file, if none is passed in the default/configured formatter will be used.</p> <h2 id="Changelog">Changelog<a href="#Changelog" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/eslint-webpack-plugin/blob/master/CHANGELOG.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/eslint-webpack-plugin/blob/master/CHANGELOG.md'" tppabs="https://github.com/webpack-contrib/eslint-webpack-plugin/blob/master/CHANGELOG.md">Changelog</a></p> <h2 id="License">License<a href="#License" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/eslint-webpack-plugin/blob/master/LICENSE  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/eslint-webpack-plugin/blob/master/LICENSE'" tppabs="https://github.com/webpack-contrib/eslint-webpack-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="EvalSourceMapDevToolPlugin">EvalSourceMapDevToolPlugin<a href="#EvalSourceMapDevToolPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>æœ¬æ’ä»¶å¯ä»¥ä¸º source map çš„ç”Ÿæˆæä¾›æ›´å¥½æ›´ç»†ç²’åº¦çš„æ§åˆ¶ã€‚<a href="../../configuration/devtool/index.htm" tppabs="https://webpack.docschina.org/configuration/devtool/"><code>devtool</code></a> ä¸­çš„æŸäº›é…ç½®ä¼šè‡ªåŠ¨ä½¿ç”¨å®ƒã€‚</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>EvalSourceMapDevToolPlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="options">é€‰é¡¹ <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>æ”¯æŒä»¥ä¸‹é€‰é¡¹ï¼š</p> <ul> <li><code>test</code> (<code>string|RegExp|array</code>): é»˜è®¤å€¼ä¸º <code>.js</code> å’Œ <code>.css</code>ï¼Œä¸ºä¸ç»™å®šçš„æ¨¡å—æ‰©å±•åç›¸åŒ¹é…çš„æ¨¡å—ï¼Œæ·»åŠ  source mapã€‚</li> <li><code>include</code> (<code>string|RegExp|array</code>): ä¸ºä¸ç»™å®šè·¯å¾„ç›¸åŒ¹é…çš„æ¨¡å—ï¼Œæ·»åŠ  source mapã€‚</li> <li><code>exclude</code> (<code>string|RegExp|array</code>): æ’é™¤ä¸€äº›ä¸ç»™å®šå€¼ç›¸åŒ¹é…çš„æ¨¡å—ï¼Œä¸ä¼šä¸ºå®ƒä»¬ç”Ÿæˆæ˜ å°„å…³ç³»ã€‚</li> <li><code>append</code> (<code>string</code>): å°†ç»™å®šçš„å€¼æ·»åŠ åˆ°æºä»£ç ä¸­ï¼Œé€šå¸¸æ˜¯ <code>#sourceMappingURL</code> æ³¨é‡Šï¼Œ<code>[url]</code> åœ¨ source map æ–‡ä»¶ä¸­å°†ä¼šè¢«æ›¿æ¢æˆ urlï¼Œå€¼ä¸º <code>false</code> è¡¨ç¤ºä¸æ·»åŠ ã€‚</li> <li><code>moduleFilenameTemplate</code> (<code>string</code>): æŸ¥çœ‹ <a href="../../configuration/output/index.htm#outputdevtoolmodulefilenametemplate" tppabs="https://webpack.docschina.org/configuration/output/#outputdevtoolmodulefilenametemplate"><code>output.devtoolModuleFilenameTemplate</code></a>ã€‚</li> <li><code>module</code> (<code>boolean</code>): é»˜è®¤å€¼ä¸º <code>true</code>ï¼Œè¡¨ç¤ºæ˜¯å¦ä¸º loaders æ·»åŠ  source mapã€‚</li> <li><code>columns</code> (<code>boolean</code>): é»˜è®¤å€¼ä¸º <code>true</code>ï¼Œè¡¨ç¤ºæ˜¯å¦ä½¿ç”¨åˆ—æ˜ å°„(column mapping)ã€‚</li> <li><code>protocol</code> (<code>string</code>): é»˜è®¤åè®®åä¸º <code>webpack-internal://</code>ï¼Œå…è®¸ç”¨æˆ·é‡æ–°å®šä¹‰åè®®ã€‚</li> </ul> <blockquote class="tip"> <p>å°† <code>module</code> æˆ–è€… <code>columns</code> è®¾ç½®ä¸º <code>false</code> å°†äº§ç”Ÿè¾ƒä¸ç²¾ç¡®çš„æºæ˜ å°„ï¼Œä½†ä¼šæ˜æ˜¾æé«˜ç¼–è¯‘æ€§èƒ½ã€‚</p> </blockquote> <blockquote class="tip"> <p>å¦‚æœè¦åœ¨ <a href="../../configuration/mode/index.htm#mode-development" tppabs="https://webpack.docschina.org/configuration/mode/#mode-development">å¼€å‘æ¨¡å¼</a> ä¸‹å¯¹æ­¤æ’ä»¶ä½¿ç”¨è‡ªå®šä¹‰é…ç½®ï¼Œè¯·ç¡®ä¿ç¦ç”¨é»˜è®¤é…ç½®ã€‚ å³è®¾ç½® <code>devtool: false</code>ã€‚</p> </blockquote> <h2 id="examples">ç¤ºä¾‹ <a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†æ­¤æ’ä»¶çš„ä¸€äº›å¸¸è§ç”¨ä¾‹ã€‚</p> <h3 id="basic-use-case">åŸºæœ¬ç”¨ä¾‹ <a href="#basic-use-case" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç æ›¿æ¢é…ç½®é€‰é¡¹ <code>devtool: eval-source-map</code>ï¼Œå¹¶ä½¿ç”¨ç­‰æ•ˆçš„è‡ªå®šä¹‰æ’ä»¶é…ç½®ï¼š</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  devtool<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>EvalSourceMapDevToolPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="exclude-vendor-maps">æ’é™¤ Vendor(ç¬¬ä¸‰æ–¹åº“) Maps <a href="#exclude-vendor-maps" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ä¸‹é¢çš„ä»£ç å°†æ’é™¤ <code>vendor.js</code> åŒ…ä¸­ä»»ä½•æ¨¡å— source map çš„ç”Ÿæˆï¼š</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>EvalSourceMapDevToolPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  exclude<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'vendor.js'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h1 id="ExtractTextWebpackPlugin">ExtractTextWebpackPlugin<a href="#ExtractTextWebpackPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Extract text from a bundle, or bundles, into a separate file.</p> <h2 id="install">Install <a href="#install" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-bash">
<span class="token function">npm</span> <span class="token function">install</span> --save-dev extract-text-webpack-plugin
<span class="token comment"># for webpack 2</span>
<span class="token function">npm</span> <span class="token function">install</span> --save-dev extract-text-webpack-plugin@2.1.2
<span class="token comment"># for webpack 1</span>
<span class="token function">npm</span> <span class="token function">install</span> --save-dev extract-text-webpack-plugin@1.0.1</code></pre> <h2 id="usage">Usage <a href="#usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <blockquote> <p>:warning: Since webpack v4 the <code>extract-text-webpack-plugin</code> should not be used for css. Use <a href="../mini-css-extract-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/">mini-css-extract-plugin</a> instead.</p> </blockquote> <blockquote> <p>:warning: For webpack v1, see <a href="javascript:if(confirm('https://github.com/webpack/extract-text-webpack-plugin/blob/webpack-1/README.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/extract-text-webpack-plugin/blob/webpack-1/README.md'" tppabs="https://github.com/webpack/extract-text-webpack-plugin/blob/webpack-1/README.md">the README in the webpack-1 branch</a>.</p> </blockquote> <pre><code class="hljs language-js"><span class="token keyword">const</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"extract-text-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          fallback<span class="token operator">:</span> <span class="token string">"style-loader"</span><span class="token punctuation">,</span>
          use<span class="token operator">:</span> <span class="token string">"css-loader"</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token string">"styles.css"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre> <p>It moves all the required <code>*.css</code> modules in entry chunks into a separate CSS file. So your styles are no longer inlined into the JS bundle, but in a separate CSS file (<code>styles.css</code>). If your total stylesheet volume is big, it will be faster because the CSS bundle is loaded in parallel to the JS bundle.</p> <table> <thead> <tr> <th align="left">Advantages</th> <th align="left">Caveats</th> </tr> </thead> <tbody> <tr> <td align="left" data-th="Advantages"><span>Fewer style tags (older IE has a limit)</span></td> <td align="left" data-th="Caveats"><span>Additional HTTP request</span></td> </tr> <tr> <td align="left" data-th="Advantages"><span>CSS SourceMap (with <code>devtool: "source-map"</code> and <code>extract-text-webpack-plugin?sourceMap</code>)</span></td> <td align="left" data-th="Caveats"><span>Longer compilation time</span></td> </tr> <tr> <td align="left" data-th="Advantages"><span>CSS requested in parallel</span></td> <td align="left" data-th="Caveats"><span>No runtime public path modification</span></td> </tr> <tr> <td align="left" data-th="Advantages"><span>CSS cached separate</span></td> <td align="left" data-th="Caveats"><span>No Hot Module Replacement</span></td> </tr> <tr> <td align="left" data-th="Advantages"><span>Faster runtime (less code and DOM operations)</span></td> <td align="left" data-th="Caveats"><span>...</span></td> </tr> </tbody> </table> <h2 id="options">Options <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span>options<span class="token operator">:</span> filename <span class="token operator">|</span> object<span class="token punctuation">)</span></code></pre> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><strong><code>id</code></strong></span></td> <td align="center" data-th="Type"><span><code>{String}</code></span></td> <td align="left" data-th="Description"><span>Unique ident for this plugin instance. (For advanced usage only, by default automatically generated)</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>filename</code></strong></span></td> <td align="center" data-th="Type"><span><code>{String|Function}</code></span></td> <td align="left" data-th="Description"><span>Name of the result file. May contain <code>[name]</code>, <code>[id]</code> and <code>[contenthash]</code></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>allChunks</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Boolean}</code></span></td> <td align="left" data-th="Description"><span>Extract from all additional chunks too (by default it extracts only from the initial chunk(s))<br/>When using <code>CommonsChunkPlugin</code> and there are extracted chunks (from <code>ExtractTextPlugin.extract</code>) in the commons chunk, <code>allChunks</code> <strong>must</strong> be set to <code>true</code></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>disable</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Boolean}</code></span></td> <td align="left" data-th="Description"><span>Disables the plugin</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>ignoreOrder</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Boolean}</code></span></td> <td align="left" data-th="Description"><span>Disables order check (useful for CSS Modules!), <code>false</code> by default</span></td> </tr> </tbody> </table> <ul> <li><code>[name]</code> name of the chunk</li> <li><code>[id]</code> number of the chunk</li> <li><code>[contenthash]</code> hash of the content of the extracted file</li> <li><code>[&#x3C;hashType>:contenthash:&#x3C;digestType>:&#x3C;length>]</code> optionally you can configure <ul> <li>other <code>hashType</code>s, e.g. <code>sha1</code>, <code>md5</code>, <code>sha256</code>, <code>sha512</code></li> <li>other <code>digestType</code>s, e.g. <code>hex</code>, <code>base26</code>, <code>base32</code>, <code>base36</code>, <code>base49</code>, <code>base52</code>, <code>base58</code>, <code>base62</code>, <code>base64</code></li> <li>and <code>length</code>, the length of the hash in chars</li> </ul> </li> </ul> <blockquote> <p>:warning: <code>ExtractTextPlugin</code> generates a file <strong>per entry</strong>, so you must use <code>[name]</code>, <code>[id]</code> or <code>[contenthash]</code> when using multiple entries.</p> </blockquote> <h4 id="extract"><code>#extract</code> <a href="#extract" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <pre><code class="hljs language-js">ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span>options<span class="token operator">:</span> loader <span class="token operator">|</span> object<span class="token punctuation">)</span></code></pre> <p>Creates an extracting loader from an existing loader. Supports loaders of type <code>{ loader: [name]-loader -> {String}, options: {} -> {Object} }</code>.</p> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><strong><code>options.use</code></strong></span></td> <td align="center" data-th="Type"><span><code>{String}</code>/<code>{Array}</code>/<code>{Object}</code></span></td> <td align="left" data-th="Description"><span>Loader(s) that should be used for converting the resource to a CSS exporting module <em>(required)</em></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>options.fallback</code></strong></span></td> <td align="center" data-th="Type"><span><code>{String}</code>/<code>{Array}</code>/<code>{Object}</code></span></td> <td align="left" data-th="Description"><span>loader(e.g <code>'style-loader'</code>) that should be used when the CSS is not extracted (i.e. in an additional chunk when <code>allChunks: false</code>)</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>options.publicPath</code></strong></span></td> <td align="center" data-th="Type"><span><code>{String}</code></span></td> <td align="left" data-th="Description"><span>Override the <code>publicPath</code> setting for this loader</span></td> </tr> </tbody> </table> <h4 id="multiple-instances">Multiple Instances <a href="#multiple-instances" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>There is also an <code>extract</code> function on the instance. You should use this if you have more than one instance of <code>ExtractTextPlugin</code>.</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'extract-text-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Create multiple instances</span>
<span class="token keyword">const</span> extractCSS <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token string">'stylesheets/[name]-one.css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> extractLESS <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token string">'stylesheets/[name]-two.css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> extractCSS<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">[</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'postcss-loader'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> extractLESS<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">[</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'less-loader'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    extractCSS<span class="token punctuation">,</span>
    extractLESS
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="extracting-sass-or-less">Extracting Sass or LESS <a href="#extracting-sass-or-less" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The configuration is the same, switch out <code>sass-loader</code> for <code>less-loader</code> when necessary.</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'extract-text-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          fallback<span class="token operator">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
          use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'sass-loader'</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token string">'style.css'</span><span class="token punctuation">)</span>
    <span class="token comment">//if you want to pass in options, you can do so:</span>
    <span class="token comment">//new ExtractTextPlugin({</span>
    <span class="token comment">//  filename: 'style.css'</span>
    <span class="token comment">//})</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre> <h3 id="url-resolving"><code>url()</code> Resolving <a href="#url-resolving" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>If you are finding that urls are not resolving properly when you run webpack. You can expand your loader functionality with options. The <code>url: false</code> property allows your paths resolved without any changes.</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'extract-text-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.scss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          fallback<span class="token operator">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span>
          use<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
                options<span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token comment">// If you are having trouble with urls not resolving add this setting.</span>
                    <span class="token comment">// See https://github.com/webpack-contrib/css-loader#url</span>
                    url<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    sourceMap<span class="token operator">:</span> <span class="token boolean">true</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> 
            <span class="token punctuation">{</span>
                loader<span class="token operator">:</span> <span class="token string">'sass-loader'</span><span class="token punctuation">,</span>
                options<span class="token operator">:</span> <span class="token punctuation">{</span>
                    sourceMap<span class="token operator">:</span> <span class="token boolean">true</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> <h3 id="modify-filename">Modify filename <a href="#modify-filename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>filename</code> parameter could be <code>Function</code>. It passes <code>getPath</code> to process the format like <code>css/[name].css</code> and returns the real file name, <code>css/js/a.css</code>. You can replace <code>css/js</code> with <code>css</code> then you will get the new path <code>css/a.css</code>.</p> <pre><code class="hljs language-js">entry<span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string">'js/a'</span><span class="token operator">:</span> <span class="token string">"./a"</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">filename</span><span class="token operator">:</span>  <span class="token punctuation">(</span><span class="token parameter">getPath</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">getPath</span><span class="token punctuation">(</span><span class="token string">'css/[name].css'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'css/js'</span><span class="token punctuation">,</span> <span class="token string">'css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    allChunks<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span></code></pre> <h2 id="maintainers">Maintainers <a href="#maintainers" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <table> <tbody> <tr> <td align="center"> <img width="150" height="150" src="../../../avatars3.githubusercontent.com/u/166921-v=3&s=150" tppabs="https://avatars3.githubusercontent.com/u/166921?v=3&s=150"> <br> <a href="javascript:if(confirm('https://github.com/bebraw  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/bebraw'" tppabs="https://github.com/bebraw">Juho VepsÃ¤lÃ¤inen</a> </td> <td align="center"> <img width="150" height="150" src="../../../avatars2.githubusercontent.com/u/8420490-v=3&s=150" tppabs="https://avatars2.githubusercontent.com/u/8420490?v=3&s=150"> <br> <a href="javascript:if(confirm('https://github.com/d3viant0ne  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/d3viant0ne'" tppabs="https://github.com/d3viant0ne">Joshua Wiens</a> </td> <td align="center"> <img width="150" height="150" src="../../../avatars3.githubusercontent.com/u/533616-v=3&s=150" tppabs="https://avatars3.githubusercontent.com/u/533616?v=3&s=150"> <br> <a href="javascript:if(confirm('https://github.com/SpaceK33z  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/SpaceK33z'" tppabs="https://github.com/SpaceK33z">Kees Kluskens</a> </td> <td align="center"> <img width="150" height="150" src="../../../avatars3.githubusercontent.com/u/3408176-v=3&s=150" tppabs="https://avatars3.githubusercontent.com/u/3408176?v=3&s=150"> <br> <a href="javascript:if(confirm('https://github.com/TheLarkInn  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/TheLarkInn'" tppabs="https://github.com/TheLarkInn">Sean Larkin</a> </td> </tr> <tbody> </tbody></tbody></table> <h1 id="HashedModuleIdsPlugin">HashedModuleIdsPlugin<a href="#HashedModuleIdsPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>This plugin will cause hashes to be based on the relative path of the module, generating a four character string as the module id. Suggested for use in production.</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ids<span class="token punctuation">.</span>HashedModuleIdsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// Options...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="options">Options <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>This plugin supports the following options:</p> <ul> <li><code>context</code>: The context directory (<strong>absolute path</strong>) for creating names.</li> <li><code>hashFunction</code>: The hashing algorithm to use, defaults to <code>'md4'</code>. All functions from Node.JS' <a href="javascript:if(confirm('https://nodejs.org/api/crypto.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/api/crypto.html#crypto_crypto_createhash_algorithm_options'" tppabs="https://nodejs.org/api/crypto.html#crypto_crypto_createhash_algorithm_options"><code>crypto.createHash</code></a> are supported.</li> <li><code>hashDigest</code>: The encoding to use when generating the hash, defaults to <code>'base64'</code>. All encodings from Node.JS' <a href="javascript:if(confirm('https://nodejs.org/api/crypto.html  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/api/crypto.html#crypto_hash_digest_encoding'" tppabs="https://nodejs.org/api/crypto.html#crypto_hash_digest_encoding"><code>hash.digest</code></a> are supported.</li> <li><code>hashDigestLength</code>: The prefix length of the hash digest to use, defaults to <code>4</code>. Note that some generated ids might be longer than specified here, to avoid module id collisions.</li> </ul> <h2 id="usage">Usage <a href="#usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Here's an example of how this plugin might be used:</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ids<span class="token punctuation">.</span>HashedModuleIdsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  context<span class="token operator">:</span> __dirname<span class="token punctuation">,</span>
  hashFunction<span class="token operator">:</span> <span class="token string">'sha256'</span><span class="token punctuation">,</span>
  hashDigest<span class="token operator">:</span> <span class="token string">'hex'</span><span class="token punctuation">,</span>
  hashDigestLength<span class="token operator">:</span> <span class="token number">20</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h1 id="HotModuleReplacementPlugin">HotModuleReplacementPlugin<a href="#HotModuleReplacementPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="../../concepts/hot-module-replacement.htm" tppabs="https://webpack.docschina.org/concepts/hot-module-replacement">Hot Module Replacement</a>ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜è¢«ç§°ä¸º HMRã€‚</p> <blockquote class="warning"> <p>HMR <strong>ç»å¯¹ä¸èƒ½</strong>è¢«ç”¨åœ¨ç”Ÿäº§ç¯å¢ƒã€‚</p> </blockquote> <h2 id="basic-usage">åŸºæœ¬ä½¿ç”¨ <a href="#basic-usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>å¯ç”¨ HMR å¾ˆå®¹æ˜“ï¼Œä¸”åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä¸éœ€è¦ä»»ä½•é…ç½®ã€‚</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// Options...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h1 id="HtmlMinimizerWebpackPlugin">HtmlMinimizerWebpackPlugin<a href="#HtmlMinimizerWebpackPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="javascript:if(confirm('https://npmjs.com/package/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://npmjs.com/package/babel-minify-webpack-plugin'" tppabs="https://npmjs.com/package/babel-minify-webpack-plugin"><img src="../../../img.shields.io/npm/v/babel-minify-webpack-plugin.svg" tppabs="https://img.shields.io/npm/v/babel-minify-webpack-plugin.svg" alt="npm"></a> <a href="javascript:if(confirm('https://nodejs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/'" tppabs="https://nodejs.org/"><img src="../../../img.shields.io/node/v/compression-webpack-plugin.svg" tppabs="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="javascript:if(confirm('https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../status.david-dm.org/gh/webpack-contrib/babel-minify-webpack-plugin.svg" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin.svg" alt="deps"></a> <a href="javascript:if(confirm('https://github.com/webpack-contrib/compression-webpack-plugin/actions  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/compression-webpack-plugin/actions'" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="../../../github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="javascript:if(confirm('https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" alt="cover"></a> <a href="javascript:if(confirm('https://gitter.im/webpack/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://gitter.im/webpack/webpack'" tppabs="https://gitter.im/webpack/webpack"><img src="../../../img.shields.io/badge/gitter-webpack-webpack-brightgreen.svg" tppabs="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="javascript:if(confirm('https://packagephobia.now.sh/result?p=compression-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://packagephobia.now.sh/result?p=compression-webpack-plugin'" tppabs="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="../../../badgen.net/packagephobia/install/compression-webpack-plugin" tppabs="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <p>This plugin uses <a href="javascript:if(confirm('https://github.com/terser/html-minifier-terser  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/terser/html-minifier-terser'" tppabs="https://github.com/terser/html-minifier-terser">html-minifier-terser</a> to optimize and minify your HTML.</p> <h2 id="Getting-Started">Getting Started<a href="#Getting-Started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To begin, you'll need to install <code>html-minimizer-webpack-plugin</code>:</p> <pre><code class="hljs language-console">$ npm install html-minimizer-webpack-plugin --save-dev
</code></pre> <p>Then add the plugin to your <code>webpack</code> configuration. For example:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> HtmlMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"html-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CopyPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"copy-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    loaders<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.html$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">"file-loader"</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              name<span class="token operator">:</span> <span class="token string">"[name].[ext]"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          context<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"./src/*.html"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// For webpack@5 you can use the `...` syntax to extend existing minimizers (i.e. `terser-webpack-plugin`), uncomment the next line</span>
      <span class="token comment">// `...`</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>This will enable HTML optimization only in production mode. If you want to run it also in development set the <code>optimization.minimize</code> option to <code>true</code>.</p> <p>And run <code>webpack</code> via your preferred method.</p> <h2 id="Options-1">Options<a href="#Options-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="test"><code>test</code><a href="#test" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> - default: <code>/\.html(\?.*)?$/i</code></p> <p>Test to match files against.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.foo\.html</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="include"><code>include</code><a href="#include" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Files to include.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        include<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/includes</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="exclude-1"><code>exclude</code><a href="#exclude-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Files to exclude.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/excludes</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="parallel"><code>parallel</code><a href="#parallel" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Boolean|Number</code> Default: <code>true</code></p> <p>Use multi-process parallel running to improve the build speed. Default number of concurrent runs: <code>os.cpus().length - 1</code>.</p> <blockquote> <p>â„¹ï¸ Parallelization can speedup your build significantly and is therefore <strong>highly recommended</strong>.</p> </blockquote> <h4 id="Boolean"><code>Boolean</code><a href="#Boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Enable/disable multi-process parallel running.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        parallel<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="Number"><code>Number</code><a href="#Number" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Enable multi-process parallel running and set number of concurrent runs.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        parallel<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minify"><code>minify</code><a href="#minify" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Function</code> Default: <code>undefined</code></p> <p>Allows you to override default minify function. By default plugin uses <a href="javascript:if(confirm('https://github.com/terser/html-minifier-terser  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/terser/html-minifier-terser'" tppabs="https://github.com/terser/html-minifier-terser">html-minifier-terser</a> package. Useful for using and testing unpublished versions or forks.</p> <blockquote> <p>âš ï¸ <strong>Always use <code>require</code> inside <code>minify</code> function when <code>parallel</code> option enabled</strong>.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          collapseWhitespace<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">minify</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> minimizerOptions</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> htmlMinifier <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"html-minifier-terser"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>filename<span class="token punctuation">,</span> input<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token keyword">return</span> htmlMinifier<span class="token punctuation">.</span><span class="token function">minify</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> minimizerOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minimizerOptions"><code>minimizerOptions</code><a href="#minimizerOptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Object</code> Default: <code>{ caseSensitive: true, collapseWhitespace: true, conservativeCollapse: true, keepClosingSlash: true, minifyCSS: true, minifyJS: true, removeComments: true, removeScriptTypeAttributes: true, removeStyleLinkTypeAttributes: true, }</code></p> <p><code>Html-minifier-terser</code> optimisations <a href="javascript:if(confirm('https://github.com/terser/html-minifier-terser  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/terser/html-minifier-terser#options-quick-reference'" tppabs="https://github.com/terser/html-minifier-terser#options-quick-reference">options</a>.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">HtmlMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          collapseWhitespace<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="Contributing">Contributing<a href="#Contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/html-minimizer-webpack-plugin/blob/master/.github/CONTRIBUTING.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/html-minimizer-webpack-plugin/blob/master/.github/CONTRIBUTING.md'" tppabs="https://github.com/webpack-contrib/html-minimizer-webpack-plugin/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="License-1">License<a href="#License-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/html-minimizer-webpack-plugin/blob/master/LICENSE  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/html-minimizer-webpack-plugin/blob/master/LICENSE'" tppabs="https://github.com/webpack-contrib/html-minimizer-webpack-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="HtmlWebpackPlugin">HtmlWebpackPlugin<a href="#HtmlWebpackPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>The <a href="javascript:if(confirm('https://github.com/jantimon/html-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/jantimon/html-webpack-plugin'" tppabs="https://github.com/jantimon/html-webpack-plugin"><code>HtmlWebpackPlugin</code></a> simplifies creation of HTML files to serve your webpack bundles. This is especially useful for webpack bundles that include a hash in the filename which changes every compilation. You can either let the plugin generate an HTML file for you, supply your own template using <a href="javascript:if(confirm('https://lodash.com/docs  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://lodash.com/docs#template'" tppabs="https://lodash.com/docs#template">lodash templates</a>, or use your own <a href="../../loaders.htm" tppabs="https://webpack.docschina.org/loaders">loader</a>.</p> <h2 id="installation">Installation <a href="#installation" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev html-webpack-plugin</code></pre> <h2 id="basic-usage">Basic Usage <a href="#basic-usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The plugin will generate an HTML5 file for you that includes all your webpack bundles in the body using <code>script</code> tags. Just add the plugin to your webpack configuration as follows:</p> <pre><code class="hljs language-javascript"><span class="token keyword">var</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'index.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'index_bundle.js'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>This will generate a file <code>dist/index.html</code> containing the following:</p> <pre><code class="hljs language-html"><span class="token doctype"><span class="token punctuation">&#x3C;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>title</span><span class="token punctuation">></span></span>webpack App<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index_bundle.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>html</span><span class="token punctuation">></span></span></code></pre> <p>If you have multiple webpack entry points, they will all be included with <code>&#x3C;script></code> tags in the generated HTML.</p> <p>If you have any CSS assets in webpack's output (for example, CSS extracted with the <a href="../mini-css-extract-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin/">MiniCssExtractPlugin</a>) then these will be included with <code>&#x3C;link></code> tags in the <code>&#x3C;head></code> element of generated HTML.</p> <h2 id="configuration">Configuration <a href="#configuration" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>For all configuration options, please see the <a href="javascript:if(confirm('https://github.com/jantimon/html-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/jantimon/html-webpack-plugin#options'" tppabs="https://github.com/jantimon/html-webpack-plugin#options">plugin documentation</a>.</p> <h2 id="third-party-addons">Third party addons <a href="#third-party-addons" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The plugin supports addons. For a list see the <a href="javascript:if(confirm('https://github.com/jantimon/html-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/jantimon/html-webpack-plugin#plugins'" tppabs="https://github.com/jantimon/html-webpack-plugin#plugins">documentation</a>.</p> <h1 id="I18nWebpackPlugin">I18nWebpackPlugin<a href="#I18nWebpackPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>webpack çš„ i18nï¼ˆæœ¬åœ°åŒ–ï¼‰æ’ä»¶</p> <h2 id="install">å®‰è£… <a href="#install" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-bash"><span class="token function">npm</span> i -D i18n-webpack-plugin</code></pre> <h2 id="usage">ä½¿ç”¨ <a href="#usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>è¯¥æ’ä»¶ä¼šåœ¨ bundle çš„ç”Ÿæˆè¿‡ç¨‹ä¸­è¿›è¡Œæ–‡æ¡ˆç¿»è¯‘ï¼Œå› æ­¤ä½ å¯ä»¥ç›´æ¥å°†ç¿»è¯‘åçš„ bundle äº¤ä»˜ç»™ç”¨æˆ·ã€‚</p> <p>å…·ä½“ç¤ºä¾‹å¯è§ <a href="javascript:if(confirm('https://github.com/webpack/webpack/tree/master/examples/i18n  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/tree/master/examples/i18n'" tppabs="https://github.com/webpack/webpack/tree/master/examples/i18n">webpack/webpack/examples/i18n</a>.</p> <h2 id="options">æ’ä»¶é…ç½® <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code>plugins: [
  ...
  new I18nPlugin(languageConfig, optionsObj)
],
</code></pre> <ul> <li><code>optionsObj.functionName</code>: é»˜è®¤å€¼ä¸º <code>__</code>ï¼Œä½ å¯ä»¥å°†å…¶ä¿®æ”¹ä¸ºå…¶ä»–å‡½æ•°åã€‚</li> <li><code>optionsObj.failOnMissing</code>ï¼šé»˜è®¤å€¼ä¸º <code>false</code>ï¼Œå¦‚æœè¦ç¿»è¯‘çš„æ–‡æœ¬ç¼ºå¤±ï¼Œæ’ä»¶ä¼šå±•ç¤ºè­¦å‘Šä¿¡æ¯ã€‚è‹¥è®¾ç½®ä¸º <code>true</code>ï¼Œåœ¨ä¸Šè¿°æƒ…å†µä¸‹æ’ä»¶å°†ä¼šæŠ›å‡ºé”™è¯¯ä¿¡æ¯ã€‚</li> <li><code>optionsObj.hideMessage</code>ï¼šé»˜è®¤å€¼ä¸º <code>false</code>ï¼Œæ’ä»¶å¯ä»¥å±•ç¤ºè­¦å‘Š/æŠ¥é”™ä¿¡æ¯. è‹¥è®¾ç½®ä¸º <code>true</code>ï¼Œæ’ä»¶å°†ä¼šéšè—ç›¸å…³çš„è­¦å‘Šæˆ–æŠ¥é”™ä¿¡æ¯ã€‚</li> <li><code>optionsObj.nested</code>ï¼šé»˜è®¤å€¼ä¸º <code>false</code>ã€‚å¦‚æœè®¾ç½®ä¸º <code>true</code>ï¼Œ<code>languageConfig</code> ä¸­é”®å€¼çš„ç¼–å†™å¯ä»¥åµŒå¥—ã€‚è¯¥é€‰é¡¹å½“ä¸”ä»…å½“å‚æ•° <code>languageConfig</code> çš„ç±»å‹ä¸æ˜¯ä¸€ä¸ªå‡½æ•°æ—¶æ‰èƒ½ç”Ÿæ•ˆ.</li> </ul> <h2 id="maintainers">ç»´æŠ¤è€… <a href="#maintainers" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <table> <tbody> <tr> <td align="center"> <img width="150" height="150" src="../../../avatars3.githubusercontent.com/u/166921-v=3&s=150" tppabs="https://avatars3.githubusercontent.com/u/166921?v=3&s=150"> <br> <a href="javascript:if(confirm('https://github.com/bebraw  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/bebraw'" tppabs="https://github.com/bebraw">Juho VepsÃ¤lÃ¤inen</a> </td> <td align="center"> <img width="150" height="150" src="../../../avatars2.githubusercontent.com/u/8420490-v=3&s=150" tppabs="https://avatars2.githubusercontent.com/u/8420490?v=3&s=150"> <br> <a href="javascript:if(confirm('https://github.com/d3viant0ne  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/d3viant0ne'" tppabs="https://github.com/d3viant0ne">Joshua Wiens</a> </td> <td align="center"> <img width="150" height="150" src="../../../avatars3.githubusercontent.com/u/533616-v=3&s=150" tppabs="https://avatars3.githubusercontent.com/u/533616?v=3&s=150"> <br> <a href="javascript:if(confirm('https://github.com/SpaceK33z  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/SpaceK33z'" tppabs="https://github.com/SpaceK33z">Kees Kluskens</a> </td> <td align="center"> <img width="150" height="150" src="../../../avatars3.githubusercontent.com/u/3408176-v=3&s=150" tppabs="https://avatars3.githubusercontent.com/u/3408176?v=3&s=150"> <br> <a href="javascript:if(confirm('https://github.com/TheLarkInn  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/TheLarkInn'" tppabs="https://github.com/TheLarkInn">Sean Larkin</a> </td> </tr> <tbody> </tbody></tbody></table> <h1 id="IgnorePlugin">IgnorePlugin<a href="#IgnorePlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>IgnorePlugin prevents the generation of modules for <code>import</code> or <code>require</code> calls matching the regular expressions or filter functions:</p> <h2 id="using-regular-expressions">Using regular expressions <a href="#using-regular-expressions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li><code>resourceRegExp</code>: A RegExp to test the resource against.</li> <li><code>contextRegExp</code>: (optional) A RegExp to test the context (directory) against.</li> </ul> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>IgnorePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>resourceRegExp<span class="token punctuation">,</span> contextRegExp<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Supported in webpack 4 and earlier, unsupported in webpack 5:</span>
<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>IgnorePlugin</span><span class="token punctuation">(</span>resourceRegExp<span class="token punctuation">,</span> <span class="token punctuation">[</span>contextRegExp<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="using-filter-functions">Using filter functions <a href="#using-filter-functions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li><code>checkResource (resource, context)</code> A Filter function that receives <code>resource</code> and <code>context</code> as arguments, must return boolean.</li> <li><code>checkContext (context)</code> was <strong>removed in webpack 5</strong> as <code>checkResource</code> already gets context.</li> </ul> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>IgnorePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">checkResource</span> <span class="token punctuation">(</span><span class="token parameter">resource</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// do something with resource</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token operator">|</span><span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="example-of-ignoring-moment-locales">Example of ignoring Moment Locales <a href="#example-of-ignoring-moment-locales" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>As of <a href="javascript:if(confirm('https://momentjs.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://momentjs.com/'" tppabs="https://momentjs.com/">moment</a> 2.18, all locales are bundled together with the core library (see <a href="javascript:if(confirm('https://github.com/moment/moment/issues/2373  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/moment/moment/issues/2373'" tppabs="https://github.com/moment/moment/issues/2373">this GitHub issue</a>).</p> <p>The <code>resourceRegExp</code> parameter passed to <code>IgnorePlugin</code> is not tested against the resolved file names or absolute module names being imported or required, but rather against the <em>string</em> passed to <code>require</code> or <code>import</code> <em>within the source code where the import is taking place</em>. For example, if you're trying to exclude <code>node_modules/moment/locale/*.js</code>, this won't work:</p> <pre><code class="hljs language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">new webpack.IgnorePlugin({requestRegExp: /moment\/locale\//});</span></span></code></pre> <p>Rather, because <code>moment</code> imports with this code:</p> <pre><code class="hljs language-js"><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./locale/'</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>...your first regexp must match that <code>'./locale/'</code> string. The second <code>contextRegExp</code> parameter is then used to select specific directories from where the import took place. The following will cause those locale files to be ignored:</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>IgnorePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  resourceRegExp<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\.\/locale$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  contextRegExp<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">moment$</span><span class="token regex-delimiter">/</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>...which means "any require statement matching <code>'./locale'</code> from any directories ending with <code>'moment'</code> will be ignored.</p> <h1 id="ImageMinimizerWebpackPlugin">ImageMinimizerWebpackPlugin<a href="#ImageMinimizerWebpackPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <pre><code>Plugin and Loader for &#x3C;a href="http://webpack.js.org/">webpack&#x3C;/a> to optimize (compress) all images using &#x3C;a href="https://github.com/imagemin/imagemin">imagemin&#x3C;/a>.
Do not worry about size of images, now they are always optimized/compressed.
</code></pre> <p><a href="javascript:if(confirm('https://npmjs.com/package/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://npmjs.com/package/babel-minify-webpack-plugin'" tppabs="https://npmjs.com/package/babel-minify-webpack-plugin"><img src="../../../img.shields.io/npm/v/babel-minify-webpack-plugin.svg" tppabs="https://img.shields.io/npm/v/babel-minify-webpack-plugin.svg" alt="npm"></a> <a href="javascript:if(confirm('https://nodejs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/'" tppabs="https://nodejs.org/"><img src="../../../img.shields.io/node/v/compression-webpack-plugin.svg" tppabs="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="javascript:if(confirm('https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../status.david-dm.org/gh/webpack-contrib/babel-minify-webpack-plugin.svg" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin.svg" alt="deps"></a> <a href="javascript:if(confirm('https://github.com/webpack-contrib/compression-webpack-plugin/actions  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/compression-webpack-plugin/actions'" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="../../../github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="javascript:if(confirm('https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" alt="cover"></a> <a href="javascript:if(confirm('https://gitter.im/webpack/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://gitter.im/webpack/webpack'" tppabs="https://gitter.im/webpack/webpack"><img src="../../../img.shields.io/badge/gitter-webpack-webpack-brightgreen.svg" tppabs="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="javascript:if(confirm('https://packagephobia.now.sh/result?p=compression-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://packagephobia.now.sh/result?p=compression-webpack-plugin'" tppabs="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="../../../badgen.net/packagephobia/install/compression-webpack-plugin" tppabs="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <p>This plugin uses <a href="javascript:if(confirm('https://github.com/imagemin/imagemin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/imagemin/imagemin'" tppabs="https://github.com/imagemin/imagemin">imagemin</a> to optimize your images.</p> <h2 id="Getting-Started-1">Getting Started<a href="#Getting-Started-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To begin, you'll need to install <code>image-minimizer-webpack-plugin</code>:</p> <pre><code class="hljs language-console">$ npm install image-minimizer-webpack-plugin --save-dev
</code></pre> <p>Images can be optimized in two modes:</p> <ol> <li><a href="javascript:if(confirm('https://en.wikipedia.org/wiki/Lossless_compression  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://en.wikipedia.org/wiki/Lossless_compression'" tppabs="https://en.wikipedia.org/wiki/Lossless_compression">Lossless</a> (without loss of quality).</li> <li><a href="javascript:if(confirm('https://en.wikipedia.org/wiki/Lossy_compression  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://en.wikipedia.org/wiki/Lossy_compression'" tppabs="https://en.wikipedia.org/wiki/Lossy_compression">Lossy</a> (with loss of quality).</li> </ol> <p>Note:</p> <ul> <li><a href="javascript:if(confirm('https://github.com/imagemin/imagemin-mozjpeg  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/imagemin/imagemin-mozjpeg'" tppabs="https://github.com/imagemin/imagemin-mozjpeg">imagemin-mozjpeg</a> can be configured in lossless and lossy mode.</li> <li><a href="javascript:if(confirm('https://github.com/imagemin/imagemin-svgo  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/imagemin/imagemin-svgo'" tppabs="https://github.com/imagemin/imagemin-svgo">imagemin-svgo</a> can be configured in lossless and lossy mode.</li> </ul> <p>Explore the options to get the best result for you.</p> <p><strong>Recommended imagemin plugins for lossless optimization</strong></p> <pre><code class="hljs language-shell"><span class="token function">npm</span> <span class="token function">install</span> imagemin-gifsicle imagemin-jpegtran imagemin-optipng imagemin-svgo --save-dev</code></pre> <p><strong>Recommended imagemin plugins for lossy optimization</strong></p> <pre><code class="hljs language-shell"><span class="token function">npm</span> <span class="token function">install</span> imagemin-gifsicle imagemin-mozjpeg imagemin-pngquant imagemin-svgo --save-dev</code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpe?g|png|gif|svg)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'file-loader'</span><span class="token punctuation">,</span> <span class="token comment">// Or `url-loader` or your other loader</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// Lossless optimization with custom option</span>
        <span class="token comment">// Feel free to experiment with options for better result for you</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">[</span><span class="token string">'gifsicle'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> interlaced<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">[</span><span class="token string">'jpegtran'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> progressive<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">[</span><span class="token string">'optipng'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> optimizationLevel<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">[</span>
            <span class="token string">'svgo'</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                  removeViewBox<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote> <p>â„¹ï¸ Only for <code>4</code> version of <code>webpack</code>: Make sure that plugin place after any plugins that add images or other assets which you want to optimized.**</p> </blockquote> <blockquote> <p>â„¹ï¸ If you want to use <code>loader</code> or <code>plugin</code> standalone see sections below, but this is not recommended.</p> </blockquote> <h3 id="Standalone-Loader">Standalone Loader<a href="#Standalone-Loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><a href="../../concepts/loaders/index.htm" tppabs="https://webpack.docschina.org/concepts/loaders/">Documentation: Using loaders</a></p> <p>In your <code>webpack.config.js</code>, add the <code>ImageMinimizerPlugin.loader</code>, chained with the <a href="../../loaders/file-loader/index.htm" tppabs="https://webpack.docschina.org/loaders/file-loader/">file-loader</a> or <a href="../../loaders/url-loader/index.htm" tppabs="https://webpack.docschina.org/loaders/url-loader/">url-loader</a>:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpe?g|png|gif|svg)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'file-loader'</span><span class="token punctuation">,</span> <span class="token comment">// Or `url-loader` or your other loader</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              severityError<span class="token operator">:</span> <span class="token string">'warning'</span><span class="token punctuation">,</span> <span class="token comment">// Ignore errors on corrupted images</span>
              minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'gifsicle'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="Standalone-Plugin">Standalone Plugin<a href="#Standalone-Plugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><a href="../../concepts/plugins/index.htm" tppabs="https://webpack.docschina.org/concepts/plugins/">Documentation: Using plugins</a></p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageminWebpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        loader<span class="token operator">:</span> <span class="token string">'file-loader'</span><span class="token punctuation">,</span>
        options<span class="token operator">:</span> <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">'[path][name].[ext]'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpe?g|png|gif|svg)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// Make sure that the plugin placed after any plugins that added images</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageminWebpack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      severityError<span class="token operator">:</span> <span class="token string">'warning'</span><span class="token punctuation">,</span> <span class="token comment">// Ignore errors on corrupted images</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'gifsicle'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// Disable `loader`</span>
      loader<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="Options-2">Options<a href="#Options-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="Plugin-Options">Plugin Options<a href="#Plugin-Options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="center">Default</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><strong><code>test</code></strong></span></td> <td align="center" data-th="Type"><span><code>{String\/RegExp|Array&#x3C;String|RegExp>}</code></span></td> <td align="center" data-th="Default"><span><code>/.(jpe?g|png|gif|tif|webp|svg|avif)$/i</code></span></td> <td align="left" data-th="Description"><span>Test to match files against</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>include</code></strong></span></td> <td align="center" data-th="Type"><span><code>{String\/RegExp|Array&#x3C;String|RegExp>}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Files to <code>include</code></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>exclude</code></strong></span></td> <td align="center" data-th="Type"><span><code>{String\/RegExp|Array&#x3C;String|RegExp>}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Files to <code>exclude</code></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>filter</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Function}</code></span></td> <td align="center" data-th="Default"><span><code>() => true</code></span></td> <td align="left" data-th="Description"><span>Allows filtering of images for optimization</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>severityError</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Boolean|String}</code></span></td> <td align="center" data-th="Default"><span><code>'auto'</code></span></td> <td align="left" data-th="Description"><span>Allows to choose how errors are displayed</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>minimizerOptions</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Object}</code></span></td> <td align="center" data-th="Default"><span><code>{ plugins: [] }</code></span></td> <td align="left" data-th="Description"><span>Options for <code>imagemin</code></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>loader</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Boolean}</code></span></td> <td align="center" data-th="Default"><span><code>true</code></span></td> <td align="left" data-th="Description"><span>Automatically adding <code>imagemin-loader</code> (require for minification images using in <code>url-loader</code>, <code>svg-url-loader</code> or other)</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>maxConcurrency</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Number}</code></span></td> <td align="center" data-th="Default"><span><code>Math.max(1, os.cpus().length - 1)</code></span></td> <td align="left" data-th="Description"><span>Maximum number of concurrency optimization processes in one time</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>filename</code></strong></span></td> <td align="center" data-th="Type"><span><code>{string}</code></span></td> <td align="center" data-th="Default"><span><code>'[path][name][ext]'</code></span></td> <td align="left" data-th="Description"><span>Allows to set the filename for the generated asset. Useful for converting to a <code>webp</code></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>deleteOriginalAssets</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Boolean}</code></span></td> <td align="center" data-th="Default"><span><code>false</code></span></td> <td align="left" data-th="Description"><span>Allows to delete the original asset. Useful for converting to a <code>webp</code> and remove original assets</span></td> </tr> </tbody> </table> <h4 id="test-1"><code>test</code><a href="#test-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>/\.(jpe?g\|png\|gif\|tif\|webp\|svg\|avif)\$/i</code></p> <p>Test to match files against.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpe?g|png|gif|svg)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="include-1"><code>include</code><a href="#include-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Files to include.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      include<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/includes</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="exclude-2"><code>exclude</code><a href="#exclude-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Files to exclude.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/excludes</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="filter"><code>filter</code><a href="#filter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Function</code> Default: <code>() => true</code></p> <p>Allows filtering of images for optimization.</p> <p>Return <code>true</code> to optimize the image, <code>false</code> otherwise.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function-variable function">filter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">source<span class="token punctuation">,</span> sourcePath</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token comment">// The `source` argument is a `Buffer` of source file</span>
        <span class="token comment">// The `sourcePath` argument is an absolute path to source</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>source<span class="token punctuation">.</span>byteLength <span class="token operator">&#x3C;</span> <span class="token number">8192</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="severityError"><code>severityError</code><a href="#severityError" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Boolean|String</code> Default: <code>'auto'</code></p> <p>Allows to choose how errors are displayed.</p> <p>Ğ¡an have the following values:</p> <ul> <li><code>'auto'</code> - emit warnings in <code>development</code> mode and emit errors in <code>production</code> mode (default behavior)</li> <li><code>false</code> or <code>'off'</code> - suppresses errors and warnings</li> <li><code>'warning'</code> - emit warnings instead errors</li> <li><code>true</code> or <code>'error'</code> - emit errors</li> </ul> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      severityError<span class="token operator">:</span> <span class="token string">'warning'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="minimizerOptions-1"><code>minimizerOptions</code><a href="#minimizerOptions-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Object</code> Default: <code>{ plugins: [] }</code></p> <p>Options for <a href="javascript:if(confirm('https://github.com/imagemin/imagemin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/imagemin/imagemin'" tppabs="https://github.com/imagemin/imagemin"><code>imagemin</code></a>.</p> <p>More information and examples <a href="javascript:if(confirm('https://github.com/imagemin/imagemin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/imagemin/imagemin'" tppabs="https://github.com/imagemin/imagemin">here</a>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// Name</span>
          <span class="token string">'gifsicle'</span><span class="token punctuation">,</span>
          <span class="token comment">// Name with options</span>
          <span class="token punctuation">[</span><span class="token string">'mozjpeg'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> quality<span class="token operator">:</span> <span class="token number">80</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token comment">// Full package name</span>
          <span class="token punctuation">[</span>
            <span class="token string">'imagemin-svgo'</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                  removeViewBox<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">[</span>
            <span class="token comment">// Custom package name</span>
            <span class="token string">'nonstandard-imagemin-package-name'</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span> myOptions<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="loader"><code>loader</code><a href="#loader" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Boolean</code> Default: <code>true</code></p> <p>Automatically adding <code>imagemin-loader</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      loader<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="maxConcurrency"><code>maxConcurrency</code><a href="#maxConcurrency" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Number</code> Default: <code>Math.max(1, os.cpus().length - 1)</code></p> <p>Maximum number of concurrency optimization processes in one time.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      maxConcurrency<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="filename"><code>filename</code><a href="#filename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String</code> Default: <code>'[path][name][ext]'</code></p> <p>Allows to set the filename for the generated asset. Useful for converting to a <code>webp</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// Images are converted to `webp` and the original assets have been kept</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
      filename<span class="token operator">:</span> <span class="token string">'[path][name].webp'</span><span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'imagemin-webp'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="deleteOriginalAssets"><code>deleteOriginalAssets</code><a href="#deleteOriginalAssets" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Boolean</code> Default: <code>false</code></p> <p>Allows to remove original assets. Useful for converting to a <code>webp</code> and remove original assets</p> <blockquote> <p>i Doesn't make sense if you haven't changed the original value of the <code>filename</code> option</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// Images are converted to `webp` and the original assets have been removed</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
      deleteOriginalAssets<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      filename<span class="token operator">:</span> <span class="token string">'[path][name].webp'</span><span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'imagemin-webp'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>To generate and compress the original assets:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// And the original assets will be compressed</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'pngquant'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// Images are converted to `webp` and the original assets have been removed</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
      deleteOriginalAssets<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      filename<span class="token operator">:</span> <span class="token string">'[path][name].webp'</span><span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'imagemin-webp'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="Loader-Options">Loader Options<a href="#Loader-Options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <table> <thead> <tr> <th align="center">Name</th> <th align="center">Type</th> <th align="center">Default</th> <th align="left">Description</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="Name"><span><strong><code>filter</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Function}</code></span></td> <td align="center" data-th="Default"><span><code>undefined</code></span></td> <td align="left" data-th="Description"><span>Allows filtering of images for optimization</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>severityError</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Boolean|String}</code></span></td> <td align="center" data-th="Default"><span><code>'auto'</code></span></td> <td align="left" data-th="Description"><span>Allows to choose how errors are displayed</span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>minimizerOptions</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Object}</code></span></td> <td align="center" data-th="Default"><span><code>{ plugins: [] }</code></span></td> <td align="left" data-th="Description"><span>Options for <code>imagemin</code></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>filename</code></strong></span></td> <td align="center" data-th="Type"><span><code>{string}</code></span></td> <td align="center" data-th="Default"><span><code>'[path][name][ext]'</code></span></td> <td align="left" data-th="Description"><span>Allows to set the filename for the generated asset. Useful for converting to a <code>webp</code></span></td> </tr> <tr> <td align="center" data-th="Name"><span><strong><code>deleteOriginalAssets</code></strong></span></td> <td align="center" data-th="Type"><span><code>{Boolean}</code></span></td> <td align="center" data-th="Default"><span><code>false</code></span></td> <td align="left" data-th="Description"><span>Allows to delete the original asset. Useful for converting to a <code>webp</code> and remove original assets</span></td> </tr> </tbody> </table> <h4 id="filter-1"><code>filter</code><a href="#filter-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Function</code> Default: <code>() => true</code></p> <p>Allows filtering of images for optimization.</p> <p>Return <code>true</code> to optimize the image, <code>false</code> otherwise.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpe?g|png|gif|svg)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'file-loader'</span><span class="token punctuation">,</span> <span class="token comment">// Or `url-loader` or your other loader</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              cache<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              <span class="token function-variable function">filter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">source<span class="token punctuation">,</span> sourcePath</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                <span class="token comment">// The `source` argument is a `Buffer` of source file</span>
                <span class="token comment">// The `sourcePath` argument is an absolute path to source</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>source<span class="token punctuation">.</span>byteLength <span class="token operator">&#x3C;</span> <span class="token number">8192</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'gifsicle'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="severityError-1"><code>severityError</code><a href="#severityError-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Boolean|String</code> Default: <code>'auto'</code></p> <p>Allows to choose how errors are displayed.</p> <p>Ğ¡an have the following values:</p> <ul> <li><code>'auto'</code> - emit warnings in <code>development</code> mode and emit errors in <code>production</code> mode (default behavior)</li> <li><code>false</code> or <code>'off'</code> - suppresses errors and warnings</li> <li><code>'warning'</code> - emit warnings instead errors</li> <li><code>true</code> or <code>'error'</code> - emit errors</li> </ul> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpe?g|png|gif|svg)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'file-loader'</span><span class="token punctuation">,</span> <span class="token comment">// Or `url-loader` or your other loader</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              severityError<span class="token operator">:</span> <span class="token string">'warning'</span><span class="token punctuation">,</span>
              minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'gifsicle'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="minimizerOptions-2"><code>minimizerOptions</code><a href="#minimizerOptions-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Object</code> Default: <code>{ plugins: [] }</code></p> <p>Options for <code>imagemin</code>.</p> <p>Options for <a href="javascript:if(confirm('https://github.com/imagemin/imagemin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/imagemin/imagemin'" tppabs="https://github.com/imagemin/imagemin"><code>imagemin</code></a></p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpe?g|png|gif|svg)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'file-loader'</span><span class="token punctuation">,</span> <span class="token comment">// Or `url-loader` or your other loader</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              severityError<span class="token operator">:</span> <span class="token string">'warning'</span><span class="token punctuation">,</span>
              minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
                  <span class="token punctuation">[</span><span class="token string">'gifsicle'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> interlaced<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> optimizationLevel<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="filename-1"><code>filename</code><a href="#filename-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>String</code> Default: <code>'[path][name][ext]'</code></p> <p>Allows to set the filename for the generated asset. Useful for converting to a <code>webp</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(jpe?g|png|gif)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'file-loader'</span><span class="token punctuation">,</span> <span class="token comment">// Or `url-loader` or your other loader</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              filename<span class="token operator">:</span> <span class="token string">'[path][name].webp'</span><span class="token punctuation">,</span>
              minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'imagemin-webp'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="deleteOriginalAssets-1"><code>deleteOriginalAssets</code><a href="#deleteOriginalAssets-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>Type: <code>Boolean</code> Default: <code>false</code></p> <p>Allows to keep the original asset. Useful for converting to a <code>webp</code> and remove original assets.</p> <blockquote> <p>i Doesn't make sense if you haven't changed the original value of the <code>filename</code> option</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'file-loader'</span><span class="token punctuation">,</span> <span class="token comment">// Or `url-loader` or your other loader</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// PNG images are converted to WEBP, and the originals will keep</span>
              deleteOriginalAssets<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              filename<span class="token operator">:</span> <span class="token string">'[path][name].webp'</span><span class="token punctuation">,</span>
              minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
                plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'imagemin-webp'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="Additional-API">Additional API<a href="#Additional-API" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="normalizeConfigconfig"><code>normalizeConfig(config)</code><a href="#normalizeConfigconfig" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The function normalizes configuration (converts plugins names and options to <code>Function</code>s) for using in <code>imagemin</code> package directly.</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> imagemin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'imagemin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> normalizeConfig <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> imageminConfig <span class="token operator">=</span> <span class="token function">normalizeConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">'jpegtran'</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
      <span class="token string">'pngquant'</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        quality<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0.6</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*
  console.log(imageminConfig);
  =>
  {
    plugins: [Function, Function],
    pluginsMeta: [
      { name: "imagemin-jpegtran", version: "x.x.x", options: {} },
      { name: "imagemin-pngquant", version: "x.x.x", options: { quality: [0.6, 0.8] }
    ]
  }
*/</span>

<span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> files <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">imagemin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'images/*.{jpg,png}'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    destination<span class="token operator">:</span> <span class="token string">'build/images'</span><span class="token punctuation">,</span>
    plugins<span class="token operator">:</span> imageminConfig<span class="token punctuation">.</span>plugins<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// => [{data: &#x3C;Buffer 89 50 4e â€¦>, path: 'build/images/foo.jpg'}, â€¦]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="Examples">Examples<a href="#Examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="Optimize-images-based-on-size">Optimize images based on size<a href="#Optimize-images-based-on-size" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>You can use difference options (like <code>progressive</code>/<code>interlaced</code> and etc) based on image size (example - don't do progressive transformation for small images).</p> <p>What is <code>progressive</code> image? <a href="javascript:if(confirm('https://jmperezperez.com/medium-image-progressive-loading-placeholder/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://jmperezperez.com/medium-image-progressive-loading-placeholder/'" tppabs="https://jmperezperez.com/medium-image-progressive-loading-placeholder/"><code>Answer here</code></a>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// Only apply this one to files equal to or over 8192 bytes</span>
      <span class="token function-variable function">filter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>source<span class="token punctuation">.</span>byteLength <span class="token operator">>=</span> <span class="token number">8192</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'jpegtran'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> progressive<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// Only apply this one to files under 8192</span>
      <span class="token function-variable function">filter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>source<span class="token punctuation">.</span>byteLength <span class="token operator">&#x3C;</span> <span class="token number">8192</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'jpegtran'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> progressive<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="Optimize-and-transform-images-to-webp">Optimize and transform images to <code>webp</code><a href="#Optimize-and-transform-images-to-webp" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-js"><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'image-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'pngquant'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      deleteOriginalAssets<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      filename<span class="token operator">:</span> <span class="token string">'[path][name].webp'</span><span class="token punctuation">,</span>
      minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
        plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'imagemin-webp'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="Contributing-1">Contributing<a href="#Contributing-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/image-minimizer-webpack-plugin/blob/master/.github/CONTRIBUTING.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/image-minimizer-webpack-plugin/blob/master/.github/CONTRIBUTING.md'" tppabs="https://github.com/webpack-contrib/image-minimizer-webpack-plugin/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="License-2">License<a href="#License-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/image-minimizer-webpack-plugin/blob/master/LICENSE  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/image-minimizer-webpack-plugin/blob/master/LICENSE'" tppabs="https://github.com/webpack-contrib/image-minimizer-webpack-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="Internal-webpack-plugins">Internal webpack plugins<a href="#Internal-webpack-plugins" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>This is a list of plugins which are used by webpack internally.</p> <blockquote class="warning"> <p>You should only care about them if you are building your own compiler based on webpack, or introspect the internals.</p> </blockquote> <p>Categories of internal plugins:</p> <ul> <li><a href="#environment">environment</a></li> <li><a href="#compiler">compiler</a></li> <li><a href="#entry">entry</a></li> <li><a href="#output">output</a></li> <li><a href="#source">source</a></li> <li><a href="#optimize">optimize</a></li> </ul> <h2 id="environment">environment <a href="#environment" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Plugins affecting the environment of the compiler.</p> <h3 id="nodeenvironmentplugin">NodeEnvironmentPlugin <a href="#nodeenvironmentplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>webpack.node.NodeEnvironmentPlugin()</code></p> <p>Applies Node.js style filesystem to the compiler.</p> <h2 id="compiler">compiler <a href="#compiler" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Plugins affecting the compiler</p> <h3 id="memorycacheplugin">MemoryCachePlugin <a href="#memorycacheplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>MemoryCachePlugin()</code></p> <p>Adds a cache to the compiler, where modules are cached in memory.</p> <h3 id="progressplugin">ProgressPlugin <a href="#progressplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>ProgressPlugin(handler)</code></p> <p>Hook into the compiler to extract progress information. The <code>handler</code> must have the signature <code>function(percentage, message)</code>. Percentage is called with a value between 0 and 1, where 0 indicates the start and 1 the end.</p> <h3 id="recordidsplugin">RecordIdsPlugin <a href="#recordidsplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>RecordIdsPlugin()</code></p> <p>Saves and restores module and chunk ids from records.</p> <h2 id="entry">entry <a href="#entry" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Plugins, which add entry chunks to the compilation.</p> <h3 id="singleentryplugin">SingleEntryPlugin <a href="#singleentryplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SingleEntryPlugin(context, request, chunkName)</code></p> <p>Adds an entry chunk on compilation. The chunk is named <code>chunkName</code> and contains only one module (plus dependencies). The module is resolved from <code>request</code> in <code>context</code> (absolute path).</p> <h3 id="prefetchplugin">PrefetchPlugin <a href="#prefetchplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>PrefetchPlugin(context, request)</code></p> <p>Prefetches <code>request</code> and dependencies to enable a more parallel compilation. It doesn't create any chunk. The module is resolved from <code>request</code> in <code>context</code> (absolute path).</p> <h2 id="output">output <a href="#output" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="jsonptemplateplugin">JsonpTemplatePlugin <a href="#jsonptemplateplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>JsonpTemplatePlugin(options)</code></p> <p>Chunks are wrapped into JSONP-calls. A loading algorithm is included in entry chunks. It loads chunks by adding a <code>&#x3C;script></code> tag.</p> <p><code>options</code> are the output options.</p> <p><code>options.jsonpFunction</code> is the JSONP function.</p> <p><code>options.publicPath</code> is used as path for loading the chunks.</p> <p><code>options.chunkFilename</code> is the filename under that chunks are expected.</p> <h3 id="nodetemplateplugin">NodeTemplatePlugin <a href="#nodetemplateplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>node/NodeTemplatePlugin(options)</code></p> <p>Chunks are wrapped into Node.js modules exporting the bundled modules. The entry chunks loads chunks by requiring them.</p> <p><code>options</code> are the output options.</p> <p><code>options.chunkFilename</code> is the filename under that chunks are expected.</p> <h3 id="librarytemplateplugin">LibraryTemplatePlugin <a href="#librarytemplateplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>LibraryTemplatePlugin(name, target)</code></p> <p>The entries chunks are decorated to form a library <code>name</code> of type <code>type</code>.</p> <h3 id="webworkertemplateplugin">WebWorkerTemplatePlugin <a href="#webworkertemplateplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>webworker/WebWorkerTemplatePlugin(options)</code></p> <p>Chunks are loaded by <code>importScripts</code>. Else it's similar to <a href="#jsonptemplateplugin"><code>JsonpTemplatePlugin</code></a>.</p> <p><code>options</code> are the output options.</p> <h3 id="evaldevtoolmoduleplugin">EvalDevToolModulePlugin <a href="#evaldevtoolmoduleplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Decorates the module template by wrapping each module in a <code>eval</code> annotated with <code>// @sourceURL</code>.</p> <h3 id="sourcemapdevtoolplugin">SourceMapDevToolPlugin <a href="#sourcemapdevtoolplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SourceMapDevToolPlugin(sourceMapFilename, sourceMappingURLComment, moduleFilenameTemplate, fallbackModuleFilenameTemplate)</code></p> <p>Decorates the templates by generating a SourceMap for each chunk.</p> <p><code>sourceMapFilename</code> the filename template of the SourceMap. <code>[hash]</code>, <code>[name]</code>, <code>[id]</code>, <code>[file]</code> and <code>[filebase]</code> are replaced. If this argument is missing, the SourceMap will be inlined as DataUrl.</p> <h3 id="hotmodulereplacementplugin">HotModuleReplacementPlugin <a href="#hotmodulereplacementplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>HotModuleReplacementPlugin(options)</code></p> <p>Add support for hot module replacement. Decorates the templates to add runtime code. Adds <code>module.hot</code> API.</p> <p><code>options.hotUpdateChunkFilename</code> the filename for hot update chunks.</p> <p><code>options.hotUpdateMainFilename</code> the filename for the hot update manifest.</p> <p><code>options.hotUpdateFunction</code> JSON function name for the hot update.</p> <h2 id="source">source <a href="#source" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Plugins affecting the source code of modules.</p> <h3 id="apiplugin">APIPlugin <a href="#apiplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Make webpack_public_path, webpack_require, webpack_modules and webpack_chunk_load accessible. Ensures that <code>require.valueOf</code> and <code>require.onError</code> are not processed by other plugins.</p> <h3 id="compatibilityplugin">CompatibilityPlugin <a href="#compatibilityplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Currently useless. Ensures compatibility with other module loaders.</p> <h3 id="constplugin">ConstPlugin <a href="#constplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Tries to evaluate expressions in <code>if (...)</code> statements and ternaries to replace them with <code>true</code>/<code>false</code> for further possible dead branch elimination using hooks fired by the parser.</p> <p>There are multiple optimizations in production mode regarding dead branches:</p> <ul> <li>The ones performed by <a href="javascript:if(confirm('https://github.com/fabiosantoscode/terser  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/fabiosantoscode/terser'" tppabs="https://github.com/fabiosantoscode/terser">Terser</a></li> <li>The ones performed by webpack</li> </ul> <p>webpack will try to evaluate conditional statements. If it succeeds then the dead branch is removed. webpack can't do constant folding unless the compiler knows it. For example:</p> <pre><code class="hljs language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> calculateTax <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./tax'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token constant">FOO</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">FOO</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// dead branch</span>
  <span class="token function">calculateTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p>In the above example, webpack is unable to prune the branch, but Terser does. However, if <code>FOO</code> is defined using <a href="../define-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/define-plugin/">DefinePlugin</a>, webpack will succeed.</p> <p>It is important to mention that <code>import { calculateTax } from './tax';</code> will also get pruned because <code>calculateTax()</code> call was in the dead branch and got eliminated.</p> <h3 id="provideplugin">ProvidePlugin <a href="#provideplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>ProvidePlugin(name, request)</code></p> <p>If <code>name</code> is used in a module it is filled by a module loaded by <code>require(&#x3C;request>)</code>.</p> <h3 id="nodestuffplugin">NodeStuffPlugin <a href="#nodestuffplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>NodeStuffPlugin(options, context)</code></p> <p>Provide stuff that is normally available in Node.js modules.</p> <p>It also ensures that <code>module</code> is filled with some Node.js stuff if you use it.</p> <h3 id="requirejsstuffplugin">RequireJsStuffPlugin <a href="#requirejsstuffplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Provide stuff that is normally available in require.js.</p> <p><code>require[js].config</code> is removed. <code>require.version</code> is <code>0.0.0</code>. <code>requirejs.onError</code> is mapped to <code>require.onError</code>.</p> <h3 id="nodesourceplugin">NodeSourcePlugin <a href="#nodesourceplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>node/NodeSourcePlugin(options)</code></p> <p>This module adds stuff from Node.js that is not available in non Node.js environments.</p> <p>It adds polyfills for <code>process</code>, <code>console</code>, <code>Buffer</code> and <code>global</code> if used. It also binds the built in Node.js replacement modules.</p> <h3 id="nodetargetplugin">NodeTargetPlugin <a href="#nodetargetplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>node/NodeTargetPlugin()</code></p> <p>The plugins should be used if you run the bundle in a Node.js environment.</p> <p>If ensures that native modules are loaded correctly even if bundled.</p> <h3 id="amdplugin">AMDPlugin <a href="#amdplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>dependencies/AMDPlugin(options)</code></p> <p>Provides AMD-style <code>define</code> and <code>require</code> to modules. Also bind <code>require.amd</code>, <code>define.amd</code> and webpack_amd_options## to the <code>options</code> passed as parameter.</p> <h3 id="commonjsplugin">CommonJsPlugin <a href="#commonjsplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>dependencies/CommonJsPlugin</code></p> <p>Provides CommonJs-style <code>require</code> to modules.</p> <h3 id="requirecontextplugin">RequireContextPlugin <a href="#requirecontextplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>dependencies/RequireContextPlugin(modulesDirectories, extensions)</code></p> <p>Provides <code>require.context</code>. The parameter <code>modulesDirectories</code> and <code>extensions</code> are used to find alternative requests for files. It's useful to provide the same arrays as you provide to the resolver.</p> <h3 id="requireensureplugin">RequireEnsurePlugin <a href="#requireensureplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>dependencies/RequireEnsurePlugin()</code></p> <p>Provides <code>require.ensure</code>.</p> <h3 id="requireincludeplugin">RequireIncludePlugin <a href="#requireincludeplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>dependencies/RequireIncludePlugin()</code></p> <p>Provides <code>require.include</code>.</p> <h3 id="defineplugin">DefinePlugin <a href="#defineplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>DefinePlugin(definitions)</code></p> <p>Define constants for identifier.</p> <p><code>definitions</code> is an object.</p> <h2 id="optimize">optimize <a href="#optimize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="limitchunkcountplugin">LimitChunkCountPlugin <a href="#limitchunkcountplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>optimize/LimitChunkCountPlugin(options)</code></p> <p>Merge chunks limit chunk count is lower than <code>options.maxChunks</code>.</p> <p>The overhead for each chunks is provided by <code>options.chunkOverhead</code> or defaults to 10000. Entry chunks sizes are multiplied by <code>options.entryChunkMultiplicator</code> (or 10).</p> <p>Chunks that reduce the total size the most are merged first. If multiple combinations are equal the minimal merged size wins.</p> <h3 id="mergeduplicatechunksplugin">MergeDuplicateChunksPlugin <a href="#mergeduplicatechunksplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>optimize/MergeDuplicateChunksPlugin()</code></p> <p>Chunks with the same modules are merged.</p> <h3 id="removeemptychunksplugin">RemoveEmptyChunksPlugin <a href="#removeemptychunksplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>optimize/RemoveEmptyChunksPlugin()</code></p> <p>Modules that are included in every parent chunk are removed from the chunk.</p> <h3 id="minchunksizeplugin">MinChunkSizePlugin <a href="#minchunksizeplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>optimize/MinChunkSizePlugin(minChunkSize)</code></p> <p>Merges chunks until each chunk has the minimum size of <code>minChunkSize</code>.</p> <h3 id="flagincludedchunksplugin">FlagIncludedChunksPlugin <a href="#flagincludedchunksplugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>optimize/FlagIncludedChunksPlugin()</code></p> <p>Adds chunk ids of chunks which are included in the chunk. This eliminates unnecessary chunk loads.</p> <h3 id="RealContentHashPlugin">RealContentHashPlugin<a href="#RealContentHashPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>optimize/RealContentHashPlugin()</code></p> <p>When <a href="../../configuration/optimization/index.htm#optimizationrealcontenthash" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationrealcontenthash"><code>optimization.realContentHash</code></a> option is enabled, webpack will apply <code>RealContentHashPlugin</code> to compiler internally.</p> <h4 id="Hook">Hook<a href="#Hook" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>RealContentHashPlugin</code> provides a <code>updateHash</code> <Badge text="5.8.0+"/> hook for customizing hash updating:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> RealContentHashPlugin <span class="token operator">=</span> webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>RealContentHashPlugin<span class="token punctuation">;</span>
<span class="token comment">// ...</span>
compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>compilation<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">compilation</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> hooks <span class="token operator">=</span> RealContentHashPlugin<span class="token punctuation">.</span><span class="token function">getCompilationHooks</span><span class="token punctuation">(</span>compilation<span class="token punctuation">)</span><span class="token punctuation">;</span>
  hooks<span class="token punctuation">.</span>updateHash<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">'MyPlugin'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">content<span class="token punctuation">,</span> oldHash</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// you can calculate the hash here as you wish</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h1 id="Plugins">Plugins<a href="#Plugins" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>webpack has a rich plugin interface. Most of the features within webpack itself use this plugin interface. This makes webpack <strong>flexible</strong>.</p> <table> <thead> <tr> <th>Name</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td data-th="Name"><span><a href="../banner-plugin.htm" tppabs="https://webpack.docschina.org/plugins/banner-plugin"><code>BannerPlugin</code></a></span></td> <td data-th="Description"><span>Add a banner to the top of each generated chunk</span></td> </tr> <tr> <td data-th="Name"><span><a href="../commons-chunk-plugin.htm" tppabs="https://webpack.docschina.org/plugins/commons-chunk-plugin"><code>CommonsChunkPlugin</code></a></span></td> <td data-th="Description"><span>Extract common modules shared between chunks</span></td> </tr> <tr> <td data-th="Name"><span><a href="../compression-webpack-plugin.htm" tppabs="https://webpack.docschina.org/plugins/compression-webpack-plugin"><code>CompressionWebpackPlugin</code></a></span></td> <td data-th="Description"><span>Prepare compressed versions of assets to serve them with Content-Encoding</span></td> </tr> <tr> <td data-th="Name"><span><a href="../context-replacement-plugin.htm" tppabs="https://webpack.docschina.org/plugins/context-replacement-plugin"><code>ContextReplacementPlugin</code></a></span></td> <td data-th="Description"><span>Override the inferred context of a <code>require</code> expression</span></td> </tr> <tr> <td data-th="Name"><span><a href="../copy-webpack-plugin.htm" tppabs="https://webpack.docschina.org/plugins/copy-webpack-plugin"><code>CopyWebpackPlugin</code></a></span></td> <td data-th="Description"><span>Copies individual files or entire directories to the build directory</span></td> </tr> <tr> <td data-th="Name"><span><a href="../define-plugin.htm" tppabs="https://webpack.docschina.org/plugins/define-plugin"><code>DefinePlugin</code></a></span></td> <td data-th="Description"><span>Allow global constants configured at compile time</span></td> </tr> <tr> <td data-th="Name"><span><a href="../dll-plugin.htm" tppabs="https://webpack.docschina.org/plugins/dll-plugin"><code>DllPlugin</code></a></span></td> <td data-th="Description"><span>Split bundles in order to drastically improve build time</span></td> </tr> <tr> <td data-th="Name"><span><a href="../environment-plugin.htm" tppabs="https://webpack.docschina.org/plugins/environment-plugin"><code>EnvironmentPlugin</code></a></span></td> <td data-th="Description"><span>Shorthand for using the <a href="../define-plugin.htm" tppabs="https://webpack.docschina.org/plugins/define-plugin"><code>DefinePlugin</code></a> on <code>process.env</code> keys</span></td> </tr> <tr> <td data-th="Name"><span><a href="../eslint-webpack-plugin.htm" tppabs="https://webpack.docschina.org/plugins/eslint-webpack-plugin"><code>EslintWebpackPlugin</code></a></span></td> <td data-th="Description"><span>A ESLint plugin for webpack</span></td> </tr> <tr> <td data-th="Name"><span><a href="../hot-module-replacement-plugin.htm" tppabs="https://webpack.docschina.org/plugins/hot-module-replacement-plugin"><code>HotModuleReplacementPlugin</code></a></span></td> <td data-th="Description"><span>Enable Hot Module Replacement (HMR)</span></td> </tr> <tr> <td data-th="Name"><span><a href="../html-webpack-plugin.htm" tppabs="https://webpack.docschina.org/plugins/html-webpack-plugin"><code>HtmlWebpackPlugin</code></a></span></td> <td data-th="Description"><span>Easily create HTML files to serve your bundles</span></td> </tr> <tr> <td data-th="Name"><span><a href="../ignore-plugin.htm" tppabs="https://webpack.docschina.org/plugins/ignore-plugin"><code>IgnorePlugin</code></a></span></td> <td data-th="Description"><span>Exclude certain modules from bundles</span></td> </tr> <tr> <td data-th="Name"><span><a href="../limit-chunk-count-plugin.htm" tppabs="https://webpack.docschina.org/plugins/limit-chunk-count-plugin"><code>LimitChunkCountPlugin</code></a></span></td> <td data-th="Description"><span>Set min/max limits for chunking to better control chunking</span></td> </tr> <tr> <td data-th="Name"><span><a href="../min-chunk-size-plugin.htm" tppabs="https://webpack.docschina.org/plugins/min-chunk-size-plugin"><code>MinChunkSizePlugin</code></a></span></td> <td data-th="Description"><span>Keep chunk size above the specified limit</span></td> </tr> <tr> <td data-th="Name"><span><a href="../mini-css-extract-plugin.htm" tppabs="https://webpack.docschina.org/plugins/mini-css-extract-plugin"><code>MiniCssExtractPlugin</code></a></span></td> <td data-th="Description"><span>creates a CSS file per JS file which requires CSS</span></td> </tr> <tr> <td data-th="Name"><span><a href="../../configuration/optimization/index.htm#optimizationemitonerrors" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationemitonerrors"><code>NoEmitOnErrorsPlugin</code></a></span></td> <td data-th="Description"><span>Skip the emitting phase when there are compilation errors</span></td> </tr> <tr> <td data-th="Name"><span><a href="../normal-module-replacement-plugin.htm" tppabs="https://webpack.docschina.org/plugins/normal-module-replacement-plugin"><code>NormalModuleReplacementPlugin</code></a></span></td> <td data-th="Description"><span>Replace resource(s) that matches a regexp</span></td> </tr> <tr> <td data-th="Name"><span><a href="../npm-install-webpack-plugin.htm" tppabs="https://webpack.docschina.org/plugins/npm-install-webpack-plugin"><code>NpmInstallWebpackPlugin</code></a></span></td> <td data-th="Description"><span>Auto-install missing dependencies during development</span></td> </tr> <tr> <td data-th="Name"><span><a href="../progress-plugin.htm" tppabs="https://webpack.docschina.org/plugins/progress-plugin"><code>ProgressPlugin</code></a></span></td> <td data-th="Description"><span>Report compilation progress</span></td> </tr> <tr> <td data-th="Name"><span><a href="../provide-plugin.htm" tppabs="https://webpack.docschina.org/plugins/provide-plugin"><code>ProvidePlugin</code></a></span></td> <td data-th="Description"><span>Use modules without having to use import/require</span></td> </tr> <tr> <td data-th="Name"><span><a href="../source-map-dev-tool-plugin.htm" tppabs="https://webpack.docschina.org/plugins/source-map-dev-tool-plugin"><code>SourceMapDevToolPlugin</code></a></span></td> <td data-th="Description"><span>Enables a more fine grained control of source maps</span></td> </tr> <tr> <td data-th="Name"><span><a href="../eval-source-map-dev-tool-plugin.htm" tppabs="https://webpack.docschina.org/plugins/eval-source-map-dev-tool-plugin"><code>EvalSourceMapDevToolPlugin</code></a></span></td> <td data-th="Description"><span>Enables a more fine grained control of eval source maps</span></td> </tr> <tr> <td data-th="Name"><span><a href="../terser-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/terser-webpack-plugin/"><code>TerserPlugin</code></a></span></td> <td data-th="Description"><span>Uses Terser to minify the JS in your project</span></td> </tr> </tbody> </table> <p>For more third-party plugins, see the list from <a href="javascript:if(confirm('https://github.com/webpack-contrib/awesome-webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/awesome-webpack#webpack-plugins'" tppabs="https://github.com/webpack-contrib/awesome-webpack#webpack-plugins">awesome-webpack</a>.</p> <h1 id="JsonMinimizerWebpackPlugin">JsonMinimizerWebpackPlugin<a href="#JsonMinimizerWebpackPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="javascript:if(confirm('https://npmjs.com/package/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://npmjs.com/package/babel-minify-webpack-plugin'" tppabs="https://npmjs.com/package/babel-minify-webpack-plugin"><img src="../../../img.shields.io/npm/v/babel-minify-webpack-plugin.svg" tppabs="https://img.shields.io/npm/v/babel-minify-webpack-plugin.svg" alt="npm"></a> <a href="javascript:if(confirm('https://nodejs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/'" tppabs="https://nodejs.org/"><img src="../../../img.shields.io/node/v/compression-webpack-plugin.svg" tppabs="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="javascript:if(confirm('https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../status.david-dm.org/gh/webpack-contrib/babel-minify-webpack-plugin.svg" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin.svg" alt="deps"></a> <a href="javascript:if(confirm('https://github.com/webpack-contrib/compression-webpack-plugin/actions  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/compression-webpack-plugin/actions'" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="../../../github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="javascript:if(confirm('https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" alt="cover"></a> <a href="javascript:if(confirm('https://gitter.im/webpack/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://gitter.im/webpack/webpack'" tppabs="https://gitter.im/webpack/webpack"><img src="../../../img.shields.io/badge/gitter-webpack-webpack-brightgreen.svg" tppabs="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="javascript:if(confirm('https://packagephobia.now.sh/result?p=compression-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://packagephobia.now.sh/result?p=compression-webpack-plugin'" tppabs="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="../../../badgen.net/packagephobia/install/compression-webpack-plugin" tppabs="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <p>This plugin uses <a href="javascript:if(confirm('https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify'" tppabs="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify">JSON.stringify()</a> to minify your JSON.</p> <h2 id="Getting-Started-2">Getting Started<a href="#Getting-Started-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To begin, you'll need to install <code>json-minimizer-webpack-plugin</code>:</p> <pre><code class="hljs language-console">$ npm install json-minimizer-webpack-plugin --save-dev
</code></pre> <p>Then add the plugin to your <code>webpack</code> configuration. For example:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> JsonMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"json-minimizer-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CopyPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"copy-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    loaders<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.json</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        type<span class="token operator">:</span> <span class="token string">"javascript/auto"</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">"file-loader"</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              name<span class="token operator">:</span> <span class="token string">"[name].[ext]"</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      patterns<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          context<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token keyword">from</span><span class="token operator">:</span> <span class="token string">"./src/*.json"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// For webpack@5 you can use the `...` syntax to extend existing minimizers (i.e. `terser-webpack-plugin`), uncomment the next line</span>
      <span class="token comment">// `...`</span>
      <span class="token keyword">new</span> <span class="token class-name">JsonMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>This will enable JSON optimization only in production mode. If you want to run it also in development set the <code>optimization.minimize</code> option to <code>true</code>.</p> <p>And run <code>webpack</code> via your preferred method.</p> <h2 id="Options-3">Options<a href="#Options-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="test-2"><code>test</code><a href="#test-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> - default: <code>/\.json(\?.*)?$/i</code></p> <p>Test to match files against.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">JsonMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.foo\.json</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="include-2"><code>include</code><a href="#include-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Files to include.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">JsonMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        include<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/includes</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="exclude-3"><code>exclude</code><a href="#exclude-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>String|RegExp|Array&#x3C;String|RegExp></code> Default: <code>undefined</code></p> <p>Files to exclude.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">JsonMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/excludes</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minimizerOptions-3"><code>minimizerOptions</code><a href="#minimizerOptions-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Type: <code>Object</code> Default: <code>{ replacer: null, space: null }</code></p> <p><code>JSON.stringify()</code> <a href="javascript:if(confirm('https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify'" tppabs="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify">options</a>.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">JsonMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        minimizerOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          space<span class="token operator">:</span> <span class="token string">"\t"</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="Contributing-2">Contributing<a href="#Contributing-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/json-minimizer-webpack-plugin/blob/master/.github/CONTRIBUTING.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/json-minimizer-webpack-plugin/blob/master/.github/CONTRIBUTING.md'" tppabs="https://github.com/webpack-contrib/json-minimizer-webpack-plugin/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="License-3">License<a href="#License-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/json-minimizer-webpack-plugin/blob/master/LICENSE  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/json-minimizer-webpack-plugin/blob/master/LICENSE'" tppabs="https://github.com/webpack-contrib/json-minimizer-webpack-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="LimitChunkCountPlugin">LimitChunkCountPlugin<a href="#LimitChunkCountPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>While writing your code, you may have already added many code split points to load stuff on demand. After compiling you might notice that some chunks are too small - creating larger HTTP overhead. <code>LimitChunkCountPlugin</code> can post-process your chunks by merging them.</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>LimitChunkCountPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// Options...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="options">Options <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The following options are supported:</p> <h3 id="maxchunks"><code>maxChunks</code> <a href="#maxchunks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number</code></p> <p>Limit the maximum number of chunks using a value greater than or equal to <code>1</code>. Using <code>1</code> will prevent any additional chunks from being added as the entry/main chunk is also included in the count.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>LimitChunkCountPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      maxChunks<span class="token operator">:</span> <span class="token number">5</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minchunksize"><code>minChunkSize</code> <a href="#minchunksize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Keeping chunk size above the specified limit is no longer a feature of this plugin. Use <a href="../min-chunk-size-plugin.htm" tppabs="https://webpack.docschina.org/plugins/min-chunk-size-plugin">MinChunkSizePlugin</a> instead.</p> <h2 id="usage-via-cli">Usage via CLI <a href="#usage-via-cli" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>This plugin and it's options can also be invoked via the <a href="../../api/cli/index.htm" tppabs="https://webpack.docschina.org/api/cli/">CLI</a>:</p> <pre><code class="hljs language-bash">webpack --optimize-max-chunks <span class="token number">15</span></code></pre> <h1 id="MinChunkSizePlugin">MinChunkSizePlugin<a href="#MinChunkSizePlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Keep chunk size above the specified limit by merging chunks that are smaller than the <code>minChunkSize</code>.</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>MinChunkSizePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  minChunkSize<span class="token operator">:</span> <span class="token number">10000</span> <span class="token comment">// Minimum number of characters</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="usage-via-cli">Usage via CLI <a href="#usage-via-cli" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>This plugin and it's options can also be invoked via the <a href="../../api/cli/index.htm" tppabs="https://webpack.docschina.org/api/cli/">CLI</a>:</p> <pre><code class="hljs language-bash">webpack --optimize-min-chunk-size <span class="token number">10000</span></code></pre> <h1 id="MiniCssExtractPlugin">MiniCssExtractPlugin<a href="#MiniCssExtractPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="javascript:if(confirm('https://npmjs.com/package/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://npmjs.com/package/babel-minify-webpack-plugin'" tppabs="https://npmjs.com/package/babel-minify-webpack-plugin"><img src="../../../img.shields.io/npm/v/babel-minify-webpack-plugin.svg" tppabs="https://img.shields.io/npm/v/babel-minify-webpack-plugin.svg" alt="npm"></a> <a href="javascript:if(confirm('https://nodejs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/'" tppabs="https://nodejs.org/"><img src="../../../img.shields.io/node/v/compression-webpack-plugin.svg" tppabs="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="javascript:if(confirm('https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../status.david-dm.org/gh/webpack-contrib/babel-minify-webpack-plugin.svg" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin.svg" alt="deps"></a> <a href="javascript:if(confirm('https://github.com/webpack-contrib/compression-webpack-plugin/actions  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/compression-webpack-plugin/actions'" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="../../../github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="javascript:if(confirm('https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" alt="coverage"></a> <a href="javascript:if(confirm('https://gitter.im/webpack/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://gitter.im/webpack/webpack'" tppabs="https://gitter.im/webpack/webpack"><img src="../../../img.shields.io/badge/gitter-webpack-webpack-brightgreen.svg" tppabs="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="javascript:if(confirm('https://packagephobia.now.sh/result?p=compression-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://packagephobia.now.sh/result?p=compression-webpack-plugin'" tppabs="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="../../../badgen.net/packagephobia/install/compression-webpack-plugin" tppabs="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <p>æœ¬æ’ä»¶ä¼šå°† CSS æå–åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œä¸ºæ¯ä¸ªåŒ…å« CSS çš„ JS æ–‡ä»¶åˆ›å»ºä¸€ä¸ª CSS æ–‡ä»¶ï¼Œå¹¶ä¸”æ”¯æŒ CSS å’Œ SourceMaps çš„æŒ‰éœ€åŠ è½½ã€‚</p> <p>æœ¬æ’ä»¶åŸºäº webpack v4 çš„æ–°ç‰¹æ€§ï¼ˆæ¨¡å—ç±»å‹ï¼‰æ„å»ºï¼Œå¹¶ä¸”éœ€è¦ webpack 4 æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚</p> <p>ä¸ extract-text-webpack-plugin ç›¸æ¯”ï¼š</p> <ul> <li>å¼‚æ­¥åŠ è½½</li> <li>æ²¡æœ‰é‡å¤çš„ç¼–è¯‘ï¼ˆæ€§èƒ½ï¼‰</li> <li>æ›´å®¹æ˜“ä½¿ç”¨</li> <li>ç‰¹åˆ«é’ˆå¯¹ CSS å¼€å‘</li> </ul> <h2 id="getting-started">å¿«é€Ÿå¼€å§‹ <a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>é¦–å…ˆï¼Œä½ éœ€è¦å®‰è£… <code>mini-css-extract-plugin</code>ï¼š</p> <pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save-dev mini-css-extract-plugin</code></pre> <p>å»ºè®® <code>mini-css-extract-plugin</code> ä¸ <a href="../../loaders/css-loader/index.htm" tppabs="https://webpack.docschina.org/loaders/css-loader/"><code>css-loader</code></a> ä¸€èµ·ä½¿ç”¨ã€‚</p> <p>ä¹‹åå°† loader ä¸ plugin æ·»åŠ åˆ°ä½ çš„ <code>webpack</code> é…ç½®æ–‡ä»¶ä¸­ã€‚ ä¾‹å¦‚ï¼š</p> <p><strong>style.css</strong></p> <pre><code class="hljs language-css"><span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p><strong>component.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token string">'./style.css'</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="options">é€‰é¡¹ <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="plugin-options">Plugin Options <a href="#plugin-options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <table> <thead> <tr> <th align="center">é€‰é¡¹å</th> <th align="center">ç±»å‹</th> <th align="center">é»˜è®¤å€¼</th> <th align="left">æè¿°</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="é€‰é¡¹å"><span><strong><a href="#filename"><code>filename</code></a></strong></span></td> <td align="center" data-th="ç±»å‹"><span><code>{String|Function}</code></span></td> <td align="center" data-th="é»˜è®¤å€¼"><span><code>[name].css</code></span></td> <td align="left" data-th="æè¿°"><span>æ­¤é€‰é¡¹å†³å®šäº†è¾“å‡ºçš„æ¯ä¸ª CSS æ–‡ä»¶çš„åç§°</span></td> </tr> <tr> <td align="center" data-th="é€‰é¡¹å"><span><strong><a href="#chunkfilename"><code>chunkFilename</code></a></strong></span></td> <td align="center" data-th="ç±»å‹"><span><code>{String|Function}</code></span></td> <td align="center" data-th="é»˜è®¤å€¼"><span><code>based on filename</code></span></td> <td align="left" data-th="æè¿°"><span>æ­¤é€‰é¡¹å†³å®šäº†éå…¥å£çš„ chunk æ–‡ä»¶åç§°</span></td> </tr> <tr> <td align="center" data-th="é€‰é¡¹å"><span><strong><a href="#ignoreorder"><code>ignoreOrder</code></a></strong></span></td> <td align="center" data-th="ç±»å‹"><span><code>{Boolean}</code></span></td> <td align="center" data-th="é»˜è®¤å€¼"><span><code>false</code></span></td> <td align="left" data-th="æè¿°"><span>ç§»é™¤ Order è­¦å‘Š</span></td> </tr> <tr> <td align="center" data-th="é€‰é¡¹å"><span><strong><a href="#insert"><code>insert</code></a></strong></span></td> <td align="center" data-th="ç±»å‹"><span><code>{String|Function}</code></span></td> <td align="center" data-th="é»˜è®¤å€¼"><span><code>var head = document.getElementsByTagName("head")[0];head.appendChild(linkTag);</code></span></td> <td align="left" data-th="æè¿°"><span>åœ¨æŒ‡å®šä½ç½®æ’å…¥ <code>&#x3C;link></code></span></td> </tr> <tr> <td align="center" data-th="é€‰é¡¹å"><span><strong><a href="#attributes"><code>attributes</code></a></strong></span></td> <td align="center" data-th="ç±»å‹"><span><code>{Object}</code></span></td> <td align="center" data-th="é»˜è®¤å€¼"><span><code>{}</code></span></td> <td align="left" data-th="æè¿°"><span>ç»™æ ‡ç­¾æ·»åŠ è‡ªå®šä¹‰å±æ€§</span></td> </tr> <tr> <td align="center" data-th="é€‰é¡¹å"><span><strong><a href="#linktype"><code>linkType</code></a></strong></span></td> <td align="center" data-th="ç±»å‹"><span><code>{String|Boolean}</code></span></td> <td align="center" data-th="é»˜è®¤å€¼"><span><code>text/css</code></span></td> <td align="left" data-th="æè¿°"><span>å…è®¸ä½¿ç”¨è‡ªå®šä¹‰ link ç±»å‹åŠ è½½å¼‚æ­¥ chunk</span></td> </tr> </tbody> </table> <h4 id="filename"><code>filename</code> <a href="#filename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>ç±»å‹ï¼š<code>String|Function</code> é»˜è®¤å€¼ï¼š<code>[name].css</code></p> <p>æ­¤é€‰é¡¹å†³å®šäº†è¾“å‡ºçš„æ¯ä¸ª CSS æ–‡ä»¶çš„åç§°ã€‚</p> <p>æœºåˆ¶ç±»ä¼¼äº <a href="../../configuration/output/index.htm#outputfilename" tppabs="https://webpack.docschina.org/configuration/output/#outputfilename"><code>output.filename</code></a>ã€‚</p> <h4 id="chunkfilename"><code>chunkFilename</code> <a href="#chunkfilename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>ç±»å‹ï¼š<code>String|Function</code> é»˜è®¤å€¼ï¼š<code>based on filename</code></p> <blockquote> <p>å°† <code>chunkFilename</code> è®¾ç½®ä¸º <code>function</code>ï¼Œä»…åœ¨ webpack@5 ä¸‹å¯ç”¨ã€‚</p> </blockquote> <p>æ­¤é€‰é¡¹å†³å®šäº†éå…¥å£çš„ chunk æ–‡ä»¶åç§°</p> <p>æœºåˆ¶ç±»ä¼¼äº <a href="../../configuration/output/index.htm#outputchunkfilename" tppabs="https://webpack.docschina.org/configuration/output/#outputchunkfilename"><code>output.chunkFilename</code></a></p> <h4 id="ignoreorder"><code>ignoreOrder</code> <a href="#ignoreorder" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>ç±»å‹ï¼š<code>Boolean</code> é»˜è®¤å€¼ï¼š<code>false</code></p> <p>ç§»é™¤ Order è­¦å‘Š å…·ä½“ç»†èŠ‚è¯·å‚é˜…<a href="#remove-order-warnings">ç¤ºä¾‹</a>ã€‚</p> <h4 id="insert"><code>insert</code> <a href="#insert" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>ç±»å‹ï¼š<code>String|Function</code> é»˜è®¤å€¼ï¼š<code>document.head.appendChild(linkTag);</code></p> <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>extract-css-chunks-plugin</code> ä¼šå°† stylesï¼ˆ<code>&#x3C;link></code> å…ƒç´ ï¼‰é™„åŠ åˆ°å½“å‰ <code>window</code> çš„ <code>document.head</code> ä¸­ã€‚</p> <p>ä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦å¯¹é™„åŠ çš„ç›®æ ‡è¿›è¡Œç²¾ç»†åŒ–ç®¡ç†ï¼Œç”šè‡³å»¶è¿Ÿ <code>link</code> å…ƒç´ çš„æ’å…¥ã€‚ ä¾‹å¦‚ï¼Œå½“ä½ åœ¨ iframe ä¸­è¿è¡Œåº”ç”¨ç¨‹åºå¼‚æ­¥åŠ è½½æ ·å¼æ—¶ï¼Œå°±å±äºæ­¤æƒ…å†µã€‚ å¯¹äºæ­¤ç±»æƒ…å†µï¼Œ<code>insert</code> å¯è¢«é…ç½®ä¸ºå‡½æ•°æˆ–è‡ªå®šä¹‰çš„é€‰æ‹©å™¨ã€‚</p> <p>å¦‚æœé™„åŠ ç›®æ ‡ä¸º <a href="javascript:if(confirm('https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement'" tppabs="https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement">iframe</a>ï¼Œè¯·ç¡®ä¿çˆ¶æ–‡æ¡£æœ‰è¶³å¤Ÿçš„è®¿é—®æƒé™è¿›å…¥ frame documentï¼Œå¹¶å°†å…ƒç´ é™„åŠ åˆ°å®ƒä¸Šé¢ã€‚</p> <h5 id="string"><code>String</code> <a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>å…è®¸è®¾ç½®è‡ªå®šä¹‰çš„ <a href="javascript:if(confirm('https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector'" tppabs="https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector">query selector</a>ã€‚ æ–°çš„ <code>&#x3C;link></code> å…ƒç´ å°†è¢«æ’å…¥åˆ°æ‰¾åˆ°çš„ item ä¹‹åã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  insert<span class="token operator">:</span> <span class="token string">'#some-element'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>æ‰¾åˆ° id ä¸º <code>some-element</code> çš„å…ƒç´ ï¼Œåœ¨å®ƒä¹‹åæ’å…¥æ–°çš„ <code>&#x3C;link></code> å…ƒç´ ã€‚</p> <h5 id="function"><code>Function</code> <a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>å…è®¸è¦†ç›–é»˜è®¤è¡Œä¸ºï¼Œå¹¶åœ¨ä»»æ„ä½ç½®æ’å…¥æ ·å¼ã€‚</p> <blockquote> <p>âš  æ³¨æ„ï¼Œè¿™æ®µä»£ç å°†ä¸ä½ çš„åº”ç”¨ç¨‹åºä¸€èµ·åœ¨æµè§ˆå™¨ä¸­è¿è¡Œã€‚ç”±äºå¹¶éæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒ ESMA ç‰¹æ€§ï¼Œå¦‚ <code>let</code>ï¼Œ<code>const</code>ï¼Œ<code>arrow function expression</code> ç­‰ï¼Œæˆ‘ä»¬å»ºè®®åªä½¿ç”¨ ECMA 5 çš„ç‰¹æ€§å’Œè¯­æ³•ã€‚</p> </blockquote> <blockquote> <blockquote> <p>âš  <code>insert</code> å‡½æ•°è¢«åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²å¹¶ä¼ é€’ç»™æ’ä»¶ã€‚è¿™æ„å‘³ç€å®ƒå°†æ— æ³•è®¿é—® webpack é…ç½®æ¨¡å—çš„ä½œç”¨åŸŸã€‚</p> </blockquote> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">insert</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">linkTag</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> reference <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#some-element'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>reference<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      reference<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>linkTag<span class="token punctuation">,</span> reference<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>æ‰¾åˆ° id ä¸º <code>some-element</code> çš„å…ƒç´ ï¼Œåœ¨å®ƒä¹‹åæ’å…¥æ–°çš„ <code>&#x3C;link></code> å…ƒç´ ã€‚</p> <h4 id="attributes"><code>attributes</code> <a href="#attributes" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>ç±»å‹ï¼š<code>Object</code> é»˜è®¤å€¼ï¼š<code>{}</code></p> <p>å¦‚æœå®šä¹‰äº†æ­¤é€‰é¡¹ï¼Œ<code>mini-css-extract-plugin</code> å°†æŠŠæŒ‡å®šçš„å±æ€§å’Œå€¼é™„åŠ åˆ° <code>&#x3C;link></code> å…ƒç´ ä¸Šã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      attributes<span class="token operator">:</span> <span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token string">'target'</span><span class="token punctuation">,</span>
        <span class="token string">'data-target'</span><span class="token operator">:</span> <span class="token string">'example'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æ³¨æ„ï¼šå®ƒåªé€‚ç”¨äºåŠ¨æ€åŠ è½½çš„ css chunkï¼Œå¦‚æœä½ æƒ³ä¿®æ”¹ html æ–‡ä»¶å†…çš„é“¾æ¥å±æ€§ï¼Œè¯·ä½¿ç”¨ <a href="javascript:if(confirm('https://github.com/jantimon/html-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/jantimon/html-webpack-plugin'" tppabs="https://github.com/jantimon/html-webpack-plugin">html-webpack-plugin</a>ã€‚</p> <h4 id="linktype"><code>linkType</code> <a href="#linktype" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>ç±»å‹ï¼š<code>String|Boolean</code> é»˜è®¤å€¼ï¼š<code>text/css</code></p> <p>æ­¤é€‰é¡¹è¿è¡Œä½¿ç”¨è‡ªå®šä¹‰é“¾æ¥ç±»å‹åŠ è½½å¼‚æ­¥ chunkï¼Œä¾‹å¦‚ <code>&#x3C;link type="text/css" ...></code>ã€‚</p> <h5 id="string"><code>String</code> <a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>å¯é€‰å€¼ï¼š<code>text/css</code></p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      linkType<span class="token operator">:</span> <span class="token string">'text/css'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="boolean"><code>Boolean</code> <a href="#boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><code>false</code> ç¦ç”¨ link çš„ <code>type</code> å±æ€§</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      linkType<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="loader-options">Loader é€‰é¡¹ <a href="#loader-options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <table> <thead> <tr> <th align="center">åç§°</th> <th align="center">ç±»å‹</th> <th align="center">é»˜è®¤å€¼</th> <th align="left">æè¿°</th> </tr> </thead> <tbody> <tr> <td align="center" data-th="åç§°"><span><strong><a href="#publicpath"><code>publicPath</code></a></strong></span></td> <td align="center" data-th="ç±»å‹"><span><code>{String|Function}</code></span></td> <td align="center" data-th="é»˜è®¤å€¼"><span><code>webpackOptions.output.publicPath</code></span></td> <td align="left" data-th="æè¿°"><span>ä¸ºå›¾ç‰‡ã€æ–‡ä»¶ç­‰å¤–éƒ¨èµ„æºæŒ‡å®šä¸€ä¸ªè‡ªå®šä¹‰çš„å…¬å…±è·¯å¾„ã€‚</span></td> </tr> <tr> <td align="center" data-th="åç§°"><span><strong><a href="#esmodule"><code>esModule</code></a></strong></span></td> <td align="center" data-th="ç±»å‹"><span><code>{Boolean}</code></span></td> <td align="center" data-th="é»˜è®¤å€¼"><span><code>true</code></span></td> <td align="left" data-th="æè¿°"><span>ä½¿ç”¨ ES modules è¯­æ³•</span></td> </tr> <tr> <td align="center" data-th="åç§°"><span><strong><a href="#modules"><code>modules</code></a></strong></span></td> <td align="center" data-th="ç±»å‹"><span><code>{Object}</code></span></td> <td align="center" data-th="é»˜è®¤å€¼"><span><code>undefined</code></span></td> <td align="left" data-th="æè¿°"><span>é…ç½® CSS æ¨¡å—</span></td> </tr> </tbody> </table> <h4 id="publicpath"><code>publicPath</code> <a href="#publicpath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>ç±»å‹ï¼š<code>String|Function</code> é»˜è®¤å€¼ï¼š<code>webpackOptions.output</code> é€‰é¡¹ä¸­çš„ <code>publicPath</code></p> <p>ä¸º CSS å†…çš„å›¾ç‰‡ã€æ–‡ä»¶ç­‰å¤–éƒ¨èµ„æºæŒ‡å®šä¸€ä¸ªè‡ªå®šä¹‰çš„å…¬å…±è·¯å¾„ã€‚ æœºåˆ¶ç±»ä¼¼äº <a href="../../configuration/output/index.htm#outputpublicpath" tppabs="https://webpack.docschina.org/configuration/output/#outputpublicpath"><code>output.publicPath</code></a>ã€‚</p> <h5 id="string"><code>String</code> <a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// ç±»ä¼¼äº webpackOptions.output ä¸­çš„é€‰é¡¹</span>
      <span class="token comment">// æ‰€æœ‰é€‰é¡¹éƒ½æ˜¯å¯é€‰çš„</span>
      filename<span class="token operator">:</span> <span class="token string">'[name].css'</span><span class="token punctuation">,</span>
      chunkFilename<span class="token operator">:</span> <span class="token string">'[id].css'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              publicPath<span class="token operator">:</span> <span class="token string">'/public/path/to/'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="function"><code>Function</code> <a href="#function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// ç±»ä¼¼äº webpackOptions.output ä¸­çš„é€‰é¡¹</span>
      <span class="token comment">// æ‰€æœ‰é€‰é¡¹éƒ½æ˜¯å¯é€‰çš„</span>
      filename<span class="token operator">:</span> <span class="token string">'[name].css'</span><span class="token punctuation">,</span>
      chunkFilename<span class="token operator">:</span> <span class="token string">'[id].css'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token function-variable function">publicPath</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">resourcePath<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>resourcePath<span class="token punctuation">)</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'/'</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="esmodule"><code>esModule</code> <a href="#esmodule" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š<code>Boolean</code> é»˜è®¤å€¼ï¼š<code>true</code></p> <p>é»˜è®¤æƒ…å†µä¸‹ <code>mini-css-extract-plugin</code> å°†ä¼šç”Ÿæˆä½¿ç”¨ ES æ¨¡å—è¯­æ³•çš„ JS æ¨¡å—ã€‚ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½¿ç”¨ ES æ¨¡å—æ˜¯æœ‰ç›Šçš„ï¼Œæ¯”å¦‚ï¼š<a href="../module-concatenation-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/module-concatenation-plugin/">module concatenation</a> å’Œ <a href="../../guides/tree-shaking/index.htm" tppabs="https://webpack.docschina.org/guides/tree-shaking/">tree shaking</a>ã€‚</p> <p>ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼å¯ç”¨ CommonJS è¯­æ³•ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              esModule<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="modules"><code>modules</code> <a href="#modules" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>ç±»å‹ï¼š<code>Object</code> é»˜è®¤å€¼ï¼š<code>undefined</code></p> <p>ç”¨äºé…ç½® CSS Modulesã€‚</p> <h5 id="namedexport"><code>namedExport</code> <a href="#namedexport" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>ç±»å‹ï¼š<code>Boolean</code> ç±»å‹ï¼š<code>false</code></p> <p>å¯ç”¨/ç¦ç”¨ ES æ¨¡å—å‘½åå¯¼å‡ºã€‚</p> <blockquote> <p>âš  å‘½åä¼šè¢«ä¿®æ”¹ä¸º <code>camelCase</code> çš„å½¢å¼ã€‚</p> </blockquote> <blockquote> <p>âš  ä¸å…è®¸åœ¨ css çš„ class name ä¸­ä½¿ç”¨ JavaScript å…³é”®å­—ã€‚</p> </blockquote> <blockquote> <p>âš  åº”å¯ç”¨ <code>css-loader</code> å’Œ <code>MiniCssExtractPlugin.loader</code> ä¸­çš„ <code>esModule</code> ä»¥åŠ <code>modules.namedExport</code> é€‰é¡¹ã€‚</p> </blockquote> <p><strong>styles.css</strong></p> <pre><code class="hljs language-css"><span class="token selector">.foo-baz</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.bar</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <p><strong>index.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> fooBaz<span class="token punctuation">,</span> bar <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./styles.css'</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fooBaz<span class="token punctuation">,</span> bar<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>ä½ å¯ä»¥æŒ‰ç…§å¦‚ä¸‹é…ç½®å¯ç”¨ ES æ¨¡å—å‘½åå¯¼å‡ºã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              esModule<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              modules<span class="token operator">:</span> <span class="token punctuation">{</span>
                namedExport<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              esModule<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
              modules<span class="token operator">:</span> <span class="token punctuation">{</span>
                namedExport<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                localIdentName<span class="token operator">:</span> <span class="token string">'foo__[name]__[local]'</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="examples">ç¤ºä¾‹ <a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="minimal-example">æœ€ç®€å•çš„ä¾‹å­ <a href="#minimal-example" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// ç±»ä¼¼äº webpackOptions.output ä¸­çš„é€‰é¡¹</span>
      <span class="token comment">// æ‰€æœ‰é€‰é¡¹éƒ½æ˜¯å¯é€‰çš„</span>
      filename<span class="token operator">:</span> <span class="token string">'[name].css'</span><span class="token punctuation">,</span>
      chunkFilename<span class="token operator">:</span> <span class="token string">'[id].css'</span><span class="token punctuation">,</span>
      ignoreOrder<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// å¿½ç•¥æœ‰å…³é¡ºåºå†²çªçš„è­¦å‘Š</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// ä½ å¯ä»¥åœ¨è¿™é‡ŒæŒ‡å®šç‰¹å®šçš„ publicPath</span>
              <span class="token comment">// é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨ webpackOptions.output ä¸­çš„ publicPath</span>
              publicPath<span class="token operator">:</span> <span class="token string">'../'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="common-use-case">é€šç”¨ç”¨ä¾‹ <a href="#common-use-case" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>mini-css-extract-plugin</code> is more often used in <code>production</code> mode to get separate css files. For <code>development</code> mode (including <code>webpack-dev-server</code>) you can use <code>style-loader</code>, because it injects CSS into the DOM using multiple </p><style></style> and works faster.<p></p> <blockquote> <p>i Do not use together <code>style-loader</code> and <code>mini-css-extract-plugin</code>.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> devMode <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'production'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> plugins <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>devMode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// enable in production only</span>
  plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(sa|sc|c)ss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          devMode <span class="token operator">?</span> <span class="token string">'style-loader'</span> <span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
          <span class="token string">'postcss-loader'</span><span class="token punctuation">,</span>
          <span class="token string">'sass-loader'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="the-publicpath-option-as-function"><code>publicPath</code> é€‰é¡¹ä¸ºå‡½æ•° <a href="#the-publicpath-option-as-function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// ç±»ä¼¼äº webpackOptions.output ä¸­çš„é€‰é¡¹</span>
      <span class="token comment">// æ‰€æœ‰é€‰é¡¹éƒ½æ˜¯å¯é€‰çš„</span>
      filename<span class="token operator">:</span> <span class="token string">'[name].css'</span><span class="token punctuation">,</span>
      chunkFilename<span class="token operator">:</span> <span class="token string">'[id].css'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token function-variable function">publicPath</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">resourcePath<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                <span class="token comment">// publicPath æ˜¯èµ„æºç›¸å¯¹äºä¸Šä¸‹æ–‡çš„ç›¸å¯¹è·¯å¾„</span>
                <span class="token comment">// ä¾‹å¦‚ï¼šå¯¹äº ./css/admin/main.css publicPath å°†ä¼šæ˜¯ ../../</span>
                <span class="token comment">// è€Œå¯¹äº ./css/main.css publicPath å°†ä¼šæ˜¯ ../</span>
                <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>resourcePath<span class="token punctuation">)</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'/'</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="advanced-configuration-example">é«˜çº§é…ç½®ç¤ºä¾‹ <a href="#advanced-configuration-example" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>æ­¤æ’ä»¶ä¸èƒ½ä¸ loader é“¾ä¸­çš„ <code>style-loader</code> ä¸€åŒä½¿ç”¨ã€‚</p> <p>è¿™æ˜¯ä¸€ä¸ªåœ¨ <code>development</code> æ„å»ºä¸­ä½¿ç”¨ HMR å¹¶ä¸”åœ¨ <code>production</code> æ„å»ºä¸­å°†æ ·å¼æ–‡ä»¶æå–åˆ°ç‹¬ç«‹æ–‡ä»¶ä¸­çš„ç¤ºä¾‹ã€‚</p> <p>ï¼ˆä¸ºäº†æ›´åŠ æ¸…æ¥šçš„è¡¨è¾¾ï¼Œçœç•¥äº† Loader çš„é€‰é¡¹ï¼Œä»¥é€‚åº”éœ€è¦ã€‚ï¼‰</p> <p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ <code>webpack-dev-server</code>ï¼Œé‚£ä¹ˆå°±æ— éœ€ä½¿ç”¨ <code>HotModuleReplacementPlugin</code> pluginã€‚ <code>webpack-dev-server</code> ä½¿ç”¨ <code>hot</code> é€‰é¡¹å†³å®šæ˜¯å¦å¯ç”¨/ç¦ç”¨ HMRã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> devMode <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'production'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> plugins <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// Options similar to the same options in webpackOptions.output</span>
    <span class="token comment">// both options are optional</span>
    filename<span class="token operator">:</span> devMode <span class="token operator">?</span> <span class="token string">'[name].css'</span> <span class="token operator">:</span> <span class="token string">'[name].[contenthash].css'</span><span class="token punctuation">,</span>
    chunkFilename<span class="token operator">:</span> devMode <span class="token operator">?</span> <span class="token string">'[id].css'</span> <span class="token operator">:</span> <span class="token string">'[id].[contenthash].css'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>devMode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// only enable hot in development</span>
  plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(sa|sc|c)ss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
          <span class="token string">'postcss-loader'</span><span class="token punctuation">,</span>
          <span class="token string">'sass-loader'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="hot-module-reloading-hmr">æ¨¡å—çƒ­æ›´æ–° (HMR) <a href="#hot-module-reloading-hmr" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>æ³¨æ„ï¼šåœ¨ webpack 5 ä¸­ HMR å·²è‡ªåŠ¨æ”¯æŒã€‚æ— éœ€é…ç½®ã€‚ä½ å¯ä»¥è·³è¿‡ä»¥ä¸‹å†…å®¹ï¼š</p> <p><code>mini-css-extract-plugin</code> æ”¯æŒåœ¨å¼€å‘ä¸­çƒ­é‡è½½å®é™…çš„ CSS æ–‡ä»¶ã€‚ æˆ‘ä»¬æä¾›äº†ä¸€äº›é€‰é¡¹æ¥å¯åŠ¨æ ‡å‡† stylesheets å’Œæœ¬åœ°èŒƒå›´å†… CSS å’Œ CSS modules çš„ HMR æ”¯æŒã€‚ ä»¥ä¸‹æ˜¯ mini-css ç”¨äºå¯åŠ¨ HMR CSS modules çš„ç¤ºä¾‹é…ç½®ã€‚</p> <p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ <code>webpack-dev-server</code>ï¼Œé‚£ä¹ˆä½ æ— éœ€ä½¿ç”¨ <code>HotModuleReplacementPlugin</code> æ’ä»¶ã€‚ <code>webpack-dev-server</code> ä½¿ç”¨ <code>hot</code> é€‰é¡¹æ¥æ§åˆ¶å¯ç”¨/ç¦ç”¨ HMRã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> plugins <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// Options similar to the same options in webpackOptions.output</span>
    <span class="token comment">// both options are optional</span>
    filename<span class="token operator">:</span> devMode <span class="token operator">?</span> <span class="token string">'[name].css'</span> <span class="token operator">:</span> <span class="token string">'[name].[contenthash].css'</span><span class="token punctuation">,</span>
    chunkFilename<span class="token operator">:</span> devMode <span class="token operator">?</span> <span class="token string">'[id].css'</span> <span class="token operator">:</span> <span class="token string">'[id].[contenthash].css'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>devMode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// only enable hot in development</span>
  plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minimizing-for-production">ç”Ÿäº§æ¨¡å¼å‹ç¼© <a href="#minimizing-for-production" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ä¸ºäº†å‹ç¼©è¾“å‡ºæ–‡ä»¶ï¼Œè¯·ä½¿ç”¨ç±»ä¼¼äº <a href="../css-minimizer-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/css-minimizer-webpack-plugin/">css-minimizer-webpack-plugin</a> è¿™æ ·çš„æ’ä»¶ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> CssMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'css-minimizer-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">'[name].css'</span><span class="token punctuation">,</span>
      chunkFilename<span class="token operator">:</span> <span class="token string">'[id].css'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// For webpack@5 you can use the `...` syntax to extend existing minimizers (i.e. `terser-webpack-plugin`), uncomment the next line</span>
      <span class="token comment">// `...`,</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>è¿™å°†åªåœ¨ç”Ÿäº§æ¨¡å¼ä¸‹å¯ç”¨ CSS å‹ç¼©ä¼˜åŒ–ã€‚å¦‚æœä½ éœ€è¦åœ¨å¼€å‘æ¨¡å¼ä¸‹ä½¿ç”¨ï¼Œè¯·è®¾ç½® <code>optimization.minimize</code> é€‰é¡¹ä¸º trueã€‚</p> <h3 id="using-preloaded-or-inlined-css">ä½¿ç”¨é¢„åŠ è½½æˆ–å†…è” CSS <a href="#using-preloaded-or-inlined-css" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>è¿è¡Œæ—¶ä»£ç é€šè¿‡ <code>&#x3C;link></code> æˆ–è€…<code>&#x3C;style></code> æ ‡ç­¾æ£€æµ‹å·²ç»æ·»åŠ çš„ CSSã€‚ å½“åœ¨æœåŠ¡ç«¯æ³¨å…¥ CSS ä»£ç  ä»¥åŠåš SSR æ—¶å°†ä¼šå¾ˆæœ‰ç”¨ã€‚ <code>&#x3C;link></code> æ ‡ç­¾çš„ <code>href</code> å±æ€§å¿…é¡»ä¸å°†è¦è¢«åŠ è½½çš„ CSS chunk çš„ URL ç›¸åŒ¹é…ã€‚ <code>data-href</code> å±æ€§ä¹Ÿå¯ä»¥è¢«ç”¨åœ¨ <code>&#x3C;link></code> å’Œ <code>&#x3C;style></code> æ ‡ç­¾ä¸­ ä½¿ç”¨å†…è” CSS æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ <code>data-href</code> å±æ€§ã€‚</p> <h3 id="extracting-all-css-in-a-single-file">æå–æ‰€æœ‰çš„ CSS åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ <a href="#extracting-all-css-in-a-single-file" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç”¨è¿‡ä½¿ç”¨ <code>optimization.splitChunks.cacheGroups</code> é€‰é¡¹ï¼Œæ‰€æœ‰çš„ CSS å¯ä»¥è¢«æå–åˆ°ä¸€ä¸ª CSS æ–‡ä»¶ä¸­ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        styles<span class="token operator">:</span> <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">'styles'</span><span class="token punctuation">,</span>
          test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          chunks<span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
          enforce<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">'[name].css'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="extracting-css-based-on-entry">åŸºäºå…¥å£æå– CSS <a href="#extracting-css-based-on-entry" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ä½ å¯ä»¥åŸºäº webpack çš„å…¥å£åç§°æå– CSSã€‚ å½“ä½ ä½¿ç”¨è·¯ç”±åŠ¨æ€åŠ è½½ä½†æ˜¯æƒ³è¦é€šè¿‡å…¥å£åŠ è½½å¯¹åº”çš„ CSS æ–‡ä»¶æ—¶è¿™å°†ä¼šéå¸¸æœ‰ç”¨ã€‚ è¿™æ ·ä¹Ÿé¿å…äº† ExtractTextPlugin é€ æˆçš„ CSS é‡å¤å¤åˆ¶é—®é¢˜ã€‚</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">recursiveIssuer</span><span class="token punctuation">(</span><span class="token parameter">m<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> issuer <span class="token operator">=</span> c<span class="token punctuation">.</span>moduleGraph<span class="token punctuation">.</span><span class="token function">getIssuer</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// For webpack@4 chunks = m.issuer</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>issuer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">recursiveIssuer</span><span class="token punctuation">(</span>issuer<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">const</span> chunks <span class="token operator">=</span> c<span class="token punctuation">.</span>chunkGraph<span class="token punctuation">.</span><span class="token function">getModuleChunks</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// For webpack@4 chunks = m._chunks</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> chunk <span class="token keyword">of</span> chunks<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> chunk<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    foo<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/foo'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    bar<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/bar'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        fooStyles<span class="token operator">:</span> <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">'styles_foo'</span><span class="token punctuation">,</span>
          test<span class="token operator">:</span> <span class="token punctuation">(</span>m<span class="token punctuation">,</span> c<span class="token punctuation">,</span> entry <span class="token operator">=</span> <span class="token string">'foo'</span><span class="token punctuation">)</span> <span class="token operator">=></span>
            m<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'CssModule'</span> <span class="token operator">&#x26;&#x26;</span>
            <span class="token function">recursiveIssuer</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">===</span> entry<span class="token punctuation">,</span>
          chunks<span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
          enforce<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        barStyles<span class="token operator">:</span> <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">'styles_bar'</span><span class="token punctuation">,</span>
          test<span class="token operator">:</span> <span class="token punctuation">(</span>m<span class="token punctuation">,</span> c<span class="token punctuation">,</span> entry <span class="token operator">=</span> <span class="token string">'bar'</span><span class="token punctuation">)</span> <span class="token operator">=></span>
            m<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'CssModule'</span> <span class="token operator">&#x26;&#x26;</span>
            <span class="token function">recursiveIssuer</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">===</span> entry<span class="token punctuation">,</span>
          chunks<span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
          enforce<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">'[name].css'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="filename-option-as-function">æ–‡ä»¶åé€‰é¡¹è®¾ç½®ä¸ºå‡½æ•° <a href="#filename-option-as-function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ä½¿ç”¨ <code>filename</code> é€‰é¡¹ï¼Œä½ å¯ä»¥ä½¿ç”¨ chunk æ•°æ®æ¥å®šåˆ¶æ–‡ä»¶åã€‚ è¿™ç‚¹åœ¨å¤„ç†å¤šä¸ªå…¥å£ï¼Œå¹¶ä¸”å¸Œæœ›å¯¹ç»™å®šçš„ å…¥å£/chunk æ–‡ä»¶è¿›è¡Œæ›´å¤šå¤„ç†æ—¶ï¼Œéå¸¸æœ‰ç”¨ã€‚ ä¸‹é¢ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>filename</code> å°†ç”Ÿæˆçš„ css è¾“å‡ºåˆ°ä¸åŒçš„ç›®å½•ä¸­ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function-variable function">filename</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> chunk <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>chunk<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'/js/'</span><span class="token punctuation">,</span> <span class="token string">'/css/'</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.css</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="long-term-caching">é•¿æœŸç¼“å­˜ <a href="#long-term-caching" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ä½¿ç”¨ <code>filename: "[contenthash].css"</code> å¯åŠ¨é•¿æœŸç¼“å­˜ã€‚æ ¹æ®éœ€è¦æ·»åŠ  <code>[name]</code>ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">'[name].[contenthash].css'</span><span class="token punctuation">,</span>
      chunkFilename<span class="token operator">:</span> <span class="token string">'[id].[contenthash].css'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="remove-order-warnings">ç§»é™¤ Order è­¦å‘Š <a href="#remove-order-warnings" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>å¯¹äºé€šè¿‡ä½¿ç”¨ scoping æˆ–å‘½åçº¦å®šæ¥è§£å†³ css order çš„é¡¹ç›®ï¼Œå¯ä»¥é€šè¿‡å°†æ’ä»¶çš„ ignoreOrder é€‰é¡¹è®¾ç½®ä¸º true æ¥ç¦ç”¨ css order è­¦å‘Šã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mini-css-extract-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      ignoreOrder<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="media-query-plugin">åª’ä½“æŸ¥è¯¢æ’ä»¶ <a href="#media-query-plugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>å¦‚æœæ‚¨æƒ³ä» CSS æ–‡ä»¶ä¸­æå–åª’ä½“æŸ¥è¯¢ï¼ˆå› ä¸ºç§»åŠ¨ç”¨æˆ·ä¸éœ€è¦åŠ è½½ç”µè„‘æˆ–å¹³æ¿ä¸“ç”¨çš„ CSS ï¼‰ï¼Œåº”ä½¿ç”¨ä»¥ä¸‹æ’ä»¶ä¹‹ä¸€ï¼š</p> <ul> <li><a href="javascript:if(confirm('https://github.com/SassNinja/media-query-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/SassNinja/media-query-plugin'" tppabs="https://github.com/SassNinja/media-query-plugin">Media Query Plugin</a></li> <li><a href="javascript:if(confirm('https://github.com/mike-diamond/media-query-splitting-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/mike-diamond/media-query-splitting-plugin'" tppabs="https://github.com/mike-diamond/media-query-splitting-plugin">Media Query Splitting Plugin</a></li> </ul> <h2 id="contributing">è´¡çŒ® <a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>å¦‚æœä½ è¿˜æ²¡æœ‰é˜…è¯»è¿‡æˆ‘ä»¬çš„è´¡çŒ®æŒ‡å—ï¼Œè¯·èŠ±ä¸€ç‚¹æ—¶é—´é˜…è¯»å®ƒã€‚</p> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/mini-css-extract-plugin/blob/master/.github/CONTRIBUTING.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/mini-css-extract-plugin/blob/master/.github/CONTRIBUTING.md'" tppabs="https://github.com/webpack-contrib/mini-css-extract-plugin/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="license">License <a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/mini-css-extract-plugin/blob/master/LICENSE  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/mini-css-extract-plugin/blob/master/LICENSE'" tppabs="https://github.com/webpack-contrib/mini-css-extract-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="ModuleConcatenationPlugin">ModuleConcatenationPlugin<a href="#ModuleConcatenationPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>In the past, one of webpackâ€™s trade-offs when bundling was that each module in your bundle would be wrapped in individual function closures. These wrapper functions made it slower for your JavaScript to execute in the browser. In comparison, tools like Closure Compiler and RollupJS â€˜hoistâ€™ or concatenate the scope of all your modules into one closure and allow for your code to have a faster execution time in the browser.</p> <p>This plugin will enable the same concatenation behavior in webpack. By default this plugin is already enabled in <a href="../../configuration/mode/index.htm#mode-production" tppabs="https://webpack.docschina.org/configuration/mode/#mode-production">production <code>mode</code></a> and disabled otherwise. If you need to override the production <code>mode</code> optimization, set the <a href="../../configuration/optimization/index.htm#optimizationconcatenatemodules" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationconcatenatemodules"><code>optimization.concatenateModules</code> option</a> to <code>false</code>. To enable concatenation behavior in other modes, you can add <code>ModuleConcatenationPlugin</code> manually or use the <code>optimization.concatenateModules</code> option:</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>ModuleConcatenationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <blockquote> <p>This concatenation behavior is called â€œscope hoisting.â€</p> <p>Scope hoisting is specifically a feature made possible by ECMAScript Module syntax. Because of this webpack may fallback to normal bundling based on what kind of modules you are using, and <a href="javascript:if(confirm('https://medium.com/webpack/webpack-freelancing-log-book-week-5-7-4764be3266f5  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://medium.com/webpack/webpack-freelancing-log-book-week-5-7-4764be3266f5'" tppabs="https://medium.com/webpack/webpack-freelancing-log-book-week-5-7-4764be3266f5">other conditions</a>.</p> </blockquote> <blockquote class="warning"> <p>Keep in mind that this plugin will only be applied to <a href="../../api/module-methods/index.htm#es6-recommended" tppabs="https://webpack.docschina.org/api/module-methods/#es6-recommended">ES6 modules</a> processed directly by webpack. When using a transpiler, you'll need to disable module processing (e.g. the <a href="javascript:if(confirm('https://babeljs.io/docs/en/babel-preset-env  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://babeljs.io/docs/en/babel-preset-env#modules'" tppabs="https://babeljs.io/docs/en/babel-preset-env#modules"><code>modules</code></a> option in Babel).</p> </blockquote> <h2 id="optimization-bailouts">Optimization Bailouts <a href="#optimization-bailouts" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>As the article explains, webpack attempts to achieve partial scope hoisting. It will merge modules into a single scope but cannot do so in every case. If webpack cannot merge a module, the two alternatives are Prevent and Root. Prevent means the module must be in its own scope. Root means a new module group will be created. The following conditions determine the outcome:</p> <table> <thead> <tr> <th>Condition</th> <th>Outcome</th> </tr> </thead> <tbody> <tr> <td data-th="Condition"><span>Non ES6 Module</span></td> <td data-th="Outcome"><span>Prevent</span></td> </tr> <tr> <td data-th="Condition"><span>Imported By Non Import</span></td> <td data-th="Outcome"><span>Root</span></td> </tr> <tr> <td data-th="Condition"><span>Imported From Other Chunk</span></td> <td data-th="Outcome"><span>Root</span></td> </tr> <tr> <td data-th="Condition"><span>Imported By Multiple Other Module Groups</span></td> <td data-th="Outcome"><span>Root</span></td> </tr> <tr> <td data-th="Condition"><span>Imported With <code>import()</code></span></td> <td data-th="Outcome"><span>Root</span></td> </tr> <tr> <td data-th="Condition"><span>Affected By <code>ProvidePlugin</code> Or Using <code>module</code></span></td> <td data-th="Outcome"><span>Prevent</span></td> </tr> <tr> <td data-th="Condition"><span>HMR Accepted</span></td> <td data-th="Outcome"><span>Root</span></td> </tr> <tr> <td data-th="Condition"><span>Using <code>eval()</code></span></td> <td data-th="Outcome"><span>Prevent</span></td> </tr> <tr> <td data-th="Condition"><span>In Multiple Chunks</span></td> <td data-th="Outcome"><span>Prevent</span></td> </tr> <tr> <td data-th="Condition"><span><code>export * from "cjs-module"</code></span></td> <td data-th="Outcome"><span>Prevent</span></td> </tr> </tbody> </table> <h3 id="module-grouping-algorithm">Module Grouping Algorithm <a href="#module-grouping-algorithm" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The following pseudo JavaScript explains the algorithm:</p> <pre><code class="hljs language-js">modules<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">module</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> group <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModuleGroup</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    root<span class="token operator">:</span> module
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  module<span class="token punctuation">.</span>dependencies<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">dependency</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">tryToAdd</span><span class="token punctuation">(</span>group<span class="token punctuation">,</span> dependency<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>group<span class="token punctuation">.</span>modules<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    orderedModules <span class="token operator">=</span> <span class="token function">topologicalSort</span><span class="token punctuation">(</span>group<span class="token punctuation">.</span>modules<span class="token punctuation">)</span><span class="token punctuation">;</span>
    concatenatedModule <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcatenatedModule</span><span class="token punctuation">(</span>orderedModules<span class="token punctuation">)</span><span class="token punctuation">;</span>
    chunk<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>concatenatedModule<span class="token punctuation">)</span><span class="token punctuation">;</span>
    orderedModules<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">groupModule</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      chunk<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>groupModule<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">tryToAdd</span><span class="token punctuation">(</span><span class="token parameter">group<span class="token punctuation">,</span> module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>group<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">hasPreconditions</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> nextGroup <span class="token operator">=</span> group<span class="token punctuation">;</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> module<span class="token punctuation">.</span>dependents<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">check<span class="token punctuation">,</span> dependent</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> check <span class="token operator">&#x26;&#x26;</span> <span class="token function">tryToAdd</span><span class="token punctuation">(</span>nextGroup<span class="token punctuation">,</span> dependent<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  module<span class="token punctuation">.</span>dependencies<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">dependency</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token function">tryToAdd</span><span class="token punctuation">(</span>group<span class="token punctuation">,</span> dependency<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  group<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>nextGroup<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> <h3 id="debugging-optimization-bailouts">Debugging Optimization Bailouts <a href="#debugging-optimization-bailouts" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>When using the webpack CLI, the <code>--display-optimization-bailout</code> flag will display bailout reasons. When using the webpack config, just add the following to the <code>stats</code> object:</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  stats<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// Examine all modules</span>
    maxModules<span class="token operator">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span>
    <span class="token comment">// Display bailout reasons</span>
    optimizationBailout<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h1 id="NoEmitOnErrorsPlugin">NoEmitOnErrorsPlugin<a href="#NoEmitOnErrorsPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>The <code>NoEmitOnErrorsPlugin</code> allows you to avoid emitting assets when there are any errors. Enabled by default, you can disable using <a href="../../configuration/optimization/index.htm#optimizationemitonerrors" tppabs="https://webpack.docschina.org/configuration/optimization/#optimizationemitonerrors"><code>optimization.emitOnErrors</code></a></p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>NoEmitOnErrorsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <h1 id="NormalModuleReplacementPlugin">NormalModuleReplacementPlugin<a href="#NormalModuleReplacementPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>The <code>NormalModuleReplacementPlugin</code> allows you to replace resources that match <code>resourceRegExp</code> with <code>newResource</code>. If <code>newResource</code> is relative, it is resolved relative to the previous resource. If <code>newResource</code> is a function, it is expected to overwrite the request attribute of the supplied resource.</p> <p>This can be useful for allowing different behaviour between builds.</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>NormalModuleReplacementPlugin</span><span class="token punctuation">(</span>
  resourceRegExp<span class="token punctuation">,</span>
  newResource
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="basic-example">Basic Example <a href="#basic-example" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Replace a specific module when building for a <a href="../../guides/production.htm" tppabs="https://webpack.docschina.org/guides/production">development environment</a>.</p> <p>Say you have a configuration file <code>some/path/config.development.module.js</code> and a special version for production in <code>some/path/config.production.module.js</code></p> <p>Just add the following plugin when building for production:</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>NormalModuleReplacementPlugin</span><span class="token punctuation">(</span>
  <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">some\/path\/config\.development\.js</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token string">'./config.production.js'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="advanced-example">Advanced Example <a href="#advanced-example" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Conditional build depending on an <a href="../../configuration/configuration-types.htm" tppabs="https://webpack.docschina.org/configuration/configuration-types">specified environment</a>.</p> <p>Say you want a configuration with specific values for different build targets.</p> <pre><code class="hljs language-javascript">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">env</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> appTarget <span class="token operator">=</span> env<span class="token punctuation">.</span><span class="token constant">APP_TARGET</span> <span class="token operator">||</span> <span class="token string">'VERSION_A'</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>NormalModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(.*)-APP_TARGET(\.*)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resource</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        resource<span class="token punctuation">.</span>request <span class="token operator">=</span> resource<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">-APP_TARGET</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>appTarget<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Create the two configuration files:</p> <p><strong>app/config-VERSION_A.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  title <span class="token operator">:</span> <span class="token string">'I am version A'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p><strong>app/config-VERSION_B.js</strong></p> <pre><code class="hljs language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  title <span class="token operator">:</span> <span class="token string">'I am version B'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Then import that configuration using the keyword you're looking for in the regexp:</p> <pre><code class="hljs language-javascript"><span class="token keyword">import</span> config <span class="token keyword">from</span> <span class="token string">'app/config-APP_TARGET'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>And now you just get the right configuration imported depending on which target you're building for:</p> <pre><code class="hljs language-bash">webpack --env.APP_TARGET VERSION_A
<span class="token operator">=</span><span class="token operator">></span> <span class="token string">'I am version A'</span>

webpack --env.APP_TARGET VERSION_B
<span class="token operator">=</span><span class="token operator">></span> <span class="token string">'I am version B'</span></code></pre> <h1 id="NpmInstallWebpackPlugin">NpmInstallWebpackPlugin<a href="#NpmInstallWebpackPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Speed up development by <b>automatically installing &#x26; saving dependencies</b> with Webpack.</p> <p>It is inefficient to <kbd>Ctrl-C</kbd> your build script &#x26; server just to install a dependency you didn't know you needed until now.</p> <p>Instead, use <code>require</code> or <code>import</code> how you normally would and <code>npm install</code> will happen <strong>automatically to install &#x26; save missing dependencies</strong> while you work!</p> <h2 id="install">Install <a href="#install" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> --save-dev npm-install-webpack-plugin</code></pre> <h2 id="usage">Usage <a href="#usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>In your <code>webpack.config.js</code>:</p> <pre><code class="hljs language-js">plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">NpmInstallPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre> <p><strong>This is equivalent to</strong>:</p> <pre><code class="hljs language-js">plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">NpmInstallPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// Use --save or --save-dev</span>
    dev<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">// Install missing peerDependencies</span>
    peerDependencies<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// Reduce amount of console logging</span>
    quiet<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">// npm command used inside company, yarn is not supported yet</span>
    npm<span class="token operator">:</span> <span class="token string">'npm'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre> <p>You can provide a <code>Function</code> to the <code>dev</code> to make it dynamic:</p> <pre><code class="hljs language-js">plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">NpmInstallPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">dev</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">[</span>
        <span class="token string">"babel-preset-react-hmre"</span><span class="token punctuation">,</span>
        <span class="token string">"webpack-dev-middleware"</span><span class="token punctuation">,</span>
        <span class="token string">"webpack-hot-middleware"</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre> <h2 id="demo">Demo <a href="#demo" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><img src="../../../cloud.githubusercontent.com/assets/15182/12540538/6a4e8f1a-c2d0-11e5-97ee-4ddaf6892645.gif" tppabs="https://cloud.githubusercontent.com/assets/15182/12540538/6a4e8f1a-c2d0-11e5-97ee-4ddaf6892645.gif" alt="npm-install-webpack-plugin demo"></p> <h2 id="features">Features <a href="#features" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul class="contains-task-list"> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Works with both webpack <code>^v1.12.0</code> and <code>^2.1.0-beta.0</code>.</li> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Auto-installs <code>.babelrc</code> plugins &#x26; presets.</li> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Supports both ES5 &#x26; ES6 Modules. (e.g. <code>require</code>, <code>import</code>)</li> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Supports Namespaced packages. (e.g. <code>@cycle/dom</code>)</li> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Supports Dot-delimited packages. (e.g. <code>lodash.capitalize</code>)</li> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Supports CSS imports. (e.g. <code>@import "~bootstrap"</code>)</li> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Supports webpack loaders. (e.g. <code>babel-loader</code>, <code>file-loader</code>, etc.)</li> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Supports inline webpack loaders. (e.g. <code>require("bundle?lazy!./App"</code>)</li> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Auto-installs missing <code>peerDependencies</code>. (e.g. <code>@cycle/core</code> will automatically install <code>rx@*</code>)</li> <li class="task-list-item"><input type="checkbox" checked="checked" disabled="disabled"> Supports webpack's <code>resolve.alias</code> &#x26; <code>resolve.root</code> configuration. (e.g. <code>require("react")</code> can alias to <code>react-lite</code>)</li> </ul> <h2 id="contributing">Contributing <a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Please take a moment to read our contributing guidelines if you haven't yet done so.</p> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/npm-install-webpack-plugin/blob/master/.github/CONTRIBUTING.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/npm-install-webpack-plugin/blob/master/.github/CONTRIBUTING.md'" tppabs="https://github.com/webpack-contrib/npm-install-webpack-plugin/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="maintainers">Maintainers <a href="#maintainers" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <table> <tbody> <tr> <td align="center"> <img width="150" height="150" src="../../../avatars2.githubusercontent.com/u/15182-v=3&s=150.jpg" tppabs="https://avatars2.githubusercontent.com/u/15182?v=3&s=150"> <br> <a href="javascript:if(confirm('https://github.com/ericclemmons  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/ericclemmons'" tppabs="https://github.com/ericclemmons">Eric Clemmons</a> </td> <td align="center"> <img width="150" height="150" src="../../../avatars3.githubusercontent.com/u/226692-v=3&s=150" tppabs="https://avatars3.githubusercontent.com/u/226692?v=3&s=150"> <br> <a href="javascript:if(confirm('https://github.com/insin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/insin'" tppabs="https://github.com/insin">Jonny Buchanan</a> </td> </tr> <tbody> </tbody></tbody></table> <h1 id="PrefetchPlugin">PrefetchPlugin<a href="#PrefetchPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Prefetch normal module requests, causing them to be resolved and built before the first <code>import</code> or <code>require</code> of that module occurs. Using this plugin can boost performance. Try to profile the build first to determine clever prefetching points.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>PrefetchPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>context<span class="token punctuation">]</span><span class="token punctuation">,</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="options">Options <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li><code>context</code>: An absolute path to a directory</li> <li><code>request</code>: A request string for a normal module</li> </ul> <h1 id="ProfilingPlugin">ProfilingPlugin<a href="#ProfilingPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Generate Chrome profile file which includes timings of plugins execution. Outputs <code>events.json</code> file by default. It is possible to provide custom file path using <code>outputPath</code> option.</p> <blockquote> <p>Note : ProfilingPlugin accepts only absolute paths.</p> </blockquote> <h2 id="options">Options <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li><code>outputPath</code>: An absolute path to a custom output file (json)</li> </ul> <h2 id="usage-default">Usage: default <a href="#usage-default" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>debug<span class="token punctuation">.</span>ProfilingPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="usage-custom-outputpath">Usage: custom <code>outputPath</code> <a href="#usage-custom-outputpath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>debug<span class="token punctuation">.</span>ProfilingPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  outputPath<span class="token operator">:</span> <span class="token string">'profiling/profileEvents.json'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>In order to view the profile file:</p> <ol> <li>Run webpack with <code>ProfilingPlugin</code>.</li> <li>Go to Chrome, open DevTools, and go to the <code>Performance</code> tab (formerly <code>Timeline</code>).</li> <li>Drag and drop generated file (<code>events.json</code> by default) into the profiler.</li> </ol> <p>It will then display timeline stats and calls per plugin!</p> <h1 id="ProgressPlugin">ProgressPlugin<a href="#ProgressPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><code> object = { boolean activeModules = true, boolean entries = false, function (number percentage, string message, [string] ...args) handler, boolean modules = true, number modulesCount = 500, boolean profile = false }</code></p> <p><code>function (number percentage, string message, [string] ...args)</code></p> <p>The <code>ProgressPlugin</code> provides a way to customize how progress is reported during a compilation.</p> <h2 id="usage">Usage <a href="#usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Create an instance of <code>ProgressPlugin</code> and provide one of the allowed params.</p> <h3 id="providing-function">Providing <code>function</code> <a href="#providing-function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Provide a handler function which will be called when hooks report progress. <code>handler</code> function arguments:</p> <ul> <li><code>percentage</code>: a number between 0 and 1 indicating the completion percentage of the compilation</li> <li><code>message</code>: a short description of the currently-executing hook</li> <li><code>...args</code>: zero or more additional strings describing the current progress</li> </ul> <pre><code class="hljs language-js"><span class="token keyword">const</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">percentage<span class="token punctuation">,</span> message<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// e.g. Output each progress message directly to the console:</span>
  console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>percentage<span class="token punctuation">,</span> message<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProgressPlugin</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="providing-object">Providing <code>object</code> <a href="#providing-object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>When providing an <code>object</code> to the <code>ProgressPlugin</code>, following properties are supported:</p> <ul> <li><code>activeModules</code> (<code>boolean = false</code>): Shows active modules count and one active module in progress message.</li> <li><code>entries</code> (<code>boolean = true</code>): Shows entries count in progress message.</li> <li><code>handler</code> (See <a href="#providing-function">Providing function</a>)</li> <li><code>modules</code> (<code>boolean = true</code>): Shows modules count in progress message.</li> <li><code>modulesCount</code> (<code>number = 5000</code>): A minimum modules count to start with. Takes effect when <code>modules</code> property is enabled.</li> <li><code>profile</code> (<code>boolean = false</code>): Tells <code>ProgressPlugin</code> to collect profile data for progress steps.</li> <li><code>dependencies</code> (<code>boolean = true</code>): Shows the count of dependencies in progress message.</li> <li><code>dependenciesCount</code> (<code>number = 10000</code>): A minimum dependencies count to start with. Takes effect when <code>dependencies</code> property is enabled.</li> <li><code>percentBy</code> (<code>string = null: 'entries' | 'dependencies' | 'modules' | null</code>): Tells <code>ProgressPlugin</code> how to calculate progress percentage.</li> </ul> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProgressPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  activeModules<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  entries<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">percentage<span class="token punctuation">,</span> message<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// custom logic</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  modules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  modulesCount<span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span>
  profile<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  dependencies<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  dependenciesCount<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
  percentBy<span class="token operator">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="percentage-calculation">Percentage calculation <a href="#percentage-calculation" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>By default, progress percentage is calculated based on built modules count and total modules count: <code>built / total</code></p> <p>The total modules count is unknown in advance and changes during the build. This may cause inaccurate progress percentage.</p> <p>To solve this problem <code>ProgressPlugin</code> caches the last known total modules count and reuses this value on the next build. The first build will warm the cache but the following builds will use and update this value.</p> <blockquote> <p>We recommend using <code>percentBy: 'entries'</code> setting for projects with <a href="../../configuration/entry-context/index.htm#entry" tppabs="https://webpack.docschina.org/configuration/entry-context/#entry">multiple configured entry points</a>. Percentage calculation will become more accurate because the amount of entry points is known in advance.</p> </blockquote> <h2 id="supported-hooks">Supported Hooks <a href="#supported-hooks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The following hooks report progress information to <code>ProgressPlugin</code>.</p> <blockquote class="tip"> <p><em>Hooks marked with * allow plugins to report progress information using <code>reportProgress</code>. For more, see <a href="../../api/plugins/index.htm#reporting-progress" tppabs="https://webpack.docschina.org/api/plugins/#reporting-progress">Plugin API: Reporting Progress</a></em></p> </blockquote> <p><strong>Compiler</strong></p> <ul> <li>compilation</li> <li>emit*</li> <li>afterEmit*</li> <li>done</li> </ul> <p><strong>Compilation</strong></p> <ul> <li>buildModule</li> <li>failedModule</li> <li>succeedModule</li> <li>finishModules*</li> <li>seal*</li> <li>optimizeDependenciesBasic*</li> <li>optimizeDependencies*</li> <li>optimizeDependenciesAdvanced*</li> <li>afterOptimizeDependencies*</li> <li>optimize*</li> <li>optimizeModulesBasic*</li> <li>optimizeModules*</li> <li>optimizeModulesAdvanced*</li> <li>afterOptimizeModules*</li> <li>optimizeChunksBasic*</li> <li>optimizeChunks*</li> <li>optimizeChunksAdvanced*</li> <li>afterOptimizeChunks*</li> <li>optimizeTree*</li> <li>afterOptimizeTree*</li> <li>optimizeChunkModulesBasic*</li> <li>optimizeChunkModules*</li> <li>optimizeChunkModulesAdvanced*</li> <li>afterOptimizeChunkModules*</li> <li>reviveModules*</li> <li>optimizeModuleOrder*</li> <li>advancedOptimizeModuleOrder*</li> <li>beforeModuleIds*</li> <li>moduleIds*</li> <li>optimizeModuleIds*</li> <li>afterOptimizeModuleIds*</li> <li>reviveChunks*</li> <li>optimizeChunkOrder*</li> <li>beforeChunkIds*</li> <li>optimizeChunkIds*</li> <li>afterOptimizeChunkIds*</li> <li>recordModules*</li> <li>recordChunks*</li> <li>beforeHash*</li> <li>afterHash*</li> <li>recordHash*</li> <li>beforeModuleAssets*</li> <li>beforeChunkAssets*</li> <li>additionalChunkAssets*</li> <li>record*</li> <li>additionalAssets*</li> <li>optimizeChunkAssets*</li> <li>afterOptimizeChunkAssets*</li> <li>optimizeAssets*</li> <li>afterOptimizeAssets*</li> <li>afterSeal*</li> </ul> <h2 id="source">Source <a href="#source" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li><a href="../../../github.com/webpack/webpack/blob/master/lib/ProgressPlugin.js" tppabs="https://github.com/webpack/webpack/blob/master/lib/ProgressPlugin.js"><code>ProgressPlugin</code> source</a></li> </ul> <h1 id="ProvidePlugin">ProvidePlugin<a href="#ProvidePlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Automatically load modules instead of having to <code>import</code> or <code>require</code> them everywhere.</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  identifier<span class="token operator">:</span> <span class="token string">'module1'</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>or</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  identifier<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'module1'</span><span class="token punctuation">,</span> <span class="token string">'property1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>By default, module resolution path is current folder (<code>./**)</code> and <code>node_modules</code>.</p> <p>It is also possible to specify full path:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  identifier<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/module1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Whenever the <code>identifier</code> is encountered as free variable in a module, the <code>module</code> is loaded automatically and the <code>identifier</code> is filled with the exports of the loaded <code>module</code> (or <code>property</code> in order to support named exports).</p> <p>For importing the default export of an ES2015 module, you have to specify the default property of module.</p> <h2 id="usage-jquery">Usage: jQuery <a href="#usage-jquery" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>To automatically load <code>jquery</code> we can simply point both variables it exposes to the corresponding node module:</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  $<span class="token operator">:</span> <span class="token string">'jquery'</span><span class="token punctuation">,</span>
  jQuery<span class="token operator">:</span> <span class="token string">'jquery'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Then in any of our source code:</p> <pre><code class="hljs language-javascript"><span class="token comment">// in a module</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#item'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x3C;= just works</span>
<span class="token function">jQuery</span><span class="token punctuation">(</span><span class="token string">'#item'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#x3C;= just works</span>
<span class="token comment">// $ is automatically set to the exports of module "jquery"</span></code></pre> <h2 id="usage-jquery-with-angular-1">Usage: jQuery with Angular 1 <a href="#usage-jquery-with-angular-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Angular looks for <code>window.jQuery</code> in order to determine whether jQuery is present, see the <a href="javascript:if(confirm('https://github.com/angular/angular.js/blob/v1.5.9/src/Angular.js  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/angular/angular.js/blob/v1.5.9/src/Angular.js#L1821-L1823'" tppabs="https://github.com/angular/angular.js/blob/v1.5.9/src/Angular.js#L1821-L1823">source code</a>.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string">'window.jQuery'</span><span class="token operator">:</span> <span class="token string">'jquery'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="usage-lodash-map">Usage: Lodash Map <a href="#usage-lodash-map" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  _map<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'lodash'</span><span class="token punctuation">,</span> <span class="token string">'map'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="usage-vuejs">Usage: Vue.js <a href="#usage-vuejs" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  Vue<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'vue/dist/vue.esm.js'</span><span class="token punctuation">,</span> <span class="token string">'default'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h1 id="SourceMapDevToolPlugin">SourceMapDevToolPlugin<a href="#SourceMapDevToolPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>This plugin enables more fine grained control of source map generation. It is also enabled automatically by certain settings of the <a href="../../configuration/devtool/index.htm" tppabs="https://webpack.docschina.org/configuration/devtool/"><code>devtool</code></a> configuration option.</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>SourceMapDevToolPlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="options">Options <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The following options are supported:</p> <ul> <li><code>test</code> (<code>string</code> <code>RegExp</code> <code>[string, RegExp]</code>): Include source maps for modules based on their extension (defaults to <code>.js</code>, <code>.mjs</code>, and <code>.css</code>).</li> <li><code>include</code> (<code>string</code> <code>RegExp</code> <code>[string, RegExp]</code>): Include source maps for module paths that match the given value.</li> <li><code>exclude</code> (<code>string</code> <code>RegExp</code> <code>[string, RegExp]</code>): Exclude modules that match the given value from source map generation.</li> <li><code>filename</code> (<code>string</code>): Defines the output filename of the SourceMap (will be inlined if no value is provided).</li> <li><code>append</code> (<code>string</code>): Appends the given value to the original asset. Usually the <code>#sourceMappingURL</code> comment. <code>[url]</code> is replaced with a URL to the source map file. Since webpack v4.36.0, path parameters are supported: <code>[chunk]</code>, <code>[filename]</code> and <code>[contenthash]</code>. Setting <code>append</code> to <code>false</code> disables the appending.</li> <li><code>moduleFilenameTemplate</code> (<code>string</code>): See <a href="../../configuration/output/index.htm#outputdevtoolmodulefilenametemplate" tppabs="https://webpack.docschina.org/configuration/output/#outputdevtoolmodulefilenametemplate"><code>output.devtoolModuleFilenameTemplate</code></a>.</li> <li><code>fallbackModuleFilenameTemplate</code> (<code>string</code>): See link above.</li> <li><code>namespace</code> (<code>string</code>): See <a href="../../configuration/output/index.htm#outputdevtoolnamespace" tppabs="https://webpack.docschina.org/configuration/output/#outputdevtoolnamespace"><code>output.devtoolNamespace</code></a>.</li> <li><code>module = true</code> (<code>boolean</code>): Indicates whether loaders should generate source maps.</li> <li><code>columns = true</code> (<code>boolean</code>): Indicates whether column mappings should be used.</li> <li><code>noSources = false</code> (<code>boolean</code>): Prevents the source file content from being included in the source map.</li> <li><code>publicPath</code> (<code>string</code>): Emits absolute URLs with public path prefix, e.g. <code>https://example.com/project/</code>.</li> <li><code>fileContext</code> (<code>string</code>): Makes the <code>[file]</code> argument relative to this directory.</li> <li><code>sourceRoot</code> (<code>string</code>): Provide a custom value for the <code>sourceRoot</code> property in the SourceMap.</li> </ul> <p>The <code>fileContext</code> option is useful when you want to store source maps in an upper level directory to avoid <code>../../</code> appearing in the absolute <code>[url]</code>.</p> <blockquote class="tip"> <p>Setting <code>module</code> and/or <code>columns</code> to <code>false</code> will yield less accurate source maps but will also improve compilation performance significantly.</p> </blockquote> <blockquote class="tip"> <p>If you want to use a custom configuration for this plugin in <a href="../../configuration/mode/index.htm#mode-development" tppabs="https://webpack.docschina.org/configuration/mode/#mode-development">development mode</a>, make sure to disable the default one. I.e. set <code>devtool: false</code>.</p> </blockquote> <blockquote class="warning"> <p>If the default webpack <code>minimizer</code> has been overridden (such as to customise the <code>TerserPlugin</code> options), make sure to configure its replacement with <code>sourceMap: true</code> to enable SourceMap support.</p> </blockquote> <h2 id="examples">Examples <a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>The following examples demonstrate some common use cases for this plugin.</p> <h3 id="basic-use-case">Basic Use Case <a href="#basic-use-case" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>You can use the following code to replace the configuration option <code>devtool: inline-source-map</code> with an equivalent custom plugin configuration:</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  devtool<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>SourceMapDevToolPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="exclude-vendor-maps">Exclude Vendor Maps <a href="#exclude-vendor-maps" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>The following code would exclude source maps for any modules in the <code>vendor.js</code> bundle:</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>SourceMapDevToolPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  filename<span class="token operator">:</span> <span class="token string">'[name].js.map'</span><span class="token punctuation">,</span>
  exclude<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'vendor.js'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="host-source-maps-externally">Host Source Maps Externally <a href="#host-source-maps-externally" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Set a URL for source maps. Useful for hosting them on a host that requires authorization.</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>SourceMapDevToolPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  append<span class="token operator">:</span> <span class="token string">'\n//# sourceMappingURL=https://example.com/sourcemap/[url]'</span><span class="token punctuation">,</span>
  filename<span class="token operator">:</span> <span class="token string">'[name].map'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>And for cases when source maps are stored in the upper level directory:</p> <pre><code class="hljs language-code">project
|- dist
  |- public
    |- bundle-[hash].js
  |- sourcemaps
    |- bundle-[hash].js.map
</code></pre> <p>With next config:</p> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>SourceMapDevToolPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  filename<span class="token operator">:</span> <span class="token string">'sourcemaps/[file].map'</span><span class="token punctuation">,</span>
  publicPath<span class="token operator">:</span> <span class="token string">'https://example.com/project/'</span><span class="token punctuation">,</span>
  fileContext<span class="token operator">:</span> <span class="token string">'public'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Will produce the following URL:</p> <pre><code class="hljs language-code">https://example.com/project/sourcemaps/bundle-[hash].js.map
</code></pre> <h1 id="SplitChunksPlugin">SplitChunksPlugin<a href="#SplitChunksPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Originally, chunks (and modules imported inside them) were connected by a parent-child relationship in the internal webpack graph. The <code>CommonsChunkPlugin</code> was used to avoid duplicated dependencies across them, but further optimizations were not possible.</p> <p>Since webpack v4, the <code>CommonsChunkPlugin</code> was removed in favor of <code>optimization.splitChunks</code>.</p> <h2 id="defaults">Defaults <a href="#defaults" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>Out of the box <code>SplitChunksPlugin</code> should work well for most users.</p> <p>By default it only affects on-demand chunks, because changing initial chunks would affect the script tags the HTML file should include to run the project.</p> <p>webpack will automatically split chunks based on these conditions:</p> <ul> <li>New chunk can be shared OR modules are from the <code>node_modules</code> folder</li> <li>New chunk would be bigger than 20kb (before min+gz)</li> <li>Maximum number of parallel requests when loading chunks on demand would be lower or equal to 30</li> <li>Maximum number of parallel requests at initial page load would be lower or equal to 30</li> </ul> <p>When trying to fulfill the last two conditions, bigger chunks are preferred.</p> <h2 id="configuration">Configuration <a href="#configuration" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>webpack provides a set of options for developers that want more control over this functionality.</p> <blockquote class="warning"> <p>The default configuration was chosen to fit web performance best practices, but the optimal strategy for your project might differ. If you're changing the configuration, you should measure the impact of your changes to ensure there's a real benefit.</p> </blockquote> <h2 id="optimizationsplitchunks"><code>optimization.splitChunks</code> <a href="#optimizationsplitchunks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>This configuration object represents the default behavior of the <code>SplitChunksPlugin</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      chunks<span class="token operator">:</span> <span class="token string">'async'</span><span class="token punctuation">,</span>
      minSize<span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span>
      minRemainingSize<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      maxSize<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      minChunks<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      maxAsyncRequests<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
      maxInitialRequests<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
      automaticNameDelimiter<span class="token operator">:</span> <span class="token string">'~'</span><span class="token punctuation">,</span>
      enforceSizeThreshold<span class="token operator">:</span> <span class="token number">50000</span><span class="token punctuation">,</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        defaultVendors<span class="token operator">:</span> <span class="token punctuation">{</span>
          test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\/]node_modules[\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          priority<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span>
          reuseExistingChunk<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          minChunks<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          priority<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span>
          reuseExistingChunk<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p>When files paths are processed by webpack, they always contain <code>/</code> on Unix systems and <code>\</code> on Windows. That's why using <code>[\\/]</code> in <code>{cacheGroup}.test</code> fields is necessary to represent a path separator. <code>/</code> or <code>\</code> in <code>{cacheGroup}.test</code> will cause issues when used cross-platform.</p> </blockquote> <blockquote class="warning"> <p>Since webpack 5, passing an entry name to <code>{cacheGroup}.test</code> and using a name of an existing chunk for <code>{cacheGroup}.name</code> is no longer allowed.</p> </blockquote> <h3 id="splitchunksautomaticnamedelimiter"><code>splitChunks.automaticNameDelimiter</code> <a href="#splitchunksautomaticnamedelimiter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string = '~'</code></p> <p>By default webpack will generate names using origin and name of the chunk (e.g. <code>vendors~main.js</code>). This option lets you specify the delimiter to use for the generated names.</p> <h3 id="splitchunkschunks"><code>splitChunks.chunks</code> <a href="#splitchunkschunks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string = 'async'</code> <code>function (chunk)</code></p> <p>This indicates which chunks will be selected for optimization. When a string is provided, valid values are <code>all</code>, <code>async</code>, and <code>initial</code>. Providing <code>all</code> can be particularly powerful, because it means that chunks can be shared even between async and non-async chunks.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// include all types of chunks</span>
      chunks<span class="token operator">:</span> <span class="token string">'all'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Alternatively, you may provide a function for more control. The return value will indicate whether to include each chunk.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">chunks</span> <span class="token punctuation">(</span><span class="token parameter">chunk</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// exclude `my-excluded-chunk`</span>
        <span class="token keyword">return</span> chunk<span class="token punctuation">.</span>name <span class="token operator">!==</span> <span class="token string">'my-excluded-chunk'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p>You can combine this configuration with the <a href="../html-webpack-plugin/index.htm" tppabs="https://webpack.docschina.org/plugins/html-webpack-plugin/">HtmlWebpackPlugin</a>. It will inject all the generated vendor chunks for you.</p> </blockquote> <h3 id="splitchunksmaxasyncrequests"><code>splitChunks.maxAsyncRequests</code> <a href="#splitchunksmaxasyncrequests" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number = 30</code></p> <p>Maximum number of parallel requests when on-demand loading.</p> <h3 id="splitchunksmaxinitialrequests"><code>splitChunks.maxInitialRequests</code> <a href="#splitchunksmaxinitialrequests" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number = 30</code></p> <p>Maximum number of parallel requests at an entry point.</p> <h3 id="splitchunksdefaultsizetypes"><code>splitChunks.defaultSizeTypes</code> <a href="#splitchunksdefaultsizetypes" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>[string] = ['javascript', 'unknown']</code></p> <p>Sets the size types which are used when a number is used for sizes.</p> <h3 id="splitchunksminchunks"><code>splitChunks.minChunks</code> <a href="#splitchunksminchunks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number = 1</code></p> <p>The minimum times must a module be shared among chunks before splitting.</p> <h3 id="splitChunkshidePathInfo"><code>splitChunks.hidePathInfo</code><a href="#splitChunkshidePathInfo" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean</code></p> <p>Prevents exposing path info when creating names for parts splitted by maxSize.</p> <h3 id="splitchunksminsize"><code>splitChunks.minSize</code> <a href="#splitchunksminsize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number = 20000</code></p> <p>Minimum size, in bytes, for a chunk to be generated.</p> <h3 id="splitchunksenforcesizethreshold"><code>splitChunks.enforceSizeThreshold</code> <a href="#splitchunksenforcesizethreshold" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <h4 id="splitchunkscachegroupscachegroupenforcesizethreshold"><code>splitChunks.cacheGroups.{cacheGroup}.enforceSizeThreshold</code> <a href="#splitchunkscachegroupscachegroupenforcesizethreshold" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>number = 50000</code></p> <p>Size threshold at which splitting is enforced and other restrictions (minRemainingSize, maxAsyncRequests, maxInitialRequests) are ignored.</p> <h3 id="splitchunksminremainingsize"><code>splitChunks.minRemainingSize</code> <a href="#splitchunksminremainingsize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <h4 id="splitchunkscachegroupscachegroupminremainingsize"><code>splitChunks.cacheGroups.{cacheGroup}.minRemainingSize</code> <a href="#splitchunkscachegroupscachegroupminremainingsize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>number = 0</code></p> <p><code>splitChunks.minRemainingSize</code> option was introduced in webpack 5 to avoid zero sized modules by ensuring that the minimum size of the chunk which remains after splitting is above a limit. Defaults to <code>0</code> in <a href="../../configuration/mode/index.htm#mode-development" tppabs="https://webpack.docschina.org/configuration/mode/#mode-development">'development' mode</a>. For other cases <code>splitChunks.minRemainingSize</code> defaults to the value of <code>splitChunks.minSize</code> so it doesn't need to be specified manually except for the rare cases where deep control is required.</p> <blockquote class="warning"> <p><code>splitChunks.minRemainingSize</code> only takes effect when a single chunk is remaining.</p> </blockquote> <h3 id="splitchunksmaxsize"><code>splitChunks.maxSize</code> <a href="#splitchunksmaxsize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number = 0</code></p> <p>Using <code>maxSize</code> (either globally <code>optimization.splitChunks.maxSize</code> per cache group <code>optimization.splitChunks.cacheGroups[x].maxSize</code> or for the fallback cache group <code>optimization.splitChunks.fallbackCacheGroup.maxSize</code>) tells webpack to try to split chunks bigger than <code>maxSize</code> bytes into smaller parts. Parts will be at least <code>minSize</code> (next to <code>maxSize</code>) in size. The algorithm is deterministic and changes to the modules will only have local impact. So that it is usable when using long term caching and doesn't require records. <code>maxSize</code> is only a hint and could be violated when modules are bigger than <code>maxSize</code> or splitting would violate <code>minSize</code>.</p> <p>When the chunk has a name already, each part will get a new name derived from that name. Depending on the value of <code>optimization.splitChunks.hidePathInfo</code> it will add a key derived from the first module name or a hash of it.</p> <p><code>maxSize</code> option is intended to be used with HTTP/2 and long term caching. It increases the request count for better caching. It could also be used to decrease the file size for faster rebuilding.</p> <blockquote class="tip"> <p><code>maxSize</code> takes higher priority than <code>maxInitialRequest/maxAsyncRequests</code>. Actual priority is <code>maxInitialRequest/maxAsyncRequests &#x3C; maxSize &#x3C; minSize</code>.</p> </blockquote> <blockquote class="tip"> <p>Setting the value for <code>maxSize</code> sets the value for both <code>maxAsyncSize</code> and <code>maxInitialSize</code>.</p> </blockquote> <h3 id="splitchunksmaxasyncsize"><code>splitChunks.maxAsyncSize</code> <a href="#splitchunksmaxasyncsize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number</code></p> <p>Like <code>maxSize</code>, <code>maxAsyncSize</code> can be applied globally (<code>splitChunks.maxAsyncSize</code>), to cacheGroups (<code>splitChunks.cacheGroups.{cacheGroup}.maxAsyncSize</code>), or to the fallback cache group (<code>splitChunks.fallbackCacheGroup.maxAsyncSize</code>).</p> <p>The difference between <code>maxAsyncSize</code> and <code>maxSize</code> is that <code>maxAsyncSize</code> will only affect on-demand loading chunks.</p> <h3 id="splitchunksmaxinitialsize"><code>splitChunks.maxInitialSize</code> <a href="#splitchunksmaxinitialsize" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>number</code></p> <p>Like <code>maxSize</code>, <code>maxInitialSize</code> can be applied globally (<code>splitChunks.maxInitialSize</code>), to cacheGroups (<code>splitChunks.cacheGroups.{cacheGroup}.maxInitialSize</code>), or to the fallback cache group (<code>splitChunks.fallbackCacheGroup.maxInitialSize</code>).</p> <p>The difference between <code>maxInitialSize</code> and <code>maxSize</code> is that <code>maxInitialSize</code> will only affect initial load chunks.</p> <h3 id="splitchunksname"><code>splitChunks.name</code> <a href="#splitchunksname" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>boolean = false</code> <code>function (module, chunks, cacheGroupKey) => string</code> <code>string</code></p> <p>Also available for each cacheGroup: <code>splitChunks.cacheGroups.{cacheGroup}.name</code>.</p> <p>The name of the split chunk. Providing <code>false</code> will keep the same name of the chunks so it doesn't change names unnecessarily. It is the recommended value for production builds.</p> <p>Providing a string or a function allows you to use a custom name. Specifying either a string or a function that always returns the same string will merge all common modules and vendors into a single chunk. This might lead to bigger initial downloads and slow down page loads.</p> <p>If you choose to specify a function, you may find the <code>chunk.name</code> and <code>chunk.hash</code> properties (where <code>chunk</code> is an element of the <code>chunks</code> array) particularly useful in choosing a name for your chunk.</p> <p>If the <code>splitChunks.name</code> matches an <a href="../../configuration/entry-context/index.htm#entry" tppabs="https://webpack.docschina.org/configuration/entry-context/#entry">entry point</a> name, the entry point will be removed.</p> <p><strong>main.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">'lodash'</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> <span class="token string">'webpack'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        commons<span class="token operator">:</span> <span class="token punctuation">{</span>
          test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\/]node_modules[\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token comment">// cacheGroupKey here is `commons` as the key of the cacheGroup</span>
          <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> chunks<span class="token punctuation">,</span> cacheGroupKey</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> moduleFileName <span class="token operator">=</span> module<span class="token punctuation">.</span><span class="token function">identifier</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduceRight</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=></span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">const</span> allChunksNames <span class="token operator">=</span> chunks<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> item<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'~'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>cacheGroupKey<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>allChunksNames<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>moduleFileName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          chunks<span class="token operator">:</span> <span class="token string">'all'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>Running webpack with following <code>splitChunks</code> configuration would also output a chunk of the group common with next name: <code>commons-main-lodash.js.e7519d2bb8777058fa27.js</code> (hash given as an example of real world output).</p> <blockquote class="warning"> <p>When assigning equal names to different split chunks, all vendor modules are placed into a single shared chunk, though it's not recommend since it can result in more code downloaded.</p> </blockquote> <h3 id="splitchunksautomaticnameprefix"><code>splitChunks.automaticNamePrefix</code> <a href="#splitchunksautomaticnameprefix" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>string = ''</code></p> <p>Sets the name prefix for created chunks.</p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      automaticNamePrefix<span class="token operator">:</span> <span class="token string">'general-prefix'</span><span class="token punctuation">,</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        react<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// ...</span>
          automaticNamePrefix<span class="token operator">:</span> <span class="token string">'react-chunks-prefix'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="splitchunksusedexports"><code>splitChunks.usedExports</code> <a href="#splitchunksusedexports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <h4 id="splitchunkscachegroupscachegroupusedexports"><code>splitChunks.cacheGroups{cacheGroup}.usedExports</code> <a href="#splitchunkscachegroupscachegroupusedexports" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>boolean = true</code></p> <p>å¼„æ¸…å“ªäº› export è¢«æ¨¡å—ä½¿ç”¨ï¼Œä»¥æ··æ·† export åç§°ï¼Œçœç•¥æœªä½¿ç”¨çš„ exportï¼Œå¹¶ç”Ÿæˆæœ‰æ•ˆçš„ä»£ç ã€‚ å½“å®ƒä¸º <code>true</code> æ—¶ï¼šåˆ†ææ¯ä¸ªè¿è¡Œæ—¶ä½¿ç”¨çš„å‡ºå£ï¼Œå½“å®ƒä¸º <code>"global"</code> æ—¶ï¼šåˆ†ææ‰€æœ‰è¿è¡Œæ—¶çš„å…¨å±€ export ç»„åˆï¼‰ã€‚</p> <h3 id="splitchunkscachegroups"><code>splitChunks.cacheGroups</code> <a href="#splitchunkscachegroups" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Cache groups can inherit and/or override any options from <code>splitChunks.*</code>; but <code>test</code>, <code>priority</code> and <code>reuseExistingChunk</code> can only be configured on cache group level. To disable any of the default cache groups, set them to <code>false</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="splitchunkscachegroupscachegrouppriority"><code>splitChunks.cacheGroups.{cacheGroup}.priority</code> <a href="#splitchunkscachegroupscachegrouppriority" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>number = -20</code></p> <p>A module can belong to multiple cache groups. The optimization will prefer the cache group with a higher <code>priority</code>. The default groups have a negative priority to allow custom groups to take higher priority (default value is <code>0</code> for custom groups).</p> <h4 id="splitchunkscachegroupscachegroupreuseexistingchunk"><code>splitChunks.cacheGroups.{cacheGroup}.reuseExistingChunk</code> <a href="#splitchunkscachegroupscachegroupreuseexistingchunk" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>boolean = true</code></p> <p>If the current chunk contains modules already split out from the main bundle, it will be reused instead of a new one being generated. This can impact the resulting file name of the chunk.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        defaultVendors<span class="token operator">:</span> <span class="token punctuation">{</span>
          reuseExistingChunk<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="splitchunkscachegroupscachegrouptype"><code>splitChunks.cacheGroups.{cacheGroup}.type</code> <a href="#splitchunkscachegroupscachegrouptype" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>function</code> <code>RegExp</code> <code>string</code></p> <p>Allows to assign modules to a cache group by module type.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        json<span class="token operator">:</span> <span class="token punctuation">{</span>
          type<span class="token operator">:</span> <span class="token string">'json'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="splitchunkscachegroupstest"><code>splitChunks.cacheGroups.test</code> <a href="#splitchunkscachegroupstest" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <h4 id="splitchunkscachegroupscachegrouptest"><code>splitChunks.cacheGroups.{cacheGroup}.test</code> <a href="#splitchunkscachegroupscachegrouptest" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>function (module, chunk) => boolean</code> <code>RegExp</code> <code>string</code></p> <p>Controls which modules are selected by this cache group. Omitting it selects all modules. It can match the absolute module resource path or chunk names. When a chunk name is matched, all modules in the chunk are selected.</p> <p>Providing a function to<code>{cacheGroup}.test</code>:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        svgGroup<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> chunks</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// `module.resource` contains the absolute path of the file on disk.</span>
            <span class="token comment">// Note the usage of `path.sep` instead of / or \, for cross-platform compatibility.</span>
            <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> module<span class="token punctuation">.</span>resource <span class="token operator">&#x26;&#x26;</span>
                 module<span class="token punctuation">.</span>resource<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">'.svg'</span><span class="token punctuation">)</span> <span class="token operator">&#x26;&#x26;</span>
                 module<span class="token punctuation">.</span>resource<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path<span class="token punctuation">.</span>sep<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">cacheable_svgs</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path<span class="token punctuation">.</span>sep<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        byModuleTypeGroup<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> chunks</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> module<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'javascript/auto'</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>In order to see what information is available in <code>module</code> and <code>chunks</code> objects, you can put <code>debugger;</code> statement in the callback. Then <a href="../../contribute/debugging/index.htm#devtools" tppabs="https://webpack.docschina.org/contribute/debugging/#devtools">run your webpack build in debug mode</a> to inspect the parameters in Chromium DevTools.</p> <p>Providing a <code>RegExp</code> to <code>{cacheGroup}.test</code>:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        defaultVendors<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// Note the usage of `[\\/]` as a path separator for cross-platform compatibility.</span>
          test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\/]node_modules[\\/]|vendor[\\/]analytics_provider|vendor[\\/]other_lib</span><span class="token regex-delimiter">/</span></span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="splitchunkscachegroupscachegroupfilename"><code>splitChunks.cacheGroups.{cacheGroup}.filename</code> <a href="#splitchunkscachegroupscachegroupfilename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>string</code> <code>function (pathData, assetInfo) => string</code></p> <p>Allows to override the filename when and only when it's an initial chunk. All placeholders available in <a href="../../configuration/output/index.htm#outputfilename" tppabs="https://webpack.docschina.org/configuration/output/#outputfilename"><code>output.filename</code></a> are also available here.</p> <blockquote class="warning"> <p>This option can also be set globally in <code>splitChunks.filename</code>, but this isn't recommended and will likely lead to an error if <a href="#splitchunkschunks"><code>splitChunks.chunks</code></a> is not set to <code>'initial'</code>. Avoid setting it globally.</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        defaultVendors<span class="token operator">:</span> <span class="token punctuation">{</span>
          filename<span class="token operator">:</span> <span class="token string">'[name].bundle.js'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>And as a function:</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        defaultVendors<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token function-variable function">filename</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">pathData</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token comment">// Use pathData object for generating filename string based on your requirements</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>pathData<span class="token punctuation">.</span>chunk<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-bundle.js</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>It is possible to create a folder structure by providing path prefixing the filename: <code>'js/vendor/bundle.js'</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        defaultVendors<span class="token operator">:</span> <span class="token punctuation">{</span>
          filename<span class="token operator">:</span> <span class="token string">'js/[name]/bundle.js'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="splitchunkscachegroupscachegroupenforce"><code>splitChunks.cacheGroups.{cacheGroup}.enforce</code> <a href="#splitchunkscachegroupscachegroupenforce" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>boolean = false</code></p> <p>Tells webpack to ignore <a href="#splitchunksminsize"><code>splitChunks.minSize</code></a>, <a href="#splitchunksminchunks"><code>splitChunks.minChunks</code></a>, <a href="#splitchunksmaxasyncrequests"><code>splitChunks.maxAsyncRequests</code></a> and <a href="#splitchunksmaxinitialrequests"><code>splitChunks.maxInitialRequests</code></a> options and always create chunks for this cache group.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        defaultVendors<span class="token operator">:</span> <span class="token punctuation">{</span>
          enforce<span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="splitchunkscachegroupscachegroupidhint"><code>splitChunks.cacheGroups.{cacheGroup}.idHint</code> <a href="#splitchunkscachegroupscachegroupidhint" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p><code>string</code></p> <p>Sets the hint for chunk id. It will be added to chunk's filename.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        defaultVendors<span class="token operator">:</span> <span class="token punctuation">{</span>
          idHint<span class="token operator">:</span> <span class="token string">'vendors'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="examples">Examples <a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="defaults-example-1">Defaults: Example 1 <a href="#defaults-example-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-js"><span class="token comment">// index.js</span>

<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// dynamic import</span></code></pre> <pre><code class="hljs language-js"><span class="token comment">// a.js</span>
<span class="token keyword">import</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token comment">//...</span></code></pre> <p><strong>Result:</strong> A separate chunk would be created containing <code>react</code>. At the import call this chunk is loaded in parallel to the original chunk containing <code>./a</code>.</p> <p>Why:</p> <ul> <li>Condition 1: The chunk contains modules from <code>node_modules</code></li> <li>Condition 2: <code>react</code> is bigger than 30kb</li> <li>Condition 3: Number of parallel requests at the import call is 2</li> <li>Condition 4: Doesn't affect request at initial page load</li> </ul> <p>What's the reasoning behind this? <code>react</code> probably won't change as often as your application code. By moving it into a separate chunk this chunk can be cached separately from your app code (assuming you are using chunkhash, records, Cache-Control or other long term cache approach).</p> <h3 id="defaults-example-2">Defaults: Example 2 <a href="#defaults-example-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <pre><code class="hljs language-js"><span class="token comment">// entry.js</span>

<span class="token comment">// dynamic imports</span>
<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <pre><code class="hljs language-js"><span class="token comment">// a.js</span>
<span class="token keyword">import</span> <span class="token string">'./helpers'</span><span class="token punctuation">;</span> <span class="token comment">// helpers is 40kb in size</span>

<span class="token comment">//...</span></code></pre> <pre><code class="hljs language-js"><span class="token comment">// b.js</span>
<span class="token keyword">import</span> <span class="token string">'./helpers'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./more-helpers'</span><span class="token punctuation">;</span> <span class="token comment">// more-helpers is also 40kb in size</span>

<span class="token comment">//...</span></code></pre> <p><strong>Result:</strong> A separate chunk would be created containing <code>./helpers</code> and all dependencies of it. At the import calls this chunk is loaded in parallel to the original chunks.</p> <p>Why:</p> <ul> <li>Condition 1: The chunk is shared between both import calls</li> <li>Condition 2: <code>helpers</code> is bigger than 30kb</li> <li>Condition 3: Number of parallel requests at the import calls is 2</li> <li>Condition 4: Doesn't affect request at initial page load</li> </ul> <p>Putting the content of <code>helpers</code> into each chunk will result into its code being downloaded twice. By using a separate chunk this will only happen once. We pay the cost of an additional request, which could be considered a tradeoff. That's why there is a minimum size of 30kb.</p> <h3 id="split-chunks-example-1">Split Chunks: Example 1 <a href="#split-chunks-example-1" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Create a <code>commons</code> chunk, which includes all code shared between entry points.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        commons<span class="token operator">:</span> <span class="token punctuation">{</span>
          name<span class="token operator">:</span> <span class="token string">'commons'</span><span class="token punctuation">,</span>
          chunks<span class="token operator">:</span> <span class="token string">'initial'</span><span class="token punctuation">,</span>
          minChunks<span class="token operator">:</span> <span class="token number">2</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p>This configuration can enlarge your initial bundles, it is recommended to use dynamic imports when a module is not immediately needed.</p> </blockquote> <h3 id="split-chunks-example-2">Split Chunks: Example 2 <a href="#split-chunks-example-2" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Create a <code>vendors</code> chunk, which includes all code from <code>node_modules</code> in the whole application.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        commons<span class="token operator">:</span> <span class="token punctuation">{</span>
          test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\/]node_modules[\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">'vendors'</span><span class="token punctuation">,</span>
          chunks<span class="token operator">:</span> <span class="token string">'all'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="warning"> <p>This might result in a large chunk containing all external packages. It is recommended to only include your core frameworks and utilities and dynamically load the rest of the dependencies.</p> </blockquote> <h3 id="split-chunks-example-3">Split Chunks: Example 3 <a href="#split-chunks-example-3" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>Create a <code>custom vendor</code> chunk, which contains certain <code>node_modules</code> packages matched by <code>RegExp</code>.</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        vendor<span class="token operator">:</span> <span class="token punctuation">{</span>
          test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\/]node_modules[\\/](react|react-dom)[\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">'vendor'</span><span class="token punctuation">,</span>
          chunks<span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <blockquote class="tip"> <p>This will result in splitting <code>react</code> and <code>react-dom</code> into a separate chunk. If you're not sure what packages have been included in a chunk you may refer to <a href="../../guides/code-splitting/index.htm#bundle-analysis" tppabs="https://webpack.docschina.org/guides/code-splitting/#bundle-analysis">Bundle Analysis</a> section for details.</p> </blockquote> <h1 id="StylelintWebpackPlugin">StylelintWebpackPlugin<a href="#StylelintWebpackPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="javascript:if(confirm('https://npmjs.com/package/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://npmjs.com/package/babel-minify-webpack-plugin'" tppabs="https://npmjs.com/package/babel-minify-webpack-plugin"><img src="../../../img.shields.io/npm/v/babel-minify-webpack-plugin.svg" tppabs="https://img.shields.io/npm/v/babel-minify-webpack-plugin.svg" alt="npm"></a> <a href="javascript:if(confirm('https://nodejs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/'" tppabs="https://nodejs.org/"><img src="../../../img.shields.io/node/v/compression-webpack-plugin.svg" tppabs="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="javascript:if(confirm('https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../status.david-dm.org/gh/webpack-contrib/babel-minify-webpack-plugin.svg" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin.svg" alt="deps"></a> <a href="javascript:if(confirm('https://github.com/webpack-contrib/compression-webpack-plugin/actions  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/compression-webpack-plugin/actions'" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="../../../github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="javascript:if(confirm('https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" alt="coverage"></a> <a href="javascript:if(confirm('https://gitter.im/webpack/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://gitter.im/webpack/webpack'" tppabs="https://gitter.im/webpack/webpack"><img src="../../../img.shields.io/badge/gitter-webpack-webpack-brightgreen.svg" tppabs="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="javascript:if(confirm('https://packagephobia.now.sh/result?p=compression-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://packagephobia.now.sh/result?p=compression-webpack-plugin'" tppabs="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="../../../badgen.net/packagephobia/install/compression-webpack-plugin" tppabs="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <blockquote> <p>A Stylelint plugin for webpack</p> </blockquote> <h2 id="install">Install <a href="#install" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> stylelint-webpack-plugin --save-dev</code></pre> <p><strong>Note</strong>: You also need to install <code>stylelint</code> from npm, if you haven't already:</p> <pre><code class="hljs language-bash"><span class="token function">npm</span> <span class="token function">install</span> stylelint --save-dev</code></pre> <h2 id="usage">Usage <a href="#usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>In your webpack configuration:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> StylelintPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'stylelint-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">StylelintPlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="options">Options <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>See <a href="javascript:if(confirm('http://stylelint.io/user-guide/node-api/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://stylelint.io/user-guide/node-api/#options'" tppabs="http://stylelint.io/user-guide/node-api/#options">stylelint's options</a> for the complete list of options available. These options are passed through to the <code>stylelint</code> directly.</p> <h3 id="configfile"><code>configFile</code> <a href="#configfile" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String</code></li> <li>Default: <code>undefined</code></li> </ul> <p>Specify the config file location to be used by <code>stylelint</code>.</p> <p><strong>Note:</strong> By default this is <a href="javascript:if(confirm('http://stylelint.io/user-guide/configuration/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='http://stylelint.io/user-guide/configuration/'" tppabs="http://stylelint.io/user-guide/configuration/">handled by <code>stylelint</code></a>.</p> <h3 id="context"><code>context</code> <a href="#context" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String</code></li> <li>Default: <code>compiler.context</code></li> </ul> <p>A string indicating the root of your files.</p> <h3 id="files"><code>files</code> <a href="#files" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String|Array[String]</code></li> <li>Default: <code>'**/*.(s(c|a)ss|css)'</code></li> </ul> <p>Specify the glob pattern for finding files. Must be relative to <code>options.context</code>.</p> <h3 id="fix"><code>fix</code> <a href="#fix" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>If <code>true</code>, <code>stylelint</code> will fix as many errors as possible. The fixes are made to the actual source files. All unfixed errors will be reported. See <a href="javascript:if(confirm('https://stylelint.io/user-guide/cli  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://stylelint.io/user-guide/cli#autofixing-errors'" tppabs="https://stylelint.io/user-guide/cli#autofixing-errors">Autofixing errors</a> docs.</p> <h3 id="formatter"><code>formatter</code> <a href="#formatter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String|Function</code></li> <li>Default: <code>'string'</code></li> </ul> <p>Specify the formatter that you would like to use to format your results. See <a href="javascript:if(confirm('https://stylelint.io/user-guide/node-api  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://stylelint.io/user-guide/node-api#formatter'" tppabs="https://stylelint.io/user-guide/node-api#formatter">formatter option</a>.</p> <h3 id="lintdirtymodulesonly"><code>lintDirtyModulesOnly</code> <a href="#lintdirtymodulesonly" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Lint only changed files, skip lint on start.</p> <h3 id="stylelintpath"><code>stylelintPath</code> <a href="#stylelintpath" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <ul> <li>Type: <code>String</code></li> <li>Default: <code>stylelint</code></li> </ul> <p>Path to <code>stylelint</code> instance that will be used for linting.</p> <h3 id="errors-and-warning">Errors and Warning <a href="#errors-and-warning" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><strong>By default the plugin will auto adjust error reporting depending on stylelint errors/warnings counts.</strong> You can still force this behavior by using <code>emitError</code> <strong>or</strong> <code>emitWarning</code> options:</p> <h4 id="emiterror"><code>emitError</code> <a href="#emiterror" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will always return errors, if set to <code>true</code>.</p> <h4 id="emitwarning"><code>emitWarning</code> <a href="#emitwarning" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will always return warnings, if set to <code>true</code>.</p> <h4 id="failonerror"><code>failOnError</code> <a href="#failonerror" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will cause the module build to fail if there are any errors, if set to <code>true</code>.</p> <h4 id="failonwarning"><code>failOnWarning</code> <a href="#failonwarning" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will cause the module build to fail if there are any warnings, if set to <code>true</code>.</p> <h4 id="quiet"><code>quiet</code> <a href="#quiet" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <ul> <li>Type: <code>Boolean</code></li> <li>Default: <code>false</code></li> </ul> <p>Will process and report errors only and ignore warnings, if set to <code>true</code>.</p> <h2 id="changelog">Changelog <a href="#changelog" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/stylelint-webpack-plugin/blob/master/CHANGELOG.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/stylelint-webpack-plugin/blob/master/CHANGELOG.md'" tppabs="https://github.com/webpack-contrib/stylelint-webpack-plugin/blob/master/CHANGELOG.md">Changelog</a></p> <h2 id="license">License <a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/stylelint-webpack-plugin/blob/master/LICENSE  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/stylelint-webpack-plugin/blob/master/LICENSE'" tppabs="https://github.com/webpack-contrib/stylelint-webpack-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="TerserWebpackPlugin">TerserWebpackPlugin<a href="#TerserWebpackPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="javascript:if(confirm('https://npmjs.com/package/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://npmjs.com/package/babel-minify-webpack-plugin'" tppabs="https://npmjs.com/package/babel-minify-webpack-plugin"><img src="../../../img.shields.io/npm/v/babel-minify-webpack-plugin.svg" tppabs="https://img.shields.io/npm/v/babel-minify-webpack-plugin.svg" alt="npm"></a> <a href="javascript:if(confirm('https://nodejs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/'" tppabs="https://nodejs.org/"><img src="../../../img.shields.io/node/v/compression-webpack-plugin.svg" tppabs="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="javascript:if(confirm('https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../status.david-dm.org/gh/webpack-contrib/babel-minify-webpack-plugin.svg" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin.svg" alt="deps"></a> <a href="javascript:if(confirm('https://github.com/webpack-contrib/compression-webpack-plugin/actions  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/compression-webpack-plugin/actions'" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="../../../github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="javascript:if(confirm('https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" alt="cover"></a> <a href="javascript:if(confirm('https://gitter.im/webpack/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://gitter.im/webpack/webpack'" tppabs="https://gitter.im/webpack/webpack"><img src="../../../img.shields.io/badge/gitter-webpack-webpack-brightgreen.svg" tppabs="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="javascript:if(confirm('https://packagephobia.now.sh/result?p=compression-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://packagephobia.now.sh/result?p=compression-webpack-plugin'" tppabs="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="../../../badgen.net/packagephobia/install/compression-webpack-plugin" tppabs="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <p>è¯¥æ’ä»¶ä½¿ç”¨ <a href="javascript:if(confirm('https://github.com/terser-js/terser  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/terser-js/terser'" tppabs="https://github.com/terser-js/terser">terser</a> æ¥å‹ç¼© JavaScriptã€‚</p> <h2 id="getting-started">å…¥é—¨ <a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ webpack v5 æˆ–ä»¥ä¸Šç‰ˆæœ¬ï¼Œä½ ä¸éœ€è¦å®‰è£…è¿™ä¸ªæ’ä»¶ã€‚webpack v5 è‡ªå¸¦æœ€æ–°çš„ <code>terser-webpack-plugin</code>ã€‚</p> <p>é¦–å…ˆï¼Œä½ éœ€è¦å®‰è£… <code>terser-webpack-plugin</code>ï¼š</p> <pre><code class="hljs language-console">$ npm install terser-webpack-plugin --save-dev
</code></pre> <p>ç„¶åå°†æ’ä»¶æ·»åŠ åˆ°ä½ çš„ <code>webpack</code> é…ç½®æ–‡ä»¶ä¸­ã€‚ä¾‹å¦‚ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> TerserPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"terser-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>æ¥ä¸‹æ¥ï¼ŒæŒ‰ç…§ä½ ä¹ æƒ¯çš„æ–¹å¼è¿è¡Œ <code>webpack</code>ã€‚</p> <h2 id="note-about-source-maps">å…³äº source maps è¯´æ˜ <a href="#note-about-source-maps" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><strong>Works only with <code>source-map</code>, <code>inline-source-map</code>, <code>hidden-source-map</code> and <code>nosources-source-map</code> values for the <a href="../../configuration/devtool/index.htm" tppabs="https://webpack.docschina.org/configuration/devtool/"><code>devtool</code></a> option.</strong></p> <p>Why?</p> <ul> <li><code>eval</code> wraps modules in <code>eval("string")</code> and the minimizer does not handle strings.</li> <li><code>cheap</code> has not column information and minimizer generate only a single line, which leave only a single mapping.</li> </ul> <p>Using supported <code>devtool</code> values enable source map generation.</p> <h2 id="options">é€‰é¡¹ <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="test"><code>test</code> <a href="#test" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š <code>String|RegExp|Array&#x3C;String|RegExp></code> é»˜è®¤å€¼ï¼š<code>/\.m?js(\?.*)?$/i</code></p> <p>ç”¨æ¥åŒ¹é…éœ€è¦å‹ç¼©çš„æ–‡ä»¶ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js(\?.*)?$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="include"><code>include</code> <a href="#include" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š <code>String|RegExp|Array&#x3C;String|RegExp></code> é»˜è®¤å€¼ï¼š <code>undefined</code></p> <p>åŒ¹é…å‚ä¸å‹ç¼©çš„æ–‡ä»¶ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        include<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/includes</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="exclude"><code>exclude</code> <a href="#exclude" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š <code>String|RegExp|Array&#x3C;String|RegExp></code> é»˜è®¤å€¼ï¼š <code>undefined</code></p> <p>åŒ¹é…ä¸éœ€è¦å‹ç¼©çš„æ–‡ä»¶ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/excludes</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="parallel"><code>parallel</code> <a href="#parallel" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š <code>Boolean|Number</code> é»˜è®¤å€¼ï¼š <code>true</code></p> <p>ä½¿ç”¨å¤šè¿›ç¨‹å¹¶å‘è¿è¡Œä»¥æé«˜æ„å»ºé€Ÿåº¦ã€‚ å¹¶å‘è¿è¡Œçš„é»˜è®¤æ•°é‡ï¼š <code>os.cpus().length - 1</code> ã€‚</p> <blockquote> <p>å¹¶å‘è¿è¡Œå¯ä»¥æ˜¾è‘—æé«˜æ„å»ºé€Ÿåº¦ï¼Œå› æ­¤<strong>å¼ºçƒˆå»ºè®®æ·»åŠ æ­¤é…ç½®</strong> ã€‚</p> </blockquote> <blockquote> <p>å¦‚æœä½ ä½¿ç”¨ <strong>Circle CI</strong> æˆ–ä»»ä½•å…¶ä»–ä¸æä¾› CPU å®é™…å¯ç”¨æ•°é‡çš„ç¯å¢ƒï¼Œåˆ™éœ€è¦æ˜¾å¼è®¾ç½® CPU æ•°é‡ï¼Œä»¥é¿å… <code>Error: Call retries were exceeded</code>ï¼ˆè¯·å‚é˜… <a href="javascript:if(confirm('https://github.com/webpack-contrib/terser-webpack-plugin/issues/143  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/terser-webpack-plugin/issues/143'" tppabs="https://github.com/webpack-contrib/terser-webpack-plugin/issues/143">#143</a>ï¼Œ<a href="javascript:if(confirm('https://github.com/webpack-contrib/terser-webpack-plugin/issues/202  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/terser-webpack-plugin/issues/202'" tppabs="https://github.com/webpack-contrib/terser-webpack-plugin/issues/202">#202</a> ï¼‰ã€‚</p> </blockquote> <h4 id="boolean"><code>Boolean</code> <a href="#boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>å¯ç”¨/ç¦ç”¨å¤šè¿›ç¨‹å¹¶å‘è¿è¡ŒåŠŸèƒ½ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        parallel<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="number"><code>Number</code> <a href="#number" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>å¯ç”¨å¤šè¿›ç¨‹å¹¶å‘è¿è¡Œå¹¶è®¾ç½®å¹¶å‘è¿è¡Œæ¬¡æ•°ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        parallel<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minify"><code>minify</code> <a href="#minify" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š <code>Function</code> é»˜è®¤å€¼ï¼š <code>undefined</code></p> <p>å…è®¸ä½ è‡ªå®šä¹‰å‹ç¼©å‡½æ•°ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ’ä»¶ä½¿ç”¨ <a href="javascript:if(confirm('https://github.com/terser-js/terser  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/terser-js/terser'" tppabs="https://github.com/terser-js/terser">terser</a> åº“ã€‚ å¯¹äºä½¿ç”¨å’Œæµ‹è¯•æœªå‘å¸ƒçš„ç‰ˆæœ¬æˆ– fork çš„ä»£ç å¾ˆå¸®åŠ©ã€‚</p> <blockquote> <p>âš ï¸ <strong>å¯ç”¨ <code>parallel</code> é€‰é¡¹æ—¶ï¼Œåœ¨ <code>minify</code> å‡½æ•°å†…éƒ¨åªèƒ½ä½¿ç”¨ <code>require</code></strong> ã€‚</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        terserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          myCustomOption<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// Can be async</span>
        <span class="token function-variable function">minify</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> sourceMap<span class="token punctuation">,</span> minimizerOptions</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token comment">// The `minimizerOptions` option contains option from the `terserOptions` option</span>
          <span class="token comment">// You can use `minimizerOptions.myCustomOption`</span>
          <span class="token keyword">const</span> extractedComments <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

          <span class="token comment">// Custom logic for extract comments</span>

          <span class="token keyword">const</span> <span class="token punctuation">{</span> map<span class="token punctuation">,</span> code <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"uglify-module"</span><span class="token punctuation">)</span> <span class="token comment">// Or require('./path/to/uglify-module')</span>
            <span class="token punctuation">.</span><span class="token function">minify</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token punctuation">{</span>
              <span class="token comment">/* Your options for minification */</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token keyword">return</span> <span class="token punctuation">{</span> map<span class="token punctuation">,</span> code<span class="token punctuation">,</span> extractedComments <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="terseroptions"><code>terserOptions</code> <a href="#terseroptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š <code>Object</code> é»˜è®¤å€¼ï¼š <a href="javascript:if(confirm('https://github.com/terser-js/terser  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/terser-js/terser#minify-options'" tppabs="https://github.com/terser-js/terser#minify-options">é»˜è®¤</a></p> <p>Terser å‹ç¼©<a href="javascript:if(confirm('https://github.com/terser-js/terser  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/terser-js/terser#minify-options'" tppabs="https://github.com/terser-js/terser#minify-options">é…ç½®</a> ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        terserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          ecma<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
          parse<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
          compress<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
          mangle<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Note `mangle.properties` is `false` by default.</span>
          module<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token comment">// Deprecated</span>
          output<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
          format<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
          toplevel<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          nameCache<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
          ie8<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          keep_classnames<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
          keep_fnames<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          safari10<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="extractcomments"><code>extractComments</code> <a href="#extractcomments" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š <code>Boolean|String|RegExp|Function&#x3C;(node, comment) -> Boolean|Object>|Object</code> é»˜è®¤å€¼ï¼š <code>true</code></p> <p>æ˜¯å¦å°†æ³¨é‡Šå‰¥ç¦»åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ï¼ˆè¯·å‚é˜…<a href="javascript:if(confirm('https://github.com/webpack/webpack/commit/71933e979e51c533b432658d5e37917f9e71595a  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/commit/71933e979e51c533b432658d5e37917f9e71595a'" tppabs="https://github.com/webpack/webpack/commit/71933e979e51c533b432658d5e37917f9e71595a">è¯¦ç»†ä¿¡æ¯</a>ï¼‰ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œä»…å‰¥ç¦» <code>/^\**!|@preserve|@license|@cc_on/i</code> æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„æ³¨é‡Šï¼Œå…¶ä½™æ³¨é‡Šä¼šåˆ é™¤ã€‚ å¦‚æœåŸå§‹æ–‡ä»¶åä¸º <code>foo.js</code> ï¼Œåˆ™æ³¨é‡Šå°†å­˜å‚¨åˆ° <code>foo.js.LICENSE.txt</code> ã€‚ <code>terserOptions.format.comments</code> é€‰é¡¹æŒ‡å®šæ˜¯å¦ä¿ç•™æ³¨é‡Šï¼Œå³å¯ä»¥åœ¨å‰¥ç¦»å…¶ä»–æ³¨é‡Šæ—¶ä¿ç•™ä¸€äº›æ³¨é‡Šï¼Œç”šè‡³ä¿ç•™å·²å‰¥ç¦»çš„æ³¨é‡Šã€‚</p> <h4 id="boolean"><code>Boolean</code> <a href="#boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>å¯ç”¨/ç¦ç”¨å‰¥ç¦»æ³¨é‡ŠåŠŸèƒ½ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="string"><code>String</code> <a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>å‰¥ç¦» <code>all</code> æˆ– <code>some</code> ï¼ˆä½¿ç”¨ <code>/^\**!|@preserve|@license|@cc_on/i</code> æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…ï¼‰æ³¨é‡Šã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token string">"all"</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="regexp"><code>RegExp</code> <a href="#regexp" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>ä¸æŒ‡å®šè¡¨è¾¾å¼åŒ¹é…çš„æ‰€æœ‰æ³¨é‡Šå°†ä¼šè¢«å‰¥ç¦»åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">@extract</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="Functionnode-comment---Boolean-ï¼ƒfunctionnode-comment-----boolean-functionnode-comment---boolean-ï¼ƒfunctionnode-comment-----boolean"><code>Function&#x3C;(node, comment) -> Boolean></code> {ï¼ƒfunctionnode-comment --- boolean} {#functionnode-comment---boolean-ï¼ƒfunctionnode-comment-----boolean}<a href="#Functionnode-comment---Boolean-%EF%BC%83functionnode-comment-----boolean-functionnode-comment---boolean-%EF%BC%83functionnode-comment-----boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>ä¸æŒ‡å®šè¡¨è¾¾å¼åŒ¹é…çš„æ‰€æœ‰æ³¨é‡Šå°†ä¼šè¢«å‰¥ç¦»åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function-variable function">extractComments</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">astNode<span class="token punctuation">,</span> comment</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">@extract</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>comment<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="object"><code>Object</code> <a href="#object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>å…è®¸è‡ªå®šä¹‰å‰¥ç¦»æ³¨é‡Šçš„æ¡ä»¶ï¼ŒæŒ‡å®šå‰¥ç¦»çš„æ–‡ä»¶åå’Œæ ‡é¢˜ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token punctuation">{</span>
          condition<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\**!|@preserve|@license|@cc_on</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
          <span class="token function-variable function">filename</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">fileData</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token comment">// The "fileData" argument contains object with "filename", "basename", "query" and "hash"</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileData<span class="token punctuation">.</span>filename<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.LICENSE.txt</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileData<span class="token punctuation">.</span>query<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function-variable function">banner</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">licenseFile</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">License information can be found in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>licenseFile<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="condition"><code>condition</code> <a href="#condition" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>ç±»å‹ï¼š <code>Boolean|String|RegExp|Function&#x3C;(node, comment) -> Boolean|Object></code></p> <p>è‡ªå®šä¹‰éœ€è¦å‰¥ç¦»çš„æ³¨é‡Šã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token punctuation">{</span>
          condition<span class="token operator">:</span> <span class="token string">"some"</span><span class="token punctuation">,</span>
          <span class="token function-variable function">filename</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">fileData</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token comment">// The "fileData" argument contains object with "filename", "basename", "query" and "hash"</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileData<span class="token punctuation">.</span>filename<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.LICENSE.txt</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileData<span class="token punctuation">.</span>query<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function-variable function">banner</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">licenseFile</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">License information can be found in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>licenseFile<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="filename"><code>filename</code> <a href="#filename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>ç±»å‹ï¼š <code>String|Function&#x3C;(string) -> String></code> é»˜è®¤å€¼ï¼š <code>[file].LICENSE.txt [query]</code></p> <p>å¯ç”¨çš„å ä½ç¬¦ï¼š <code>[file]</code> ï¼Œ <code>[query]</code> å’Œ <code>[filebase]</code> ï¼ˆwebpack 5 ä½¿ç”¨ <code>[base]</code> ï¼‰ã€‚</p> <p>å‰¥ç¦»å‡ºæ¥çš„æ³¨é‡Šå°†è¢«å­˜å‚¨åˆ°çš„æ–‡ä»¶çš„æ–‡ä»¶åã€‚ é»˜è®¤æ˜¯å°†åç¼€ <code>.LICENSE.txt</code> é™„åŠ åˆ°åŸå§‹æ–‡ä»¶åã€‚</p> <blockquote> <p>âš ï¸æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½¿ç”¨ <code>txt</code> æ‰©å±•åã€‚</p> </blockquote> <p>ä½¿ç”¨ <code>js</code> / <code>cjs</code> / <code>mjs</code> æ‰©å±•åå¯èƒ½ä¼šä¸ç°æœ‰èµ„æºæ–‡ä»¶å†²çªï¼Œä»è€Œå¯¼è‡´ä»£ç è¿è¡Œå‡ºé”™ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token punctuation">{</span>
          condition<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\**!|@preserve|@license|@cc_on</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
          filename<span class="token operator">:</span> <span class="token string">"extracted-comments.js"</span><span class="token punctuation">,</span>
          <span class="token function-variable function">banner</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">licenseFile</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">License information can be found in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>licenseFile<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="banner"><code>banner</code> <a href="#banner" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>ç±»å‹ï¼š <code>Boolean|String|Function&#x3C;(string) -> String></code> é»˜è®¤å€¼ï¼š <code>/*! For license information please see ${commentsFile} */</code></p> <p>æŒ‡å‘å‰¥ç¦»æ–‡ä»¶çš„æ ‡è¯­æ–‡æœ¬å°†è¢«æ·»åŠ åˆ°åŸå§‹æ–‡ä»¶çš„é¡¶éƒ¨ã€‚ å¯ä»¥ä¸º <code>false</code> ï¼ˆæ— æ ‡é¢˜ï¼‰ï¼Œ <code>String</code> æˆ–ä¸€ä¸ªå‡½æ•°ï¼š<code>Function&#x3C;(string) -> String></code> ï¼Œè¯¥å‡½æ•°å°†è¢«ä½¿ç”¨å­˜å‚¨å‰¥ç¦»çš„æ³¨é‡Šçš„æ–‡ä»¶åæ¥è°ƒç”¨ã€‚ æ ‡è¯­å†…å®¹å°†è¢«åˆå¹¶åˆ°æ³¨é‡Šä¸­ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token punctuation">{</span>
          condition<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token function-variable function">filename</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">fileData</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token comment">// The "fileData" argument contains object with "filename", "basename", "query" and "hash"</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileData<span class="token punctuation">.</span>filename<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.LICENSE.txt</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>fileData<span class="token punctuation">.</span>query<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function-variable function">banner</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">commentsFile</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">My custom banner about license information </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>commentsFile<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="examples">ç¤ºä¾‹ <a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="preserve-comments">ä¿ç•™æ³¨é‡Š <a href="#preserve-comments" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>å‰¥ç¦»æ‰€æœ‰æœ‰æ•ˆçš„æ³¨é‡Šï¼ˆå³ <code>/^\**!|@preserve|@license|@cc_on/i</code> ï¼‰å¹¶ä¿ç•™ <code>/@license/i</code> æ³¨é‡Šã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        terserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          format<span class="token operator">:</span> <span class="token punctuation">{</span>
            comments<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">@license</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        extractComments<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="remove-comments">åˆ é™¤æ³¨é‡Š <a href="#remove-comments" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>å¦‚æœè¦åœ¨æ„å»ºæ—¶å»é™¤æ³¨é‡Šï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹é…ç½®ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        terserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          format<span class="token operator">:</span> <span class="token punctuation">{</span>
            comments<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        extractComments<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="custom-minify-function">è‡ªå®šä¹‰å‹ç¼©å‡½æ•° <a href="#custom-minify-function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>è¦†ç›–é»˜è®¤çš„ minify å‡½æ•° - ä½¿ç”¨ <code>uglify-js</code> è¿›è¡Œå‹ç¼©ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function-variable function">minify</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> sourceMap</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token comment">// https://github.com/mishoo/UglifyJS2#minify-options</span>
          <span class="token keyword">const</span> uglifyJsOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token comment">/* your `uglify-js` package options */</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>

          <span class="token keyword">if</span> <span class="token punctuation">(</span>sourceMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            uglifyJsOptions<span class="token punctuation">.</span>sourceMap <span class="token operator">=</span> <span class="token punctuation">{</span>
              content<span class="token operator">:</span> sourceMap<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token keyword">return</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"uglify-js"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">minify</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> uglifyJsOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="contributing">è´¡çŒ® <a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>è¯·èŠ±ä¸€ç‚¹æ—¶é—´é˜…è¯»æˆ‘ä»¬çš„è´¡çŒ®æŒ‡å—ã€‚</p> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/terser-webpack-plugin/blob/master/.github/CONTRIBUTING.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/terser-webpack-plugin/blob/master/.github/CONTRIBUTING.md'" tppabs="https://github.com/webpack-contrib/terser-webpack-plugin/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a></p> <h2 id="license">è®¸å¯è¯ <a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/terser-webpack-plugin/blob/master/LICENSE  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/terser-webpack-plugin/blob/master/LICENSE'" tppabs="https://github.com/webpack-contrib/terser-webpack-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="UglifyjsWebpackPlugin">UglifyjsWebpackPlugin<a href="#UglifyjsWebpackPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p><a href="javascript:if(confirm('https://npmjs.com/package/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://npmjs.com/package/babel-minify-webpack-plugin'" tppabs="https://npmjs.com/package/babel-minify-webpack-plugin"><img src="../../../img.shields.io/npm/v/babel-minify-webpack-plugin.svg" tppabs="https://img.shields.io/npm/v/babel-minify-webpack-plugin.svg" alt="npm"></a> <a href="javascript:if(confirm('https://nodejs.org/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://nodejs.org/'" tppabs="https://nodejs.org/"><img src="../../../img.shields.io/node/v/compression-webpack-plugin.svg" tppabs="https://img.shields.io/node/v/compression-webpack-plugin.svg" alt="node"></a> <a href="javascript:if(confirm('https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../status.david-dm.org/gh/webpack-contrib/babel-minify-webpack-plugin.svg" tppabs="https://david-dm.org/webpack-contrib/babel-minify-webpack-plugin.svg" alt="deps"></a> <a href="javascript:if(confirm('https://github.com/webpack-contrib/compression-webpack-plugin/actions  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/compression-webpack-plugin/actions'" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/actions"><img src="../../../github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" tppabs="https://github.com/webpack-contrib/compression-webpack-plugin/workflows/compression-webpack-plugin/badge.svg" alt="tests"></a> <a href="javascript:if(confirm('https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin'" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin"><img src="../../../codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" tppabs="https://codecov.io/gh/webpack-contrib/babel-minify-webpack-plugin/branch/master/graph/badge.svg" alt="cover"></a> <a href="javascript:if(confirm('https://gitter.im/webpack/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://gitter.im/webpack/webpack'" tppabs="https://gitter.im/webpack/webpack"><img src="../../../img.shields.io/badge/gitter-webpack-webpack-brightgreen.svg" tppabs="https://img.shields.io/badge/gitter-webpack%2Fwebpack-brightgreen.svg" alt="chat"></a> <a href="javascript:if(confirm('https://packagephobia.now.sh/result?p=compression-webpack-plugin  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://packagephobia.now.sh/result?p=compression-webpack-plugin'" tppabs="https://packagephobia.now.sh/result?p=compression-webpack-plugin"><img src="../../../badgen.net/packagephobia/install/compression-webpack-plugin" tppabs="https://packagephobia.now.sh/badge?p=compression-webpack-plugin" alt="size"></a></p> <p>æ­¤æ’ä»¶ä½¿ç”¨ <a href="javascript:if(confirm('https://github.com/mishoo/UglifyJS2  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/mishoo/UglifyJS2'" tppabs="https://github.com/mishoo/UglifyJS2">uglify-js</a> å‹ç¼©ä½ çš„ JavaScriptã€‚</p> <h2 id="requirements">Requirements <a href="#requirements" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>æ­¤æ¨¡å—è¦æ±‚çš„æœ€å°ç‰ˆæœ¬ä¸º Node v6.9.0 å’Œ Webpack v4.0.0 ç‰ˆæœ¬ã€‚</p> <h2 id="getting-started">Getting Started <a href="#getting-started" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>é¦–å…ˆï¼Œä½ éœ€è¦å®‰è£… <code>uglifyjs-webpack-plugin</code>ï¼š</p> <pre><code class="hljs language-console">$ npm install uglifyjs-webpack-plugin --save-dev
</code></pre> <p>ç„¶åæŠŠæ’ä»¶æ·»åŠ åˆ°ä½ çš„ <code>webpack</code> é…ç½®ä¸­ã€‚ä¾‹å¦‚ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> UglifyJsPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'uglifyjs-webpack-plugin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <p>ç´§æ¥ç€é€šè¿‡ä½ çš„é¦–é€‰æ–¹å¼è¿è¡Œ <code>webpack</code>ã€‚</p> <h2 id="options">Options <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="test"><code>test</code> <a href="#test" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š<code>String|RegExp|Array&#x3C;String|RegExp></code> é»˜è®¤å€¼ï¼š<code>/\.js(\?.*)?$/i</code></p> <p>æµ‹è¯•åŒ¹é…çš„æ–‡ä»¶ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js(\?.*)?$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="include"><code>include</code> <a href="#include" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š<code>String|RegExp|Array&#x3C;String|RegExp></code> é»˜è®¤å€¼ï¼š<code>undefined</code></p> <p>è¦è¢«å¤„ç†çš„æ–‡ä»¶ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        include<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/includes</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="exclude"><code>exclude</code> <a href="#exclude" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š<code>String|RegExp|Array&#x3C;String|RegExp></code> é»˜è®¤å€¼ï¼š<code>undefined</code></p> <p>ä¸è¢«å¤„ç†çš„æ–‡ä»¶ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/excludes</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="chunkfilter"><code>chunkFilter</code> <a href="#chunkfilter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š<code>Function&#x3C;(chunk) -> boolean></code> é»˜è®¤å€¼ï¼š<code>() => true</code></p> <p>åˆ¤æ–­å“ªäº› chunk å¯ä»¥è¢«å‹ç¼©ï¼ˆé»˜è®¤æ‰€æœ‰çš„ chunk éƒ½ä¼šè¢«å‹ç¼©ï¼‰ã€‚ è¿”å›å€¼ä¸º <code>true</code> åˆ™ä¼šè¢«å‹ç¼©ï¼Œ<code>false</code> åˆ™ä¸ä¼šè¢«å‹ç¼©ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function-variable function">chunkFilter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">chunk</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token comment">// `vendor` å—ä¸å‹ç¼©</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>chunk<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'vendor'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="cache"><code>cache</code> <a href="#cache" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š<code>Boolean|String</code> é»˜è®¤å€¼ï¼š<code>false</code></p> <p>å¯ç”¨æ–‡ä»¶ç¼“å­˜ã€‚ é»˜è®¤çš„ç¼“å­˜ç›®å½•è·¯å¾„ï¼š<code>node_modules/.cache/uglifyjs-webpack-plugin</code>ã€‚</p> <blockquote> <p>â„¹ï¸ å¦‚æœä½ ä½¿ç”¨è‡ªå®šä¹‰çš„ <code>minify</code> å‡½æ•°ï¼Œè¯·æ­£ç¡®é˜…è¯» <code>minify</code> éƒ¨åˆ†ä»¥äº†è§£ç¼“å­˜å¤±æ•ˆã€‚</p> </blockquote> <h4 id="boolean"><code>Boolean</code> <a href="#boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>å¯ç”¨/ç¦ç”¨æ–‡ä»¶ç¼“å­˜ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        cache<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="string"><code>String</code> <a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>å¯ç”¨æ–‡ä»¶ç¼“å­˜å¹¶è®¾ç½®ç¼“å­˜ç›®å½•è·¯å¾„ã€‚</p> <p><strong>webpack.config.js</strong></p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        cache<span class="token operator">:</span> <span class="token string">'path/to/cache'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="cachekeys"><code>cacheKeys</code> <a href="#cachekeys" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š<code>Function&#x3C;(defaultCacheKeys, file) -> Object></code> é»˜è®¤å€¼ï¼š<code>defaultCacheKeys => defaultCacheKeys</code></p> <p>å…è®¸é‡å†™é»˜è®¤çš„ç¼“å­˜ keyã€‚</p> <p>é»˜è®¤çš„ç¼“å­˜ keyï¼š</p> <pre><code class="hljs language-js"><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token string">'uglify-js'</span><span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'uglify-js/package.json'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>version<span class="token punctuation">,</span> <span class="token comment">// uglify ç‰ˆæœ¬</span>
  <span class="token string">'uglifyjs-webpack-plugin'</span><span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../package.json'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>version<span class="token punctuation">,</span> <span class="token comment">// plugin ç‰ˆæœ¬</span>
  <span class="token string">'uglifyjs-webpack-plugin-options'</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span> <span class="token comment">// plugin é€‰é¡¹</span>
  path<span class="token operator">:</span> compiler<span class="token punctuation">.</span>outputPath <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>compiler<span class="token punctuation">.</span>outputPath<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>file<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> file<span class="token punctuation">,</span> <span class="token comment">// è¾“å‡ºèµ„æºè·¯å¾„</span>
  hash<span class="token operator">:</span> crypto
    <span class="token punctuation">.</span><span class="token function">createHash</span><span class="token punctuation">(</span><span class="token string">'md4'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">digest</span><span class="token punctuation">(</span><span class="token string">'hex'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// èµ„æºæ–‡ä»¶hash</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        cache<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token function-variable function">cacheKeys</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">defaultCacheKeys<span class="token punctuation">,</span> file</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          defaultCacheKeys<span class="token punctuation">.</span>myCacheKey <span class="token operator">=</span> <span class="token string">'myCacheKeyValue'</span><span class="token punctuation">;</span>

          <span class="token keyword">return</span> defaultCacheKeys<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="parallel"><code>parallel</code> <a href="#parallel" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š<code>Boolean|Number</code> é»˜è®¤å€¼ï¼š<code>false</code></p> <p>ä½¿ç”¨å¤šè¿›ç¨‹å¹¶è¡Œè¿è¡Œä»¥æé«˜æ„å»ºé€Ÿåº¦ã€‚ é»˜è®¤å¹¶å‘è¿è¡Œæ¬¡æ•°ï¼š<code>os.cups().length - 1</code>ã€‚</p> <blockquote> <p>â„¹ï¸ å¹¶è¡ŒåŒ–å¯ä»¥æ˜¾è‘—åœ°åŠ å¿«æ„å»ºé€Ÿåº¦ï¼Œå› æ­¤<strong>å¼ºçƒˆæ¨è</strong>ä½¿ç”¨å¹¶è¡ŒåŒ–ã€‚</p> </blockquote> <h4 id="boolean"><code>Boolean</code> <a href="#boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>å¯ç”¨/ç¦ç”¨å¤šè¿›ç¨‹å¹¶è¡Œè¿è¡Œã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        parallel<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="number"><code>Number</code> <a href="#number" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>å¯ç”¨å¤šè¿›ç¨‹å¹¶è¡Œè¿è¡Œå¹¶è®¾ç½®å¹¶å‘è¿è¡Œçš„æ¬¡æ•°ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        parallel<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="sourcemap"><code>sourceMap</code> <a href="#sourcemap" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š<code>Boolean</code> é»˜è®¤å€¼ï¼š<code>false</code></p> <p>ä½¿ç”¨æºæ˜ å°„å°†é”™è¯¯ä¿¡æ¯ä½ç½®æ˜ å°„åˆ°æ¨¡å—ï¼ˆè¿™å°†ä¼šå‡æ…¢ç¼–è¯‘é€Ÿåº¦ï¼‰ã€‚ å¦‚æœä½ ä½¿ç”¨è‡ªå®šä¹‰çš„ <code>minify</code> å‡½æ•°ï¼Œè¯·æ­£ç¡®é˜…è¯» <code>minify</code> éƒ¨åˆ†ä»¥ç¡®ä¿æ­£ç¡®å¤„ç†æºæ˜ å°„ã€‚</p> <blockquote> <p>âš ï¸ <strong><code>cheap-source-map</code> é€‰é¡¹ä¸é€‚ç”¨äºæ­¤æ’ä»¶</strong>ã€‚</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        sourceMap<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="minify"><code>minify</code> <a href="#minify" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š<code>Function</code> é»˜è®¤å€¼ï¼š<code>undefined</code></p> <p>å…è®¸ä½ è¦†ç›–é»˜è®¤çš„ minify å‡½æ•°ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ’ä»¶ä½¿ç”¨ <a href="javascript:if(confirm('https://github.com/mishoo/UglifyJS2  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/mishoo/UglifyJS2'" tppabs="https://github.com/mishoo/UglifyJS2">uglify-js</a> è½¯ä»¶åŒ…ã€‚ å¯¹äºä½¿ç”¨å’Œæµ‹è¯•æœªå‘å¸ƒçš„ç‰ˆæœ¬æˆ–åˆ†æ”¯å¾ˆæœ‰ç”¨ã€‚</p> <blockquote> <p>âš ï¸ <strong>å¼€å¯ <code>parallel</code> é€‰é¡¹æ—¶ï¼Œå§‹ç»ˆåœ¨ <code>minify</code> å‡½æ•°å†…éƒ¨ä½¿ç”¨ <code>require</code></strong>ã€‚</p> </blockquote> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function">minify</span><span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> sourceMap</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">const</span> extractedComments <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

          <span class="token comment">// è‡ªå®šä¹‰æå–æ³¨é‡Šçš„é€»è¾‘</span>

          <span class="token keyword">const</span> <span class="token punctuation">{</span> error<span class="token punctuation">,</span> map<span class="token punctuation">,</span> code<span class="token punctuation">,</span> warnings <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'uglify-module'</span><span class="token punctuation">)</span> <span class="token comment">// æˆ–è€… require('./path/to/uglify-module')</span>
            <span class="token punctuation">.</span><span class="token function">minify</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token punctuation">{</span>
              <span class="token comment">/* ä½ çš„å‹ç¼©é€‰é¡¹ */</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

          <span class="token keyword">return</span> <span class="token punctuation">{</span> error<span class="token punctuation">,</span> map<span class="token punctuation">,</span> code<span class="token punctuation">,</span> warnings<span class="token punctuation">,</span> extractedComments <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="uglifyoptions"><code>uglifyOptions</code> <a href="#uglifyoptions" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š<code>Object</code> é»˜è®¤å€¼ï¼š<a href="javascript:if(confirm('https://github.com/mishoo/UglifyJS2  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/mishoo/UglifyJS2#minify-options'" tppabs="https://github.com/mishoo/UglifyJS2#minify-options">é»˜è®¤å€¼</a></p> <p>UglifyJS å‹ç¼©<a href="javascript:if(confirm('https://github.com/mishoo/UglifyJS2  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/mishoo/UglifyJS2#minify-options'" tppabs="https://github.com/mishoo/UglifyJS2#minify-options">é€‰é¡¹</a>ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        uglifyOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          warnings<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          parse<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
          compress<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
          mangle<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ³¨æ„ `mangle.properties` çš„é»˜è®¤å€¼æ˜¯ `false`ã€‚</span>
          output<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
          toplevel<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          nameCache<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
          ie8<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          keep_fnames<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="extractcomments"><code>extractComments</code> <a href="#extractcomments" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š<code>Boolean|String|RegExp|Function&#x3C;(node, comment) -> Boolean|Object></code> é»˜è®¤å€¼ï¼š<code>false</code></p> <p>æ˜¯å¦æå–æ³¨é‡Šåˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œï¼ˆè¯·å‚é˜…<a href="javascript:if(confirm('https://github.com/webpack/webpack/commit/71933e979e51c533b432658d5e37917f9e71595a  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/commit/71933e979e51c533b432658d5e37917f9e71595a'" tppabs="https://github.com/webpack/webpack/commit/71933e979e51c533b432658d5e37917f9e71595a">è¯¦ç»†ä¿¡æ¯</a>ï¼‰ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œåªæå–æ³¨é‡Šä¸­ä½¿ç”¨ <code>/^\**!|@preserve|@license|@cc_on/i</code> æ­£åˆ™æ¡ä»¶åŒ¹é…åŒæ—¶åˆ é™¤å‰©ä½™æ³¨é‡Šã€‚ å¦‚æœåŸå§‹æ–‡ä»¶åå­—ä¸º <code>foo.js</code>ï¼Œåˆ™æ³¨é‡Šæ–‡ä»¶å°†ä¼šè¢«å‚¨å­˜åˆ° <code>foo.js.LICENSE</code> ä¸­ã€‚ <code>uglifyOptions.output.comments</code> é€‰é¡¹æŒ‡å®šæ˜¯å¦ä¿ç•™æ³¨é‡Šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æå–å…¶ä»–çš„æ³¨é‡Šæ—¶ï¼Œå¯ä»¥ä¿ç•™ä¸€äº›æ³¨é‡Šï¼ˆå¦‚ï¼šæ³¨è§£ï¼‰ï¼Œç”šè‡³æ˜¯ä¿ç•™å·²ç»è¢«æå–çš„æ³¨é‡Šã€‚</p> <h4 id="boolean"><code>Boolean</code> <a href="#boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>å¯ç”¨/ç¦ç”¨æå–æ³¨é‡Šã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="string"><code>String</code> <a href="#string" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>æå–<code>æ‰€æœ‰</code>æˆ–<code>ä¸€äº›</code>ï¼ˆä½¿ç”¨ <code>/^\**!|@preserve|@license|@cc_on/i</code> æ­£åˆ™åŒ¹é…ï¼‰ æ³¨é‡Šã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="regexp"><code>RegExp</code> <a href="#regexp" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>æ‰€æœ‰çš„ä¸ç»™å®šè¡¨è¾¾å¼ç›¸åŒ¹é…æ³¨é‡Šå°†è¢«æå–åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">@extract</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="functionnode-comment---boolean"><code>Function&#x3C;(node, comment) -> Boolean></code> <a href="#functionnode-comment---boolean" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>æ‰€æœ‰çš„ä¸ç»™å®šè¡¨è¾¾å¼ç›¸åŒ¹é…æ³¨é‡Šå°†è¢«æå–åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function-variable function">extractComments</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">astNode<span class="token punctuation">,</span> comment</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">@extract</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>comment<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h4 id="object"><code>Object</code> <a href="#object" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h4> <p>å…è®¸è‡ªå®šä¹‰æ¡ä»¶æå–æ³¨é‡Šï¼ŒæŒ‡å®šæå–çš„æ–‡ä»¶åå’Œbannerã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token punctuation">{</span>
          condition<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\**!|@preserve|@license|@cc_on</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
          <span class="token function">filename</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>file<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.LICENSE</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function">banner</span><span class="token punctuation">(</span><span class="token parameter">licenseFile</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">License information can be found in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>licenseFile<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="condition"><code>condition</code> <a href="#condition" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>ç±»å‹ï¼š<code>Boolean|String|RegExp|Function&#x3C;(node, comment) -> Boolean|Object></code></p> <p>è®¾ç½®éœ€è¦æå–çš„æ³¨é‡Šã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token punctuation">{</span>
          condition<span class="token operator">:</span> <span class="token string">'some'</span><span class="token punctuation">,</span>
          <span class="token function">filename</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>file<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.LICENSE</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function">banner</span><span class="token punctuation">(</span><span class="token parameter">licenseFile</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">License information can be found in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>licenseFile<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="filename"><code>filename</code> <a href="#filename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>ç±»å‹ï¼š<code>Regex|Function&#x3C;(string) -> String></code> é»˜è®¤å€¼ï¼š<code>${file}.LICENSE</code></p> <p>æå–çš„æ³¨é‡Šè¢«å‚¨å­˜æ—¶çš„æ–‡ä»¶åã€‚ é»˜è®¤æ˜¯å°†åç¼€ <code>.LICENSE</code> æ·»åŠ åˆ°åŸå§‹æ–‡ä»¶ååé¢ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token punctuation">{</span>
          condition<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\**!|@preserve|@license|@cc_on</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
          filename<span class="token operator">:</span> <span class="token string">'extracted-comments.js'</span><span class="token punctuation">,</span>
          <span class="token function">banner</span><span class="token punctuation">(</span><span class="token parameter">licenseFile</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">License information can be found in </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>licenseFile<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h5 id="banner"><code>banner</code> <a href="#banner" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h5> <p>ç±»å‹ï¼š<code>Boolean|String|Function&#x3C;(string) -> String></code> é»˜è®¤å€¼ï¼š<code>/*! For license information please see ${commentsFile} */</code></p> <p>æŒ‡å‘æå–æ–‡ä»¶çš„ banner æ–‡æœ¬ï¼Œå°†ä¼šè¢«æ·»åŠ åˆ°æºæ–‡ä»¶çš„é¡¶éƒ¨ã€‚ å¯èƒ½æ˜¯ <code>false</code>ï¼Œä¸€ä¸ª <code>String</code>ï¼Œæˆ–è€…ä¸€ä¸ª <code>Function&#x3C;(string) -> String></code>ï¼Œè¯¥å‡½æ•°å°†ä½¿ç”¨å‚¨å­˜æå–æ³¨é‡Šçš„æ–‡ä»¶åæ¥è°ƒç”¨ã€‚ å°†ä¼šè¢«åŒ…è£…åˆ°æ³¨é‡Šä¸­ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        extractComments<span class="token operator">:</span> <span class="token punctuation">{</span>
          condition<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token function">filename</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>file<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.LICENSE</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function">banner</span><span class="token punctuation">(</span><span class="token parameter">commentsFile</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">My custom banner about license information </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>commentsFile<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="warningsfilter"><code>warningsFilter</code> <a href="#warningsfilter" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>ç±»å‹ï¼š<code>Function&#x3C;(warning, source) -> Boolean></code> é»˜è®¤å€¼ï¼š<code>() => true</code></p> <p>å…è®¸è¿‡æ»¤ <a href="javascript:if(confirm('https://github.com/mishoo/UglifyJS2  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/mishoo/UglifyJS2'" tppabs="https://github.com/mishoo/UglifyJS2">uglify-js</a> è­¦å‘Šã€‚ è¿”å›å€¼ä¸º <code>true</code> åˆ™ä¼šä¿æŒè­¦å‘Šï¼Œ<code>false</code> åˆ™ä¸ä¿ç•™è­¦å‘Šã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function-variable function">warningsFilter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">warning<span class="token punctuation">,</span> source</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Dropping unreachable code</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>warning<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">filename\.js</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="examples">Examples <a href="#examples" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <h3 id="cache-and-parallel">Cache And Parallel <a href="#cache-and-parallel" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>å¼€å¯ç¼“å­˜å¹¶å¯ç”¨å¤šè¿›ç¨‹å¹¶è¡Œè¿è¡Œã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        cache<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        parallel<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="preserve-comments">Preserve Comments <a href="#preserve-comments" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>æå–æ‰€æœ‰åˆæ³•æ³¨é‡Šï¼ˆå³ä½¿ç”¨ <code>/^\**!|@preserve|@license|@cc_on/i</code> æ­£åˆ™åŒ¹é…ï¼‰ï¼ŒåŒæ—¶ä¿ç•™ <code>/@license/i</code> æ³¨é‡Šã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        uglifyOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          output<span class="token operator">:</span> <span class="token punctuation">{</span>
            comments<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">@license</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        extractComments<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="remove-comments">Remove Comments <a href="#remove-comments" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>å¦‚æœä½ æ„å»ºæ—¶ä¸æƒ³å‡ºç°æ³¨é‡Šï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹é…ç½®å°† <strong>uglifyOptions.output.comments</strong> è®¾ç½®ä¸º <strong>false</strong>ï¼š</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        uglifyOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
          output<span class="token operator">:</span> <span class="token punctuation">{</span>
            comments<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h3 id="custom-minify-function">Custom Minify Function <a href="#custom-minify-function" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p>è¦†ç›–é»˜è®¤çš„ minify å‡½æ•° â€”â€” ä½¿ç”¨ <a href="javascript:if(confirm('https://github.com/fabiosantoscode/terser  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/fabiosantoscode/terser'" tppabs="https://github.com/fabiosantoscode/terser">terser</a> è¿›è¡Œå‹ç¼©ã€‚</p> <p><strong>webpack.config.js</strong></p> <pre><code class="hljs language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimizer<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// Uncomment lines below for cache invalidation correctly</span>
        <span class="token comment">// cache: true,</span>
        <span class="token comment">// cacheKeys(defaultCacheKeys) {</span>
        <span class="token comment">//   delete defaultCacheKeys['uglify-js'];</span>
        <span class="token comment">//</span>
        <span class="token comment">//   return Object.assign(</span>
        <span class="token comment">//     {},</span>
        <span class="token comment">//     defaultCacheKeys,</span>
        <span class="token comment">//     { 'uglify-js': require('uglify-js/package.json').version },</span>
        <span class="token comment">//   );</span>
        <span class="token comment">// },</span>
        <span class="token function">minify</span><span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> sourceMap</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// https://github.com/mishoo/UglifyJS2#minify-options</span>
          <span class="token keyword">const</span> uglifyJsOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token comment">/* `uglify-js` package çš„ç›¸å…³é…ç½® */</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>

          <span class="token keyword">if</span> <span class="token punctuation">(</span>sourceMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            uglifyJsOptions<span class="token punctuation">.</span>sourceMap <span class="token operator">=</span> <span class="token punctuation">{</span>
              content<span class="token operator">:</span> sourceMap<span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>

          <span class="token keyword">return</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'terser'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">minify</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> uglifyJsOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre> <h2 id="contributing">Contributing <a href="#contributing" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>å¦‚æœä½ è‡³ä»Šè¿˜æ²¡æœ‰é˜…è¯»ï¼Œè¯·èŠ±ä¸€ç‚¹æ—¶é—´é˜…è¯»æˆ‘ä»¬çš„è´¡çŒ®æŒ‡å—ã€‚</p> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/uglifyjs-webpack-plugin/blob/master/.github/CONTRIBUTING.md  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/uglifyjs-webpack-plugin/blob/master/.github/CONTRIBUTING.md'" tppabs="https://github.com/webpack-contrib/uglifyjs-webpack-plugin/blob/master/.github/CONTRIBUTING.md">è´¡çŒ®</a></p> <h2 id="license">License <a href="#license" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p><a href="javascript:if(confirm('https://github.com/webpack-contrib/uglifyjs-webpack-plugin/blob/master/LICENSE  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack-contrib/uglifyjs-webpack-plugin/blob/master/LICENSE'" tppabs="https://github.com/webpack-contrib/uglifyjs-webpack-plugin/blob/master/LICENSE">MIT</a></p> <h1 id="WatchIgnorePlugin">WatchIgnorePlugin<a href="#WatchIgnorePlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Ignore the specified files, i.e. those matching the provided paths or regular expressions, while in <a href="../../configuration/watch.htm" tppabs="https://webpack.docschina.org/configuration/watch">watch mode</a>.</p> <pre><code class="hljs language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>WatchIgnorePlugin</span><span class="token punctuation">(</span>paths<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h2 id="options">Options <a href="#options" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li><code>paths</code> (<code>[string, RegExp]</code>): A list of RegExps or absolute paths to directories or files that should be ignored</li> </ul> <h1 id="ZopfliWebpackPlugin">ZopfliWebpackPlugin<a href="#ZopfliWebpackPlugin" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h1> <p>Node-Zopfli plugin for Webpack.</p> <h2 id="install">Install <a href="#install" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-bash"><span class="token function">npm</span> i -D zopfli-webpack-plugin</code></pre> <h2 id="usage">Usage <a href="#usage" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <pre><code class="hljs language-javascript"><span class="token keyword">var</span> ZopfliPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"zopfli-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token keyword">new</span> <span class="token class-name">ZopfliPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			asset<span class="token operator">:</span> <span class="token string">"[path].gz[query]"</span><span class="token punctuation">,</span>
			algorithm<span class="token operator">:</span> <span class="token string">"zopfli"</span><span class="token punctuation">,</span>
			test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(js|html)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
			threshold<span class="token operator">:</span> <span class="token number">10240</span><span class="token punctuation">,</span>
			minRatio<span class="token operator">:</span> <span class="token number">0.8</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre> <h2 id="arguments">Arguments <a href="#arguments" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li><code>asset</code>: The target asset name. <code>[file]</code> is replaced with the original asset. <code>[path]</code> is replaced with the path of the original asset and <code>[query]</code> with the query. Defaults to <code>"[path].gz[query]"</code>.</li> <li><code>filename</code>: A <code>function(asset)</code> which receives the asset name (after processing <code>asset</code> option) and returns the new asset name. Defaults to <code>false</code>.</li> <li><code>algorithm</code>: Can be a <code>function(buf, callback)</code> or a string. For a string the algorithm is taken from <code>zopfli</code>.</li> <li><code>test</code>: All assets matching this RegExp are processed. Defaults to every asset.</li> <li><code>threshold</code>: Only assets bigger than this size are processed. In bytes. Defaults to <code>0</code>.</li> <li><code>minRatio</code>: Only assets that compress better that this ratio are processed. Defaults to <code>0.8</code>.</li> <li><code>deleteOriginalAssets</code>: Whether to delete the original assets or not. Defaults to <code>false</code>.</li> </ul> <h2 id="option-arguments">Option Arguments <a href="#option-arguments" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <ul> <li>verbose: Default: false,</li> <li>verbose_more: Default: false,</li> <li>numiterations: Default: 15,</li> <li>blocksplitting: Default: true,</li> <li>blocksplittinglast: Default: false,</li> <li>blocksplittingmax: Default: 15</li> </ul> <h2 id="maintainers">Maintainers <a href="#maintainers" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <table> <tbody> <tr> <td align="center"> <img width="150" height="150" src="../../../avatars3.githubusercontent.com/u/166921-v=3&s=150" tppabs="https://avatars3.githubusercontent.com/u/166921?v=3&s=150"> <br> <a href="javascript:if(confirm('https://github.com/bebraw  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/bebraw'" tppabs="https://github.com/bebraw">Juho VepsÃ¤lÃ¤inen</a> </td> <td align="center"> <img width="150" height="150" src="../../../avatars2.githubusercontent.com/u/8420490-v=3&s=150" tppabs="https://avatars2.githubusercontent.com/u/8420490?v=3&s=150"> <br> <a href="javascript:if(confirm('https://github.com/d3viant0ne  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/d3viant0ne'" tppabs="https://github.com/d3viant0ne">Joshua Wiens</a> </td> <td align="center"> <img width="150" height="150" src="../../../avatars3.githubusercontent.com/u/533616-v=3&s=150" tppabs="https://avatars3.githubusercontent.com/u/533616?v=3&s=150"> <br> <a href="javascript:if(confirm('https://github.com/SpaceK33z  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/SpaceK33z'" tppabs="https://github.com/SpaceK33z">Kees Kluskens</a> </td> <td align="center"> <img width="150" height="150" src="../../../avatars3.githubusercontent.com/u/3408176-v=3&s=150" tppabs="https://avatars3.githubusercontent.com/u/3408176?v=3&s=150"> <br> <a href="javascript:if(confirm('https://github.com/TheLarkInn  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/TheLarkInn'" tppabs="https://github.com/TheLarkInn">Sean Larkin</a> </td> </tr> <tbody> </tbody></tbody></table> </div><div class="contributors__section"><hr/><h3>Contributors</h3><div class="contributors"><div class="contributors__list"><a class="contributor" href="javascript:if(confirm('https://github.com/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack'" tppabs="https://github.com/webpack"><img alt="webpack" src="../../icon-square-small-slack.9281492bb267314634b4.png" tppabs="https://webpack.docschina.org/icon-square-small-slack.9281492bb267314634b4.png"/><span class="contributor__name"> <!-- -->webpack</span></a></div></div></div></div></section></div><footer class="footer"><div class="container footer__inner"><section class="footer__left"><a class="footer__link" href="../../guides/getting-started/index.htm" tppabs="https://webpack.docschina.org/guides/getting-started/">èµ·æ­¥</a><a class="footer__link" href="../../organization/index.htm" tppabs="https://webpack.docschina.org/organization/">ç»„ç»‡</a><a class="footer__link" href="../../comparison/index.htm" tppabs="https://webpack.docschina.org/comparison/">æ¯”è¾ƒ</a></section><section class="footer__middle"><a class="footer__icon" href="../../index-1.htm" tppabs="https://webpack.docschina.org/"><img src="../../icon-square-small.85ba630cf0c5f29ae3e3.svg" tppabs="https://webpack.docschina.org/icon-square-small.85ba630cf0c5f29ae3e3.svg" alt="webpack icon"/></a></section><section class="footer__right"><a href="javascript:if(confirm('https://webpack.threadless.com/  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://webpack.threadless.com/'" tppabs="https://webpack.threadless.com/" target="_blank" rel="noopener noreferrer" class="footer__link">å•†åº—</a><a class="footer__link" href="../../glossary/index.htm" tppabs="https://webpack.docschina.org/glossary/">æ¦‚å¿µæœ¯è¯­</a><a class="footer__link" href="../../branding/index.htm" tppabs="https://webpack.docschina.org/branding/">å“ç‰Œ</a><a href="javascript:if(confirm('https://gitter.im/webpack/webpack  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://gitter.im/webpack/webpack'" tppabs="https://gitter.im/webpack/webpack" target="_blank" rel="noopener noreferrer" class="footer__link">Gitter</a><a href="javascript:if(confirm('https://github.com/webpack/webpack/releases  \n\n¸ÃÎÄ¼şÎŞ·¨ÓÃ Teleport Ultra ÏÂÔØ, ÒòÎª ËüÊÇÒ»¸öÓò»òÂ·¾¶Íâ²¿±»ÉèÖÃÎªËüµÄÆôÊ¼µØÖ·µÄµØÖ·¡£  \n\nÄãÏëÔÚ·şÎñÆ÷ÉÏ´ò¿ªËü?'))window.location='https://github.com/webpack/webpack/releases'" tppabs="https://github.com/webpack/webpack/releases" target="_blank" rel="noopener noreferrer" class="footer__link">æ›´æ–°æ—¥å¿—</a><a class="footer__link footer__license" href="../../license.htm" tppabs="https://webpack.docschina.org/license"><img alt="Creative Commons License" src="../../cc.ab77d813bf219c6e34ff.svg" tppabs="https://webpack.docschina.org/cc.ab77d813bf219c6e34ff.svg"/><img alt="Creative Commons License" src="../../by.1360bb2e6d1fc28cdd9e.svg" tppabs="https://webpack.docschina.org/by.1360bb2e6d1fc28cdd9e.svg"/></a></section></div></footer></div></div><script>
window.matchMedia('print').addListener(function(mql) {
  if (!mql.matches) {
      window.close();
  }
});
window.print();
</script><script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "../../../hm.baidu.com/hm.js-39edd8e76884f07399be96cd422c9af3"/*tpa=https://hm.baidu.com/hm.js?39edd8e76884f07399be96cd422c9af3*/;
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script></body></html>