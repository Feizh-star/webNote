(self.webpackChunk=self.webpackChunk||[]).push([[9358],{9358:function(a){a.exports='<p><code>parser</code> 实例，在 <code>compiler</code> 中被发现，是用来解析由 webpack 处理过的每个模块。<code>parser</code> 也是扩展自 <code>tapable</code> 的 webpack 类 并且提供多种 <code>tapable</code> 钩子，</p> <p>以下示例中，<code>parser</code> 位于 <a href="api/compiler-hooks/index.htm#normalmodulefactory"/*tpa=https://webpack.docschina.org/api/compiler-hooks/#normalmodulefactory*/>module factories</a> 中，因此需要调用额外钩子 来进行获取：</p> <pre><code class="hljs language-js">compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>normalModuleFactory<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">\'MyPlugin\'</span><span class="token punctuation">,</span> <span class="token parameter">factory</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  factory<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>parser<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">\'javascript/auto\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">\'MyPlugin\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">parser<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n    parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>someHook<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>和 <code>compiler</code> 用法相同，取决于不同的钩子类型， 也可以在某些钩子上访问 <code>tapAsync</code> 和 <code>tapPromise</code>。</p> <h2 id="hooks">钩子 <a href="#hooks" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h2> <p>以下生命周期钩子函数，是由 <code>parser</code> 暴露，可以通过 如下方式访问：</p> <h3 id="evaluatetypeof">evaluateTypeof <a href="#evaluatetypeof" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Triggered when evaluating an expression consisting in a <code>typeof</code> of a free variable</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <pre><code class="hljs language-js">parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>evaluateTypeof<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">\'myIdentifier\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">\'MyPlugin\'</span><span class="token punctuation">,</span> <span class="token parameter">expression</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token comment">/* ... */</span>\n  <span class="token keyword">return</span> expressionResult<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>这会触发 <code>evaluateTypeof</code> 钩子的调用：</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">typeof</span> myIdentifier<span class="token punctuation">;</span></code></pre> <p>This won\'t trigger:</p> <pre><code class="hljs language-js"><span class="token keyword">const</span> myIdentifier <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">typeof</span> myIdentifier<span class="token punctuation">;</span></code></pre> <h3 id="evaluate">evaluate <a href="#evaluate" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when evaluating an expression.</p> <ul> <li>Hook parameters: <code>expressionType</code></li> <li>Callback parameters: <code>expression</code></li> </ul> <p>For example:</p> <p><strong>index.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><strong>MyPlugin.js</strong></p> <pre><code class="hljs language-js">parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>evaluate<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">\'NewExpression\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">\'MyPlugin\'</span><span class="token punctuation">,</span> <span class="token parameter">expression</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token comment">/* ... */</span>\n  <span class="token keyword">return</span> expressionResult<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Where the expressions types are:</p> <ul> <li><code>\'ArrowFunctionExpression\'</code></li> <li><code>\'AssignmentExpression\'</code></li> <li><code>\'AwaitExpression\'</code></li> <li><code>\'BinaryExpression\'</code></li> <li><code>\'CallExpression\'</code></li> <li><code>\'ClassExpression\'</code></li> <li><code>\'ConditionalExpression\'</code></li> <li><code>\'FunctionExpression\'</code></li> <li><code>\'Identifier\'</code></li> <li><code>\'LogicalExpression\'</code></li> <li><code>\'MemberExpression\'</code></li> <li><code>\'NewExpression\'</code></li> <li><code>\'ObjectExpression\'</code></li> <li><code>\'SequenceExpression\'</code></li> <li><code>\'SpreadElement\'</code></li> <li><code>\'TaggedTemplateExpression\'</code></li> <li><code>\'TemplateLiteral\'</code></li> <li><code>\'ThisExpression\'</code></li> <li><code>\'UnaryExpression\'</code></li> <li><code>\'UpdateExpression\'</code></li> </ul> <h3 id="evaluateidentifier">evaluateIdentifier <a href="#evaluateidentifier" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when evaluating an identifier that is a free variable.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <h3 id="evaluatedefinedidentifier">evaluateDefinedIdentifier <a href="#evaluatedefinedidentifier" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when evaluating an identifier that is a defined variable.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <h3 id="evaluatecallexpressionmember">evaluateCallExpressionMember <a href="#evaluatecallexpressionmember" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when evaluating a call to a member function of a successfully evaluated expression.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code> <code>param</code></li> </ul> <p>This expression will trigger the hook:</p> <p><strong>index.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">const</span> a <span class="token operator">=</span> expression<span class="token punctuation">.</span><span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p><strong>MyPlugin.js</strong></p> <pre><code class="hljs language-js">parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>evaluateCallExpressionMember<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">\'myFunc\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">\'MyPlugin\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">expression<span class="token punctuation">,</span> param</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token comment">/* ... */</span>\n  <span class="token keyword">return</span> expressionResult<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="statement">statement <a href="#statement" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>General purpose hook that is called for every parsed statement in a code fragment.</p> <ul> <li>Callback Parameters: <code>statement</code></li> </ul> <pre><code class="hljs language-js">parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>statement<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">\'MyPlugin\'</span><span class="token punctuation">,</span> <span class="token parameter">statement</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <p>Where the <code>statement.type</code> could be:</p> <ul> <li><code>\'BlockStatement\'</code></li> <li><code>\'VariableDeclaration\'</code></li> <li><code>\'FunctionDeclaration\'</code></li> <li><code>\'ReturnStatement\'</code></li> <li><code>\'ClassDeclaration\'</code></li> <li><code>\'ExpressionStatement\'</code></li> <li><code>\'ImportDeclaration\'</code></li> <li><code>\'ExportAllDeclaration\'</code></li> <li><code>\'ExportDefaultDeclaration\'</code></li> <li><code>\'ExportNamedDeclaration\'</code></li> <li><code>\'IfStatement\'</code></li> <li><code>\'SwitchStatement\'</code></li> <li><code>\'ForInStatement\'</code></li> <li><code>\'ForOfStatement\'</code></li> <li><code>\'ForStatement\'</code></li> <li><code>\'WhileStatement\'</code></li> <li><code>\'DoWhileStatement\'</code></li> <li><code>\'ThrowStatement\'</code></li> <li><code>\'TryStatement\'</code></li> <li><code>\'LabeledStatement\'</code></li> <li><code>\'WithStatement\'</code></li> </ul> <h3 id="statementif">statementIf <a href="#statementif" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing an if statement. Same as the <code>statement</code> hook, but triggered only when <code>statement.type == \'IfStatement\'</code>.</p> <ul> <li>Callback Parameters: <code>statement</code></li> </ul> <h3 id="label">label <a href="#label" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing statements with a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/label">label</a>. Those statements have <code>statement.type === \'LabeledStatement\'</code>.</p> <ul> <li>Hook Parameters: <code>labelName</code></li> <li>Callback Parameters: <code>statement</code></li> </ul> <h3 id="import">import <a href="#import" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called for every import statement in a code fragment. The <code>source</code> parameter contains the name of the imported file.</p> <ul> <li>Callback Parameters: <code>statement</code> <code>source</code></li> </ul> <p>The following import statement will trigger the hook once:</p> <p><strong>index.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">\'lodash\'</span><span class="token punctuation">;</span></code></pre> <p><strong>MyPlugin.js</strong></p> <pre><code class="hljs language-js">parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>import<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">\'MyPlugin\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">statement<span class="token punctuation">,</span> source</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token comment">// source == \'lodash\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="importspecifier">importSpecifier <a href="#importspecifier" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called for every specifier of every <code>import</code> statement.</p> <ul> <li>Callback Parameters: <code>statement</code> <code>source</code> <code>exportName</code> <code>identifierName</code></li> </ul> <p>The following import statement will trigger the hook twice:</p> <p><strong>index.js</strong></p> <pre><code class="hljs language-js"><span class="token keyword">import</span> _<span class="token punctuation">,</span> <span class="token punctuation">{</span> has <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'lodash\'</span><span class="token punctuation">;</span></code></pre> <p><strong>MyPlugin.js</strong></p> <pre><code class="hljs language-js">parser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>importSpecifier<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">\'MyPlugin\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">statement<span class="token punctuation">,</span> source<span class="token punctuation">,</span> exportName<span class="token punctuation">,</span> identifierName</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token comment">/* First call\n    source == \'lodash\'\n    exportName == \'default\'\n    identifierName == \'_\'\n  */</span>\n  <span class="token comment">/* Second call\n    source == \'lodash\'\n    exportName == \'has\'\n    identifierName == \'has\'\n  */</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="export">export <a href="#export" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called for every <code>export</code> statement in a code fragment.</p> <ul> <li>Callback Parameters: <code>statement</code></li> </ul> <h3 id="exportimport">exportImport <a href="#exportimport" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called for every <code>export</code>-import statement eg: <code>export * from \'otherModule\';</code>.</p> <ul> <li>Callback Parameters: <code>statement</code> <code>source</code></li> </ul> <h3 id="exportdeclaration">exportDeclaration <a href="#exportdeclaration" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called for every <code>export</code> statement exporting a declaration.</p> <ul> <li>Callback Parameters: <code>statement</code> <code>declaration</code></li> </ul> <p>Those exports will trigger this hook:</p> <pre><code class="hljs language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> myVar <span class="token operator">=</span> <span class="token string">\'hello\'</span><span class="token punctuation">;</span> <span class="token comment">// also var, let</span>\n<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">FunctionName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>\n<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ClassName</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></code></pre> <h3 id="exportexpression">exportExpression <a href="#exportexpression" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called for every <code>export</code> statement exporting an expression e.g.<code>export default expression;</code>.</p> <ul> <li>Callback Parameters: <code>statement</code> <code>declaration</code></li> </ul> <h3 id="exportspecifier">exportSpecifier <a href="#exportspecifier" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called for every specifier of every <code>export</code> statement.</p> <ul> <li>Callback Parameters: <code>statement</code> <code>identifierName</code> <code>exportName</code> <code>index</code></li> </ul> <h3 id="exportimportspecifier">exportImportSpecifier <a href="#exportimportspecifier" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called for every specifier of every <code>export</code>-import statement.</p> <ul> <li>Callback Parameters: <code>statement</code> <code>source</code> <code>identifierName</code> <code>exportName</code> <code>index</code></li> </ul> <h3 id="vardeclaration">varDeclaration <a href="#vardeclaration" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing a variable declaration.</p> <ul> <li>Callback Parameters: <code>declaration</code></li> </ul> <h3 id="vardeclarationlet">varDeclarationLet <a href="#vardeclarationlet" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing a variable declaration defined using <code>let</code></p> <ul> <li>Callback Parameters: <code>declaration</code></li> </ul> <h3 id="vardeclarationconst">varDeclarationConst <a href="#vardeclarationconst" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing a variable declaration defined using <code>const</code></p> <ul> <li>Callback Parameters: <code>declaration</code></li> </ul> <h3 id="vardeclarationvar">varDeclarationVar <a href="#vardeclarationvar" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing a variable declaration defined using <code>var</code></p> <ul> <li>Callback Parameters: <code>declaration</code></li> </ul> <h3 id="canrename">canRename <a href="#canrename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Triggered before renaming an identifier to determine if the renaming is allowed. This is usually used together with the <code>rename</code> hook.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <pre><code class="hljs language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> b<span class="token punctuation">;</span>\n\nparser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>canRename<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">\'b\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">\'MyPlugin\'</span><span class="token punctuation">,</span> <span class="token parameter">expression</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token comment">// returning true allows renaming</span>\n  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="rename">rename <a href="#rename" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Triggered when renaming to get the new identifier. This hook will be called only if <code>canRename</code> returns <code>true</code>.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <pre><code class="hljs language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> b<span class="token punctuation">;</span>\n\nparser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>rename<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">\'b\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">\'MyPlugin\'</span><span class="token punctuation">,</span> <span class="token parameter">expression</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="assigned">assigned <a href="#assigned" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing an <code>AssignmentExpression</code> before parsing the assigned expression.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <pre><code class="hljs language-js">a <span class="token operator">+=</span> b<span class="token punctuation">;</span>\n\nparser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>assigned<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">\'a\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">\'MyPlugin\'</span><span class="token punctuation">,</span> <span class="token parameter">expression</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token comment">// this is called before parsing b</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="assign">assign <a href="#assign" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing an <code>AssignmentExpression</code> before parsing the assign expression.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <pre><code class="hljs language-js">a <span class="token operator">+=</span> b<span class="token punctuation">;</span>\n\nparser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>assigned<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">\'a\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">\'MyPlugin\'</span><span class="token punctuation">,</span> <span class="token parameter">expression</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token comment">// this is called before parsing a</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="typeof">typeof <a href="#typeof" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Triggered when parsing the <code>typeof</code> of an identifier</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <h3 id="call">call <a href="#call" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing a function call.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <pre><code class="hljs language-js"><span class="token function">eval</span><span class="token punctuation">(</span><span class="token comment">/* something */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nparser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>call<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">\'eval\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">\'MyPlugin\'</span><span class="token punctuation">,</span> <span class="token parameter">expression</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="callanymember">callAnyMember <a href="#callanymember" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Triggered when parsing a call to a member function of an object.</p> <ul> <li>Hook Parameters: <code>objectIdentifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <pre><code class="hljs language-js">myObj<span class="token punctuation">.</span><span class="token function">anyFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nparser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>callAnyMember<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">\'myObj\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">\'MyPlugin\'</span><span class="token punctuation">,</span> <span class="token parameter">expression</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="new">new <a href="#new" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Invoked when parsing a <code>new</code> expression.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <pre><code class="hljs language-js"><span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nparser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>new<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">\'MyClass\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">\'MyPlugin\'</span><span class="token punctuation">,</span> <span class="token parameter">expression</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="expression">expression <a href="#expression" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing an expression.</p> <ul> <li>Hook Parameters: <code>identifier</code></li> <li>Callback Parameters: <code>expression</code></li> </ul> <pre><code class="hljs language-js"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>\n\nparser<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>expression<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">\'this\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">\'MyPlugin\'</span><span class="token punctuation">,</span> <span class="token parameter">expression</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> <h3 id="expressionconditionaloperator">expressionConditionalOperator <a href="#expressionconditionaloperator" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Called when parsing a <code>ConditionalExpression</code> e.g. <code>condition ? a : b</code></p> <ul> <li>Callback Parameters: <code>expression</code></li> </ul> <h3 id="program">program <a href="#program" aria-hidden="true" tabindex="-1"><span class="header-link"></span></a></h3> <p><code>SyncBailHook</code></p> <p>Get access to the abstract syntax tree (AST) of a code fragment</p> <ul> <li>Parameters: <code>ast</code> <code>comments</code></li> </ul> '}}]);