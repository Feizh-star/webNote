在 GLSL（OpenGL Shading Language）中，变量类型主要包括 **基本类型**、**向量和矩阵类型**、**采样器类型**、**结构体类型** 和 **特殊修饰符的变量**。它们各有用途和特点，以下是详细介绍：

------

### **1. 基本类型**

这些是 GLSL 中的基本数据类型，用于表示标量值。

#### **（1）标量类型**

| 类型    | 描述                    | 示例             |
| ------- | ----------------------- | ---------------- |
| `int`   | 整数（有符号 32 位）    | `int i = 10;`    |
| `float` | 浮点数（单精度 32 位）  | `float f = 1.0;` |
| `bool`  | 布尔值（true 或 false） | `bool b = true;` |

**特点：**

- 简单的单一值类型。
- 适用于计算和逻辑判断。
- `int` 和 `float` 可以互相隐式转换，但可能丢失精度。

------

### **2. 向量和矩阵类型**

这些类型是 GLSL 的核心，用于高效表示和操作向量与矩阵数据。

#### **（1）向量类型**

| 类型        | 描述                             | 示例                                 |
| ----------- | -------------------------------- | ------------------------------------ |
| `vec2`      | 2 维浮点向量                     | `vec2 v = vec2(1.0, 2.0);`           |
| `vec3`      | 3 维浮点向量（常用于颜色、坐标） | `vec3 v = vec3(0.0, 1.0, 0.5);`      |
| `vec4`      | 4 维浮点向量（常用于 RGBA 颜色） | `vec4 v = vec4(1.0, 0.5, 0.2, 1.0);` |
| `ivec2/3/4` | 整数向量                         | `ivec3 iv = ivec3(1, 2, 3);`         |
| `bvec2/3/4` | 布尔向量                         | `bvec2 bv = bvec2(true, false);`     |

**特点：**

- 多分量变量，支持分量访问（如 `v.x`, `v.xy`）。
- 提供丰富的内置函数（如 `normalize`, `dot`, `cross` 等）。

#### **（2）矩阵类型**

| 类型   | 描述                    | 示例                                 |
| ------ | ----------------------- | ------------------------------------ |
| `mat2` | 2x2 矩阵（4 个浮点数）  | `mat2 m = mat2(1.0, 0.0, 0.0, 1.0);` |
| `mat3` | 3x3 矩阵（9 个浮点数）  | `mat3 m = mat3(...);`                |
| `mat4` | 4x4 矩阵（16 个浮点数） | `mat4 m = mat4(...);`                |

**特点：**

- 常用于变换（如旋转、缩放、投影矩阵）。
- 可以直接与向量进行矩阵-向量乘法操作。
- 分量访问支持二维索引（如 `m[0][1]`）。

------

### **3. 采样器类型**

采样器类型用于纹理访问。

| 类型                 | 描述                           | 示例                   |
| -------------------- | ------------------------------ | ---------------------- |
| `sampler2D`          | 2D 纹理采样器                  | `sampler2D tex;`       |
| `samplerCube`        | 立方体纹理采样器               | `samplerCube cubemap;` |
| `sampler3D` (WebGL2) | 3D 纹理采样器（仅支持 WebGL2） | `sampler3D volumeTex;` |

**特点：**

- 用于访问纹理中的数据。
- 通过内置函数如 `texture()` 或 `texture2D()`（已弃用）获取纹理采样值。
- 需要通过 `uniform` 修饰符传递给着色器。

------

### **4. 结构体类型**

GLSL 支持自定义结构体，用于组织复杂数据。

| 类型     | 描述                                 | 示例                                                    |
| -------- | ------------------------------------ | ------------------------------------------------------- |
| `struct` | 自定义的复合类型，用于表示复杂对象。 | `struct Light { vec3 position; vec3 color; }; Light l;` |

**特点：**

- 提供逻辑分组，便于管理相关变量。
- 可以用作顶点着色器和片段着色器之间的数据传递。

------

### **5. 特殊修饰符变量**

#### **（1）`attribute` (WebGL1，仅顶点着色器使用)**

- 用于表示顶点属性（如位置、颜色、法线等）。

- 每个顶点可能有不同的值。

- 示例：

  ```glsl
  attribute vec3 a_position;
  ```

#### **（2）`uniform`**

- 全局常量，通常由应用程序设置，所有顶点/片段共享一个值。

- 用于传递全局数据（如变换矩阵、纹理）。

- 示例：

  ```glsl
  uniform mat4 u_modelViewProjection;
  ```

#### **（3）`varying` (WebGL1，用于顶点到片段的数据传递)**

- 顶点着色器输出的数据，经过光栅化后插值传递给片段着色器。

- 示例：

  ```glsl
  varying vec4 v_color;
  ```

#### **（4）输入和输出变量（WebGL2）**

- `in` 和 `out` 替代了 `attribute` 和 `varying`。

- 顶点着色器：

  ```glsl
  in vec3 a_position;
  out vec4 v_color;
  ```

- 片段着色器：

  ```glsl
  in vec4 v_color;
  out vec4 fragColor;
  ```

------

### **6. 内置变量**

GLSL 提供一些内置变量，用于特定功能。

#### **（1）顶点着色器内置变量**

- ```
  gl_Position
  ```

  ：必须设置，用于指定裁剪空间的顶点坐标。

  ```glsl
  gl_Position = u_projectionMatrix * u_modelViewMatrix * vec4(a_position, 1.0);
  ```

#### **（2）片段着色器内置变量**

- ```
  gl_FragColor
  ```

  （WebGL1）：指定片段的最终颜色。

  ```glsl
  gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0); // 红色
  ```

- `gl_FragDepth`（可选）：修改片段的深度值。

------

### **总结**

| 类型           | 说明                              | 示例                                      |
| -------------- | --------------------------------- | ----------------------------------------- |
| **基本类型**   | `int`, `float`, `bool`            | `int i = 10;`                             |
| **向量类型**   | `vec2`, `vec3`, `vec4`, `ivec3`   | `vec4 color = vec4(1.0, 0.5, 0.0, 1.0);`  |
| **矩阵类型**   | `mat2`, `mat3`, `mat4`            | `mat4 transform = mat4(...);`             |
| **采样器类型** | `sampler2D`, `samplerCube`        | `uniform sampler2D u_texture;`            |
| **结构体类型** | `struct`                          | `struct Light { vec3 pos; vec3 color; };` |
| **修饰符变量** | `attribute`, `uniform`, `varying` | `uniform mat4 u_mvpMatrix;`               |

GLSL 变量类型的设计使得开发者可以高效处理 3D 渲染所需的几何和纹理操作，同时提供灵活性来扩展和组织数据。